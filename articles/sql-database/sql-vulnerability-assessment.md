---
title: Avaliação da vulnerabilidade SQL - SQL Database do Azure | Microsoft Docs
description: Saiba como configurar e avaliação da vulnerabilidade de SQL na base de dados do SQL Server e interpretar os relatórios de avaliação.
services: sql-database
author: ronitr
manager: craigg
ms.service: sql-database
ms.topic: article
ms.date: 05/17/2018
ms.author: ronitr
ms.reviewer: carlrab
ms.openlocfilehash: 3c32f0c9eaef6c72598afe7796bc74daafbc2366
ms.sourcegitcommit: b6319f1a87d9316122f96769aab0d92b46a6879a
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 05/20/2018
---
# <a name="sql-vulnerability-assessment"></a>Avaliação de Vulnerabilidades do SQL

Avaliação da vulnerabilidade de SQL Server é uma fácil de configurar o serviço que pode detetar, controlar e ajudar a remediar potenciais vulnerabilidades de base de dados. Utilizá-la para proativamente melhoram a segurança de base de dados. 

Avaliação da vulnerabilidade faz parte o [proteção contra ameaças avançadas do SQL Server](sql-advanced-threat-protection.md) oferta (ATP), que é um pacote unificado para capacidades avançadas de segurança do SQL Server. Avaliação da vulnerabilidade pode ser acedida e gerida através do portal do central ATP do SQL Server.

## <a name="what-is-vulnerability-assessment"></a>O que é a Avaliação de Vulnerabilidades?
Avaliação de Vulnerabilidade do SQL Server (VA) é um serviço que fornece visibilidade sobre o estado de segurança e inclui passos acionáveis para resolver problemas de segurança e para melhorar a segurança da base de dados. -Pode ajudá-lo:  
- Cumpre os requisitos de conformidade que exigem a relatórios de análise da base de dados.  
- Cumprir as normas de privacidade de dados.  
- Monitorize um ambiente de base de dados dinâmico onde são difíceis de controlar as alterações.  

VA é um serviço de análise criado para o serviço SQL Database do Azure. O serviço utiliza uma base de dados de conhecimento de regras que sinalizador vulnerabilidades de segurança e realçá desvios em relação às melhores práticas, como as configurações incorretas, permissões excessivos e dados confidenciais não protegidos. As regras são baseadas em melhores práticas e foco sobre os problemas de segurança que apresentam os maiores riscos para a base de dados e os respetivos dados importantes da Microsoft. Estes abrangem os problemas ao nível da base de dados, bem como problemas de segurança ao nível do servidor, como definições de firewall do servidor e permissões ao nível do servidor. Estas regras também representam muitos dos requisitos de corpos de regulamentação várias para cumprir as normas de conformidade.  

Resultados da verificação incluem passos acionáveis para resolver cada problema e fornecer os scripts de remediação personalizado onde for aplicável. Um relatório de avaliação pode ser personalizado para o seu ambiente através da definição de uma linha de base aceitável para configurações de permissão, configurações de funcionalidades e definições de base de dados.   

## <a name="implementing-va"></a>Implementar VA  
Os seguintes passos implementam VA na base de dados do SQL Server.  

## <a name="1-run-a-scan"></a>1. Executar uma análise  
Introdução ao VA navegando para **Advanced Threat Protection** sob o cabeçalho de segurança no seu painel SQL Database do Azure. Clique para ativar a proteção avançada contra ameaças e, em seguida, clique em de **avaliação da vulnerabilidade** no cartão, que abre automaticamente o cartão de definições de avaliação da vulnerabilidade. 

Comece por configurar uma conta do storage onde serão armazenados os resultados da análise. Para obter informações sobre as contas do storage, consulte [contas do storage do Azure sobre](../storage/common/storage-create-storage-account.md). Depois do armazenamento é configurado, clique em **analisar** para analisar a base de dados de vulnerabilidades.
  
![Uma base de dados de análise](./media/sql-vulnerability-assessment/pp_va_initialize.png)  
  > [!NOTE]   
  > A análise é simples e seguro. Demora alguns segundos para executar e é completamente só de leitura. Faça quaisquer alterações à base de dados.  

## <a name="2-view-the-report"></a>2. Ver o relatório  
Quando a análise estiver concluída, o relatório de análise é automaticamente apresentado no portal do Azure. O relatório apresenta uma descrição geral do Estado de segurança: foram encontrados problemas quantos e os respetivas gravidades. Os resultados incluem avisos sobre os desvios de melhores práticas e de um instantâneo das definições relacionadas com segurança, tais como os principais de base de dados e funções e as respetivas permissões associadas. O relatório de análise também fornece um mapa de dados confidenciais detetados na base de dados e inclui as recomendações para classificar os dados utilizando [dados de deteção & classificação](sql-database-data-discovery-and-classification.md). 
 
![Ver o relatório](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

## <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analise os resultados e resolver problemas  
Reveja os resultados e determinar findings no relatório que são problemas de segurança verdadeiro no seu ambiente. Desagregar para cada resultado com falhas para compreender o impacto da localizar e a razão pela qual cada verificação de segurança falhou. Utilize as informações de remediação acionável fornecidas pelo relatório para resolver o problema.  

![Analisar o relatório](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    

## <a name="4-set-your-baseline"></a>4. Definir a sua linha de base  
Como rever os resultados da avaliação, pode marcá-resultados específicos como sendo uma aceitável *linha de base* no seu ambiente. A linha de base é, essencialmente, a personalização da forma como os resultados são comunicados. Os resultados que correspondem a linha de base são considerados como transmitir em verificações subsequentes. Depois de estabelecer o estado de segurança de linha de base, VA apenas os relatórios sobre os desvios da linha de base e pode concentrar-se sua atenção os problemas relevantes.  

![Definir a sua linha de base](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

## <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Executar uma nova análise para ver o relatório controlo personalizado  
Depois de concluir a definição de cópia de segurança sua **linhas de base de regra**, execute uma nova análise para ver o relatório personalizado. VA agora comunica que apenas a segurança problemas que desvio do seu estado aprovadas da linha de base. 
 
![Ver o relatório personalizado](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

VA pode agora ser utilizado para monitorizar o que a base de dados mantém um elevado nível de segurança de todas as vezes e que as políticas da sua organização são cumpridas. Se forem necessários relatórios de conformidade, VA relatórios podem ser úteis facilitar o processo de compatibilidade.  

## <a name="6-set-up-periodic-recurring-scans"></a>6. Configurar verificações periódicas periódicas
Navegue para as definições de avaliação da vulnerabilidade ativassem **periódicas verificações periódicas**. Esta ação configura a avaliação da vulnerabilidade para executar automaticamente uma análise na base de dados uma vez por semana. Um resumo de resultados de análise será enviado para os endereços de e-mail que fornecer.

![Ver o relatório personalizado](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

## <a name="7---export-an-assessment-report"></a>7.   Exportar um relatório de avaliação
Clique em **exportar resultados de verificações** para criar um relatório de Excel transferível do resultado da análise. Este relatório contém um separador de resumo que mostra um resumo da avaliação, incluindo falhas todas as verificações. Também inclui um **resultados** separador que contém o conjunto completo de resultados da análise, incluindo todas as verificações que estavam a ser executada e os detalhes de resultado de cada. 

## <a name="8---view-scan-history"></a>8.   Ver histórico de análise
Clique em **histórico de análise** no painel de VA para ver um histórico de todas as análises anteriormente executados nesta base de dados. Selecione uma análise específica na lista para ver os resultados detalhados dessa análise.

VA pode agora ser utilizado para monitorizar o que a base de dados mantém um elevado nível de segurança de todas as vezes e que as políticas da sua organização são cumpridas. Se forem necessários relatórios de conformidade, VA relatórios podem ser úteis facilitar o processo de compatibilidade.

## <a name="next-steps"></a>Passos Seguintes  

- Saiba mais sobre [SQL Advanced Threat Protection](sql-advanced-threat-protection.md)
- Saiba mais sobre [dados de deteção & classificação](sql-database-data-discovery-and-classification.md)
