---
title: Notas de versão do armazém de dados SQL do Azure | Documentos da Microsoft
description: Notas de versão do Azure SQL Data Warehouse.
services: sql-data-warehouse
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.subservice: manage
ms.date: 03/27/2019
author: anumjs
ms.author: anjangsh
ms.reviewer: jrasnick
manager: craigg
ms.openlocfilehash: 8f852fe67443193ad19cb9bd57e0fd2294f3c817
ms.sourcegitcommit: 62d3a040280e83946d1a9548f352da83ef852085
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 04/08/2019
ms.locfileid: "59266040"
---
# <a name="azure-sql-data-warehouse-release-notes"></a>Notas de versão do armazém de dados SQL do Azure

Este artigo resume as novas funcionalidades e melhorias nas versões recentes do [do Azure SQL Data Warehouse](sql-data-warehouse-overview-what-is.md). O artigo também apresenta uma lista de atualizações de conteúdo relevantes que não estão diretamente relacionados com o lançamento, mas publicadas no mesmo intervalo de tempo. Para aprimoramentos a outros serviços do Azure, consulte [as atualizações de serviço](https://azure.microsoft.com/updates).

## <a name="march-2019"></a>Março de 2019

| Melhorias de serviço | Detalhes |
| --- | --- |
|**Importância da carga de trabalho agora disponível para pré-visualização**|Importância da carga de trabalho fornece os engenheiros de dados a capacidade de utilizar importância para classificar pedidos. Pedidos com maior importância garantia mais rápido acesso aos recursos, que ajuda a cumprir os SLAs.  Importância da carga de trabalho permite que o trabalho de valor de negócio de elevada cumprir os SLAs num ambiente compartilhado com menos recursos.<br/><br/>Para obter mais informações sobre a importância da carga de trabalho, consulte a [classificação](sql-data-warehouse-workload-classification.md) e [importância](sql-data-warehouse-workload-importance.md) artigos de descrição geral na documentação. Veja a [CLASSIFICADOR de carga de trabalho de criar](/sql/t-sql/statements/create-workload-classifier-transact-sql?view=azure-sqldw-latest) doc também.<br/><br/>Veja a importância da carga de trabalho em ação no abaixo vídeos:<br/>[Conceitos de gestão da carga de trabalho](  https://www.youtube.com/embed/QcCRBAhoXpM)<br/>[Cenários de gestão da carga de trabalho](https://www.youtube.com/embed/_2rLMljOjw8)|
|**AGRUPAR POR ROLLUP**|ROLLUP agora é uma opção suportada GROUP BY no armazém de dados do Azure.   GRUPO por ROLLUP cria um grupo para cada combinação de expressões de coluna. GROUP BY também "agrega" os resultados em subtotais e totais gerais. Para fazer isso, ele passa da direita para a esquerda, diminuindo o número de expressões de coluna sobre o qual cria grupos e aggregation(s).  A ordem da coluna afeta a saída de agregação e pode afetar o número de linhas no conjunto de resultados.<br/><br/>Para obter mais informações sobre a agregação por grupo, consulte o artigo, [GROUP BY (Transact-SQL)](/sql/t-sql/queries/select-group-by-transact-sql?view=azure-sqldw-latest)
|**Maior exatidão para DWU utilizado e as métricas de portais de CPU**|O SQL Data Warehouse melhora significativamente a precisão de métrica no portal do Azure.  Esta versão inclui uma correção para a definição de métrica da CPU e DWU utilizado para refletir corretamente sua carga de trabalho de todos os nós de computação. Antes desta correção, os valores de métrica estavam sendo undereported. Espere ver um aumento de DWU utilizado e as métricas de CPU no portal do Azure. |
|**Suporte adicional de T-SQL**|A área de superfície de linguagem T-SQL para o SQL Data Warehouse foi expandida para incluir o suporte para:<br/>&bull; &nbsp; [FORMAT (Transact-SQL)](/sql/t-sql/functions/format-transact-sql)<br/>&bull; &nbsp;    [STRING_ESCAPE (Transact-SQL)](/sql/t-sql/functions/string-escape-transact-sql)<br/>&bull; &nbsp; [STRING_SPLIT (Transact-SQL)](/sql/t-sql/functions/string-split-transact-sql)<br/>&bull; &nbsp; [TRANSLATE (Transact-SQL)](/sql/t-sql/functions/translate-transact-sql)<br/>&bull; &nbsp; [TRIM (Transact-SQL)](/sql/t-sql/functions/trim-transact-sql)
| | |

### <a name="documentation-improvements"></a>Melhorias de documentação

| Melhorias de documentação | Detalhes |
| --- | --- |
|Novos documentos de gestão da carga de trabalho |Para obter mais informações, consulte [importância](sql-data-warehouse-workload-importance.md) e [classificação](sql-data-warehouse-workload-classification.md). |
| | |

## <a name="january-2019"></a>Janeiro de 2019

### <a name="service-improvements"></a>Melhorias de serviço

| Melhorias de serviço | Detalhes |
| --- | --- |
|**Devolver a ordem pela Otimização**|SELECIONE... ORDER BY consultas obtém um aumento do desempenho nesta versão.   Agora, todos os computação nós enviar que os resultados para um único nó, que une e ordena os resultados, que são devolvidos ao utilizador através do nó de computação de computação.  Intercalar através de um resultados do nó de computação único num ganho de desempenho significativo quando o conjunto de resultados de consulta contém um grande número de linhas. Anteriormente, o motor de execução de consulta seria ordenar os resultados em cada nó de computação e transmiti-los para o nó de controlo, que, em seguida, seria unir os resultados.|
|**Aprimoramentos de movimento de dados para PartitionMove e BroadcastMove**|Técnicas de movimento de dados instantâneas descritas em utilizar o Azure SQL Data Warehouse Gen2, etapas de movimento de dados do tipo ShuffleMove, o [blog de aprimoramentos de desempenho](https://azure.microsoft.com/blog/lightning-fast-query-performance-with-azure-sql-data-warehouse/). Com esta versão, os tipos de movimento de dados PartitionMove e BroadcastMove têm agora também a tecnologia as mesmas técnicas de movimento de dados instantânea. Consultas de utilizador que utilizam esses tipos de passos de movimento de dados serão executado com melhoria do desempenho. Nenhuma alteração de código é necessário para aproveitar esses aprimoramentos de desempenho.|
|**Bugs notáveis**|Obter a versão incorreta do Azure SQL Data Warehouse - `SELECT @@VERSION` podem devolver a versão incorreta, 10.0.9999.0. A versão correta para a versão atual é 10.0.10106.0. Esse bug foi comunicado e está em revisão.
| | |

### <a name="documentation-improvements"></a>Melhorias de documentação

| Melhorias de documentação | Detalhes |
| --- | --- |
|nenhum | |
| | |

## <a name="december-2018"></a>Dezembro de 2018

### <a name="service-improvements"></a>Melhorias de serviço

| Melhorias de serviço | Detalhes |
| --- | --- |
|**Rede virtual pontos finais de serviço disponíveis em geral**|Esta versão inclui a disponibilidade geral de pontos finais de serviço de rede Virtual (VNet) do Azure SQL Data Warehouse em todas as regiões do Azure. Pontos finais de serviço de VNet permitem-lhe isolar conectividade ao seu servidor lógico de uma determinada sub-rede ou um conjunto de sub-redes na sua rede virtual. O tráfego para o Azure SQL Data Warehouse da sua VNet sempre irá permanecer na rede backbone do Azure. Esta rota direta terá preferência sobre quaisquer rotas específicas que assumem o tráfego de Internet através de aplicações virtuais ou no local. Uma faturação sem adicional é cobrada para acesso de rede virtual através de pontos finais de serviço. Atual modelo para de preços [do Azure SQL Data Warehouse](https://azure.microsoft.com/pricing/details/sql-data-warehouse/gen2/) aplica-se como está.<br/><br/>Com esta versão, ativámos também conectividade PolyBase [Gen2 de armazenamento do Azure Data Lake](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) (ADLS) via [sistema de ficheiros de Blob do Azure](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-abfs-driver) driver (ABFS). Geração de armazenamento 2 do Azure Data Lake traz as qualidades que são necessárias para o ciclo de vida dos dados de análise para o armazenamento do Azure. Funcionalidades dos dois armazenamento do Azure serviços existentes, armazenamento de Blobs do Azure e de geração 1 de armazenamento do Azure Data Lake são convergidas. Funcionalidades do [Gen1 de armazenamento do Azure Data Lake](https://docs.microsoft.com/azure/data-lake-store/index), como semântica do sistema de ficheiros, ao nível do ficheiro segurança e dimensionamento são combinados com armazenamento em camadas e de baixo custo e capacidades de recuperação de alta disponibilidade/desastre de [ Armazenamento de Blobs do Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction).<br/><br/>Com o Polybase pode também importar dados para o Azure SQL Data Warehouse do armazenamento do Azure obtidos para a VNet. Da mesma forma, o exportar dados do Azure SQL Data Warehouse para o armazenamento do Azure obtidos para a VNet também é suportada através do Polybase.<br/><br/>Para obter mais informações sobre pontos finais de serviço de VNet no Azure SQL Data Warehouse, consulte a [mensagem de blogue](https://azure.microsoft.com/blog/general-availability-of-vnet-service-endpoints-for-azure-sql-data-warehouse/) ou o [documentação](https://docs.microsoft.com/azure/sql-database/sql-database-vnet-service-endpoint-rule-overview?toc=/azure/sql-data-warehouse/toc.json).|
|**Monitorização (pré-visualização) de desempenho automática**|[Consulta Store](https://docs.microsoft.com/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-2017) está agora disponível em pré-visualização do Azure SQL Data Warehouse. Consulta Store foi concebido para ajudá-lo com resolução de problemas através da monitorização de consultas, planos de consulta, estatísticas de tempo de execução e histórico de consulta para ajudar a monitorizar a atividade e o desempenho do seu armazém de dados de desempenho de consulta. Consulta Store é um conjunto de arquivos internos e vistas de gestão (DMVs) dinâmica que lhe permitem:<br/><br/>&bull; &nbsp; Identificar e ajustar os recursos principais consultas de consumo<br/>&bull; &nbsp; Identificar e melhorar as cargas de trabalho ad hoc<br/>&bull; &nbsp; Avaliar o desempenho da consulta e o impacto para o plano pelas alterações no estatísticas, índices ou tamanho do sistema (definição de DWU)<br/>&bull; &nbsp; Ver texto de consulta completa para todas as consultas executadas<br/><br/>O Store de consulta contém três armazenamentos reais:<br/>&bull; &nbsp; Um arquivo de plano para manter as informações de plano de execução<br/>&bull; &nbsp; Um arquivo de estatísticas de tempo de execução para manter as informações de estatísticas de execução<br/>&bull; &nbsp; Um arquivo de estatísticas de espera para manter informações de estatísticas de espera.<br/><br/>O SQL Data Warehouse gere automaticamente estes arquivos e fornece um número ilimitado de consultas storied durante os últimos sete dias sem encargos adicionais. Ativar consulta Store é tão simples quanto executar uma instrução ALTER DATABASE T-SQL: <br/>SQL---QUERY_STORE definido de ALTER DATABASE [nome da base de dados] = ON; ---para obter mais informações sobre Store de consulta no Azure SQL Data Warehouse, consulte o artigo [a monitorização de desempenho utilizando a Store de consulta](/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store)e DMVs de Store consulta, por exemplo, [sys.query_store_query](/sql/relational-databases/system-catalog-views/sys-query-store-query-transact-sql). Aqui está o [mensagem de blogue](https://azure.microsoft.com/blog/automatic-performance-monitoring-in-azure-sql-data-warehouse-with-query-store/) anunciando o lançamento.|
|**Camadas inferiores de computação para a geração 2 de armazém de dados SQL do Azure**|Azure SQL Data Warehouse Gen2 suporta agora as camadas inferiores de computação. Os clientes poderão experimentar o do Azure SQL Data Warehouse desempenho líder, flexibilidade e recursos de segurança a partir do 100 cDWU ([unidades do Data Warehouse](what-is-a-data-warehouse-unit-dwu-cdwu.md)) e o dimensionamento para 30 000 cDWU em minutos. A partir de meados de Dezembro de 2018, os clientes podem beneficiar do desempenho de geração 2 e camadas de computação de flexibilidade com menor [regiões](gen2-migration-schedule.md#automated-schedule-and-region-availability-table), com o restante das regiões disponíveis durante 2019.<br/><br/>Ao remover o ponto de entrada para armazenamento de dados de próxima geração, Microsoft abre as portas para os clientes baseadas no valor que pretendem avaliar todas as vantagens de um armazém de dados segura de alto desempenho sem adivinhar qual ambiente de avaliação é melhor para eles. Os clientes podem começar como tão baixos como 100 cDWU, para baixo do ponto de entrada de 500 cDWU atual. SQL Data Warehouse Gen2 continua a suportar a colocação em pausa e retomar as operações e vai para além de apenas a flexibilidade na computação. Geração 2 também suporta a capacidade de armazenamento de arquivo de colunas ilimitado, juntamente com mais de 2,5 vezes mais memória por consulta, até a 128 consultas em simultâneo e [colocação em cache adaptável](https://azure.microsoft.com/blog/adaptive-caching-powers-azure-sql-data-warehouse-performance-gains/) funcionalidades. Esses recursos em média, colocar mais de cinco vezes desempenho em comparação comparada a mesma unidade do armazém de dados na geração 1 ao mesmo preço. As cópias de segurança georredundante são padrão para Gen2 com proteção de dados garantida incorporada. Azure SQL Data Warehouse Gen2 está pronto para ser dimensionado quando estiver.|
|**Intercalação de plano de fundo de Columnstore**|Por predefinição, Azure SQL Data Warehouse (Azure SQL DW) armazena dados no formato colunar, com chamada de partições de micro [grupos de linhas](sql-data-warehouse-memory-optimizations-for-columnstore-compression.md). Às vezes, devido a memória restringe no índice de compilação ou dados de tempo de carga, os grupos de linhas podem ser comprimidos com menos do que o tamanho ideal de um milhão de linhas. Grupos de linhas também podem se tornar fragmentados devido a elimina. Grupos de linhas de pequenos ou fragmentados resultam em maior consumo de memória, bem como a execução da consulta ineficiente. Com esta versão do Azure SQL DW, a tarefa de manutenção do plano de fundo de columnstore mescla pequenos grupos de linhas comprimidos para criar grupos de linhas maiores melhor utilizar memória e acelerar a execução da consulta.
| | |

## <a name="october-2018"></a>Outubro de 2018

### <a name="service-improvements"></a>Melhorias de serviço

| Melhorias de serviço | Detalhes |
| --- | --- |
|**DevOps para armazenamento de dados**|O recurso altamente solicitado para o SQL Data Warehouse (SQL DW) já está em pré-visualização com o suporte para o SQL Server Data ferramenta (SSDT) no Visual Studio! Equipes de desenvolvedores podem agora colaborar ao longo de uma base de código único, controlados por versão e implementar rapidamente as alterações para qualquer instância do mundo. Interessado em associação? Esta funcionalidade está disponível para pré-visualização hoje mesmo! Pode se registrar visitando o [SQL dados armazém Visual Studio SQL Server Data Tools (SSDT) - o formulário de inscrição de pré-visualização](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR4-brmKy3TZOjoktwuHd7S1UODkwQ1lVMEw1NDBGRjNLRDNWOFlQRUpIRi4u). Devido uma procura elevada, estamos gerenciando aceitação no pré-visualização para garantir a melhor experiência para os nossos clientes. Assim que estiver inscrito, o nosso objetivo é confirmar o estatuto de dentro de sete dias de negócios.|
|**Segurança ao nível da linha em disponibilidade geral**|O Azure SQL Data Warehouse (SQL DW) suporta agora a segurança de nível de linha (RLS) adicionando uma funcionalidade poderosa para proteger os dados confidenciais. Com a introdução da RLS, é possível implementar políticas de segurança para controlar o acesso às linhas das tabelas, como em quem podem acessar quais linhas. RLS permite este controlo de acesso detalhado sem ter de redesenhar o seu armazém de dados. RLS simplifica o modelo de segurança geral, como a lógica de restrição de acesso está localizada na camada de base de dados em si, em vez de longe os dados em outro aplicativo. RLS também elimina a necessidade de apresentar vistas para filtrar as linhas para gestão de controlo de acesso. Não existe nenhum custo adicional para esta funcionalidade de segurança de nível empresarial para todos os nossos clientes.|
|**Consultores avançadas**|Avançadas otimização para o Azure SQL Data Warehouse (SQL DW) apenas ficou mais simples com recomendações de armazém de dados adicionais e métricas. Existem recomendações de desempenho avançadas adicionais através do Assistente do Azure à sua disposição, incluindo:<br/><br/>1. Cache adaptável – ser avisado quando a escala para otimizar a utilização da cache.<br/>2. Distribuição da tabela – determinar quando replicar tabelas para reduzir o movimento de dados e aumentar o desempenho da carga de trabalho.<br/>3. Tempdb – compreender quando dimensionar e configurar recursos classes para reduzir a contenção do tempdb.<br/><br/>Há uma integração mais profunda das métricas de armazém de dados com [do Azure Monitor](https://azure.microsoft.com/blog/enhanced-capabilities-to-monitor-manage-and-integrate-sql-data-warehouse-in-the-azure-portal/) incluindo um gráfico monitorização personalizável aprimorado para métricas em tempo real quase no painel de descrição geral. Já não precisa de deixar que o painel de descrição geral do armazém de dados aceda às métricas do Azure Monitor quando monitorizar a utilização ou validar e aplicar as recomendações do armazém de dados. Além disso, existem novas métricas disponíveis, como tempdb e a utilização de cache adaptável para complementar as suas recomendações de desempenho.|
|**Advanced ajuste com assistentes integrados**|Avançadas otimização para o Azure SQL Data Warehouse (SQL DW) apenas ficou mais simples com recomendações de armazém de dados adicionais e métricas e um novo projeto do painel de descrição geral do portal que fornece uma experiência integrada com o Assistente do Azure e o Azure Monitor.|
|**Recuperação de base de dados acelerada (ADR)**|Do Azure SQL Data Warehouse acelerada da base de dados recuperação (ADR) está agora em pré-visualização pública. Regras de implementação automática são um novo motor SQL Server que melhora significativamente a disponibilidade de base de dados, especialmente na presença de transações de longa execução, por redesenhar completamente o processo de recuperação atual desde o backup. Principais vantagens da ADR são recuperação rápida e consistente da base de dados e reversão de transação de instantâneo.|
|**Registos de diagnóstico do Azure Monitor**|O SQL Data Warehouse (SQL DW) agora permite que informações melhoradas para cargas de trabalho analíticas integrando diretamente com os registos de diagnóstico do Azure Monitor. Esta nova capacidade permite aos programadores analisar o comportamento de carga de trabalho durante um período de tempo prolongado e tomar decisões informadas sobre o gerenciamento de otimização ou capacidade de consulta. Agora introduzimos um processo de Registro em log externos por meio [registos de diagnóstico do Azure Monitor](https://docs.microsoft.com/azure/monitoring/monitoring-data-collection?toc=/azure/azure-monitor/toc.json#logs) que fornecem informações adicionais sobre a sua carga de trabalho do armazém de dados. Com um único clique de um botão, agora é possível configurar os registos de diagnóstico para através de capacidades de resolução de problemas de desempenho de consulta histórica [do Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-queries). Registos de diagnóstico de Monitor do Azure suportam períodos de retenção personalizável ao guardar os registos de uma conta de armazenamento para fins, de auditoria a capacidade de transmitir os registos para os hubs de eventos perto de informações de telemetria em tempo real e a capacidade de analisar registos com o Log Analytics com as consultas de registo. Os registos de diagnósticos consistem em visualizações de telemetria do seu armazém de dados equivalentes às DMVs de resolução de problemas de desempenho utilizadas com mais frequência para o SQL Data Warehouse. Nesta versão inicial, ativámos vistas para as seguintes vistas de gestão dinâmica do sistema:<br/><br/>&bull; &nbsp; [sys.dm_pdw_exec_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-requests-transact-sql)<br/>&bull; &nbsp; [sys.dm_pdw_request_steps](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-request-steps-transact-sql)<br/>&bull; &nbsp; [sys.dm_pdw_dms_workers](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-dms-workers-transact-sql)<br/>&bull; &nbsp; [sys.dm_pdw_waits](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-waits-transact-sql)<br/>&bull; &nbsp; [sys.dm_pdw_sql_requests](/sql/relational-databases/system-dynamic-management-views/sys-dm-pdw-sql-requests-transact-sql)|
|**Gerenciamento de memória de Columnstore**|À medida que aumenta o número de grupos de linhas do arquivo de coluna comprimido, aumenta a memória necessária para gerir os metadados de segmento de coluna interna para esses grupos de linhas.  Como resultado, podem degradar o desempenho das consultas e as consultas executadas em relação a algumas as vistas de gestão dinâmica Columnstore (DMVs).  Aprimoramentos feitos nesta versão para otimizar o tamanho dos metadados interno para estes casos, que leva a experiência melhorada e desempenho para estas consultas.|
|**Integração de geração 2 de armazenamento do Data Lake (disponibilidade geral do Azure**|O Azure SQL Data Warehouse (SQL DW) agora tem uma integração nativa com geração 2 de armazenamento do Azure Data Lake. Os clientes agora podem carregar dados com tabelas externas de ABFS para o SQL DW. Esta funcionalidade permite aos clientes integrar com seus lakes de dados na geração 2 de armazenamento do Data Lake.|
|**Bugs notáveis**|CETAS a falhas de Parquet em classes de recursos pequeno em armazéns de dados de DW2000 e muito mais – esta correção identifica corretamente uma referência nula na criar externo tabela como caminho de código Parquet.<br/><br/>Valor da coluna de identidade poderá perder algumas operação CTAS - não pode ser mantido o valor de uma coluna de identidade quando CTASed para outra tabela. Comunicados num [blogue](https://blog.westmonroepartners.com/azure-sql-dw-identity-column-bugs/).<br/><br/>Falha interna em alguns casos, quando uma sessão é terminada enquanto uma consulta ainda está em execução – Esta correção aciona uma InvalidOperationException se uma sessão é terminada quando a consulta ainda está em execução.<br/><br/>(Implementado em Novembro de 2018) Os clientes estavam tendo um desempenho inferior ao ideal ao tentar carregar vários arquivos pequenos do ADLS (geração 1) com o Polybase. -Desempenho do sistema foi um afunilamento durante a validação de token de segurança do AAD. Problemas de desempenho foram atenuados ao ativar a colocação em cache de tokens de segurança. |
| | |

## <a name="next-steps"></a>Passos Seguintes

- [criar um SQL Data Warehouse](./create-data-warehouse-portal.md)

## <a name="more-information"></a>Mais informações

- [Blogue - Azure SQL Data Warehouse](https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/)
- [Blogues da Equipa Customer Advisory](https://blogs.msdn.microsoft.com/sqlcat/tag/sql-dw/)
- [Histórias de sucesso de clientes](https://azure.microsoft.com/case-studies/?service=sql-data-warehouse)
- [Fórum do Stack Overflow](https://stackoverflow.com/questions/tagged/azure-sqldw)
- [Twitter](https://twitter.com/hashtag/SQLDW)
- [Vídeos](https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse)
- [Glossário do Azure](../azure-glossary-cloud-terminology.md)
