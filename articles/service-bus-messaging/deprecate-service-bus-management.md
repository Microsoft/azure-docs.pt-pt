---
title: Serviços de mensagens Azure - Gestor de Serviços para Gestor de Recursos
description: Este artigo fornece mapeamento de cmdlets de Azure Service Manager preprodutado REST & PowerShell a Resource Manager API & powerShell cmdlets.
ms.topic: article
ms.date: 09/25/2020
ms.openlocfilehash: b82772b364bbc44a898197e7fafd11b33e2e6320
ms.sourcegitcommit: 910a1a38711966cb171050db245fc3b22abc8c5f
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/19/2021
ms.locfileid: "92518794"
---
# <a name="deprecation-of-azure-service-manager-support-for-azure-service-bus-relay-and-event-hubs"></a>Depreciação do suporte do Azure Service Manager para Azure Service Bus, Relay e Event Hubs

O Resource Manager, a nossa pilha de infraestruturas em nuvem de próxima geração, está a substituir totalmente o modelo "clássico" de Gestão de Serviços Azure (modelo clássico de implementação). Como resultado, o modelo de implementação clássico REST APIs e suporte para Service Bus, Relay e Event Hubs será retirado a 1 de novembro de 2021. Esta depreciação foi anunciada pela primeira vez num [anúncio da Microsoft Tech Community](https://techcommunity.microsoft.com/t5/Service-Bus-blog/Deprecating-Service-Management-support-for-Azure-Service-Bus/ba-p/370909), mas recentemente decidimos prolongar o período de depreciação mais dois anos a contar do momento do anúncio original. Para uma identificação fácil, estas APIs têm `management.core.windows.net` no seu URI. Consulte a tabela seguinte para obter uma lista das APIs prevadas e a versão API do Gestor de Recursos Azure que deve agora utilizar.

Para continuar a usar Service Bus, Relay e Event Hubs, mude-se para Resource Manager até 31 de outubro de 2021. Encorajamos todos os clientes que ainda estão a usar as antigas APIs para fazerem a troca em breve para tirar partido dos benefícios adicionais do Gestor de Recursos, que incluem o agrupamento de recursos, tags, um processo de implementação e gestão simplificado, e um controlo de acesso de grãos finos usando o controlo de acesso baseado em funções Azure (Azure RBAC).

Para obter mais informações sobre Azure Resource Manager vs Azure Service Manager, consulte o [Blog TechNet](https://blogs.technet.microsoft.com/meamcs/2016/12/22/difference-between-azure-service-manager-and-azure-resource-manager/).

Para obter mais informações sobre O Gestor de Serviços e APIs do Gestor de Recursos para Azure Service Bus, Relay e Event Hubs, consulte a nossa documentação REST API:

- [Azure Service Bus](/rest/api/servicebus/)
- [Hubs de Eventos do Azure](/rest/api/eventhub/)
- [Reencaminhamento do Azure](/rest/api/relay/)

## <a name="service-manager-rest-api---resource-manager-rest-api"></a>Gestor de ServiçoS REST API - Gestor de Recursos REST API

| APIs do Gestor de Serviços (Preprecado) | Gestor de Recursos - Service Bus API | Gestor de Recursos - Centro de Eventos API | Gestor de Recursos - Relay API |
| --------------- | ----------------- | ----------------- | ----------------- | 
| **Espaços de nome-GetNamespaceAsync** <br/>[Serviço de ônibus get namespace](/rest/api/servicebus/get-namespace)<br/>[Centro de eventos Obter Espaço de Nome](/rest/api/eventhub/get-event-hub)<br/>[Relay Get Namespace](/rest/api/servicebus/get-relays)<br/> ```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}``` | [Obter](/rest/api/servicebus/stable/namespaces/get) | [Obter](/rest/api/eventhub/2017-04-01/namespaces/get) | [Obter](/rest/api/relay/namespaces/get) |
| **ConexãoDetails-GetConnectionDetails**<br/>Service Bus/Event Hub/Relay GetConnectionDetals<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/ConnectionDetails``` | [listkeys](/rest/api/servicebus/stable/namespaces%20-%20authorization%20rules/listkeys) | [listkeys](/rest/api/eventhub/2017-04-01/authorization%20rules%20-%20event%20hubs/listkeys) | [listkeys](/rest/api/relay/namespaces/listkeys) |
| **Tópicos-GetTopicsAsync**<br/>Service Bus<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/topics? $skip={skip}&$top={top}``` | [lista](/rest/api/servicebus/stable/topics/listbynamespace) | &nbsp; | &nbsp; | 
| **Filas-GetQueueAsync** <br/>Service Bus<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/queues/{queueName}``` | [Obter](/rest/api/servicebus/stable/queues/get) | &nbsp; | &nbsp; | 
| **Relays-GetRelaysAsync**<br/>[Obter Retransmissores](/rest/api/servicebus/get-relays)<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/relays? $skip={skip}&$top={top}```| &nbsp; | &nbsp; | [lista](/rest/api/relay/wcfrelays/listbynamespace) | 
| **NamespaceAuthorizationRules-GetNamespaceAuthorizationRuleAsync**<br/>Service Bus/Event Hub/Relay GetNamespaceAuthRule<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/authorizationrules?``` | [obter regra de ororização](/rest/api/servicebus/stable/namespaces%20-%20authorization%20rules/getauthorizationrule) | [obter regra de ororização](/rest/api/eventhub/2017-04-01/authorization%20rules%20-%20namespaces/getauthorizationrule) | [obter regra de ororização](/rest/api/relay/namespaces/getauthorizationrule) |
| **Espaços de nome-DeleteNamespaceAsync**<br/>[Serviço ônibus eliminar espaço de nome](/rest/api/servicebus/delete-namespace)<br/>[Os centros de eventos eliminam o espaço de nomes](/rest/api/eventhub/delete-event-hub)<br/>[Retransmites Apagar Espaço de Nome](/rest/api/servicebus/delete-namespace)<br/> ```DELETE  https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}``` | [eliminar](/rest/api/servicebus/stable/namespaces/delete) | [eliminar](/rest/api/eventhub/2017-04-01/namespaces/delete) | [eliminar](/rest/api/relay/namespaces/delete) | 
| **MensagensSKUPlan-GetPlanAsync**<br/>Service Bus/Event Hub/Relay Get Namespace<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/MessagingPlan``` | [Obter](/rest/api/servicebus/stable/namespaces/get) | [Obter](/rest/api/eventhub/2017-04-01/namespaces/get) | [Obter](/rest/api/relay/namespaces/get) |
| **MensagensSKUPlan-UpdatePlanAsync**<br/>Service Bus/Event Hub/Relay Get Namespace<br/>```PUT https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/MessagingPlan``` | [createorupdate](/rest/api/servicebus/stable/namespaces/createorupdate) | [createorupdate](/rest/api/eventhub/2017-04-01/namespaces/createorupdate) | [createorupdate](/rest/api/relay/namespaces/createorupdate) |
| **NamespaceAuthorizationRules-UpdateNamespaceAuthorizationRuleAsync**<br/>Service Bus/Event Hub/Relay Get Namespace<br/>```PUT https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/AuthorizationRules/{rule name}``` | [createorupdate](/rest/api/servicebus/stable/namespaces/createorupdate) | [regra createorupdateauthorizationrule](/rest/api/eventhub/2017-04-01/authorization%20rules%20-%20event%20hubs/createorupdateauthorizationrule) | [regra createorupdateauthorizationrule](/rest/api/relay/namespaces/createorupdateauthorizationrule) | 
| **NamespaceAuthorizationRules-CreateNamespaceAuthorizationRuleAsync**<br/> 
Ônibus de serviço/centro de eventos/relé<br/>```PUT https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/AuthorizationRules/{rule name}``` |[createorupdate](/rest/api/servicebus/stable/namespaces/createorupdate) | [regra createorupdateauthorizationrule](/rest/api/eventhub/2017-04-01/authorization%20rules%20-%20event%20hubs/createorupdateauthorizationrule) | [regra createorupdateauthorizationrule](/rest/api/relay/namespaces/createorupdateauthorizationrule) |
| **NamespaceProperties-GetNamespacePropertiesAsync**<br/>[Serviço de ônibus get namespace](/rest/api/servicebus/get-namespace)<br/>[Centros de eventos obtêm espaço de nome](/rest/api/eventhub/get-event-hub)<br/>[Relay Get Namespace](/rest/api/servicebus/get-relays)<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}``` | [Obter](/rest/api/servicebus/stable/namespaces/get) | [Obter](/rest/api/eventhub/2017-04-01/namespaces/get) | [Obter](/rest/api/relay/namespaces/get) |
| **RegionCodes-GetRegionCodesAsync**<br/>Autocarro de serviço/EventHub/Relay Get Namespace<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}``` | [listbysku](/rest/api/servicebus/stable/regions/listbysku) | [listbysku](/rest/api/eventhub/2017-04-01/regions/listbysku) | &nbsp; | 
| **NamespaceProperties-UpdateNamespacePropertyAsync**<br/>Autocarro de serviço/EventHub/Relé<br/>```GET    https://management.core.windows.net/{subscription ID}/services/ServiceBus/Regions/``` | [createorupdate](/rest/api/servicebus/stable/namespaces/createorupdate) | [createorupdate](/rest/api/eventhub/2017-04-01/namespaces/createorupdate) | [createorupdate](/rest/api/relay/namespaces/createorupdate) |
| **EventHubsCrud-ListEventHubsAsync**<br/>[Centros de eventos de lista](/rest/api/eventhub/list-event-hubs)<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/eventhubs?$skip={skip}&$top={top}``` | &nbsp; | [lista](/rest/api/servicebus/stable/eventhubs/listbynamespace) | &nbsp; | 
| **EventHubsCrud-GetEventHubAsync**<br/>[Obter Centros de Eventos](/rest/api/eventhub/get-event-hub)<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/eventhubs/{eventHubPath}``` | &nbsp; | [Obter](/rest/api/eventhub/get-event-hub) | &nbsp; | 
| **NamespaceAuthorizationRules-DeleteNamespaceAuthorizationRuleAsync**<br/>Ônibus de serviço/centro de eventos/relé<br/>```DELETE https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/AuthorizationRules/{rule name}``` | [apagar regra de autorização](/rest/api/servicebus/stable/namespaces%20-%20authorization%20rules/deleteauthorizationrule) | [apagar regra de autorização](/rest/api/eventhub/2017-04-01/authorization%20rules%20-%20namespaces/deleteauthorizationrule) | [apagar regra de autorização](/rest/api/relay/namespaces/deleteauthorizationrule) |
| **NamespaceAuthorizationRules-GetNamespaceAuthorizationRulesAsync**<br/>Autocarro de serviço/EventHub/Relé<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/AuthorizationRules``` | [listauthorizaçãoules](/rest/api/relay/namespaces/listauthorizationrules) | [listauthorizaçãoules](/rest/api/eventhub/2017-04-01/authorization%20rules%20-%20namespaces/listauthorizationrules) | [listauthorizaçãoules](/rest/api/relay/namespaces/listauthorizationrules) |
| **NamespaceSAilability-IsNamespace Disponível**<br/>[Disponibilidade de espaço de nome de ônibus de serviço](/rest/api/servicebus/check-namespace-availability)<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/CheckNamespaceAvailability/?namespace=<namespaceValue>``` | [checknamedilability](/rest/api/servicebus/stable/namespaces%20-%20checkname%20availability/checknameavailability) | [checknamedilability](/rest/api/eventhub/2017-04-01/check%20name%20availability%20-%20namespaces/checknameavailability) | [checknamedilability](/rest/api/relay/namespaces/checknameavailability) |
| **Espaços de nome-CreateOrUpdateNamespaceAsync**<br/>Ônibus de serviço/centro de eventos/relé<br/>```PUT https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}``` | [createorupdate](/rest/api/servicebus/stable/namespaces/createorupdate) | [createorupdate](/rest/api/eventhub/2017-04-01/namespaces/createorupdate) | [createorupdate](/rest/api/relay/namespaces/createorupdate) | 
| **Tópicos-GetTopicAsync**<br/>```GET https://management.core.windows.net/{subscription ID}/services/ServiceBus/Namespaces/{namespace name}/topics/{topicPath}``` | [Obter](/rest/api/servicebus/stable/topics/get) | &nbsp; | &nbsp; |

## <a name="service-manager-powershell---resource-manager-powershell"></a>Gestor de Serviços PowerShell - Gestor de Recursos PowerShell
| Comando PowerShell do Gestor de Serviço (Deprecado) | Novos comandos de gestor de recursos | Comando de Gestor de Recursos Mais Recente |
| ----- | ----- | ----- | 
| [Get-AzureSBAuthorizationRule](/powershell/module/servicemanagement/azure.service/get-azuresbauthorizationrule) | [Get-AzureRmServiceBusAuthorizationRule](/powershell/module/azurerm.servicebus/get-azurermservicebusauthorizationrule) | [Get-AzServiceBusAuthorizationRule](/powershell/module/az.servicebus/get-azservicebusauthorizationrule) |
| [Get-AzureSBLocation](/powershell/module/servicemanagement/azure.service/get-azuresblocation) | [Get-AzureRmServiceBusGeoDRConfiguration](/powershell/module/azurerm.servicebus/get-azurermservicebusgeodrconfiguration) | [Get-AzServiceBusGeoDRConfiguration](/powershell/module/az.servicebus/get-azservicebusgeodrconfiguration) |
| [Get-AzureSBNamespace](/powershell/module/servicemanagement/azure.service/get-azuresbnamespace) | [Get-AzureRmServiceBusNamespace](/powershell/module/azurerm.servicebus/get-azurermservicebusnamespace) | [Get-AzServiceBusNamespace](/powershell/module/az.servicebus/get-azservicebusnamespace) |
| [New-AzureSBAuthorizationRule](/powershell/module/servicemanagement/azure.service/new-azuresbauthorizationrule) | [New-AzureRmServiceBusAuthorizationRule](/powershell/module/azurerm.servicebus/new-azurermservicebusauthorizationrule) | [Novo-AzServiceBusAuthorizationRule](/powershell/module/az.servicebus/new-azservicebusauthorizationrule) |
| [New-AzureSBNamespace](/powershell/module/servicemanagement/azure.service/new-azuresbnamespace) | [New-AzureRmServiceBusNamespace](/powershell/module/azurerm.servicebus/new-azurermservicebusnamespace) | [Novo AzServiceBusNamespace](/powershell/module/az.servicebus/new-azservicebusnamespace) |
| [Regra de remoção-AzureRmRelayAuthorizationRule](/powershell/module/azurerm.relay/remove-azurermrelayauthorizationrule) | [Remove-AzureRmEventHubAuthorizationRule](/powershell/module/azurerm.eventhub/remove-azurermeventhubauthorizationrule) | [Remove-AzServiceBusAuthorizationRule](/powershell/module/az.servicebus/remove-azservicebusauthorizationrule) |
| [Remove-AzureSBNamespace](/powershell/module/servicemanagement/azure.service/remove-azuresbnamespace) | [Remove-AzureRmServiceBusNamespace](/powershell/module/azurerm.servicebus/remove-azurermservicebusnamespace) | [Remove-AzServiceBusNamespace](/powershell/module/az.servicebus/remove-azservicebusnamespace) |
| [Set-AzureSBAuthorizationRule](/powershell/module/servicemanagement/azure.service/set-azuresbauthorizationrule) | [Set-AzureRmServiceBusAuthorizationRule](/powershell/module/azurerm.servicebus/set-azurermservicebusauthorizationrule) | [Set-AzServiceBusAuthorizationRule](/powershell/module/az.servicebus/set-azservicebusauthorizationrule) |

## <a name="next-steps"></a>Passos seguintes
Consulte a seguinte documentação: 

- Documentação mais recente da API REST
    - [Azure Service Bus](/rest/api/servicebus/)
    - [Hubs de Eventos do Azure](/rest/api/eventhub/)
    - [Reencaminhamento do Azure](/rest/api/relay/)
- Documentação mais recente da PowerShell
    - [Azure Service Bus](/powershell/module/azurerm.servicebus/#service_bus)
    - [Hubs de Eventos do Azure](/powershell/module/azurerm.eventhub/#event_hub)
    - [Azure Event Grid](/powershell/module/azurerm.eventgrid/#event_grid)
