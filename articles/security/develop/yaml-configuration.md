---
title: Guia de personalização de tarefas de análise de código de segurança do Microsoft Azure
description: Este artigo descreve listas opções de configuração YAML para personalizar todas as tarefas na extensão de Análise de Código de Segurança da Microsoft
author: sukhans
manager: sukhans
ms.author: terrylan
ms.date: 03/22/2021
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: a41a788a84770201996fd369d9b47031674afee3
ms.sourcegitcommit: ba3a4d58a17021a922f763095ddc3cf768b11336
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/23/2021
ms.locfileid: "104799552"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Opções de configuração YAML para personalizar as tarefas de construção

> [!Note]
> A partir de 1 de março de 2022, a extensão do Código de Segurança da Microsoft (MSCA) será retirada. Os clientes MSCA existentes manterão o seu acesso à MSCA até 1 de março de 2022. Consulte as [Ferramentas de Análise de Código Fonte OWASP](https://owasp.org/www-community/Source_Code_Analysis_Tools) para obter opções alternativas em Azure DevOps. Para clientes que planeiam migrar para o GitHub, você pode verificar [GitHub Advanced Security](https://docs.github.com/github/getting-started-with-github/about-github-advanced-security).

Este artigo lista todas as opções de configuração YAML disponíveis em cada uma das tarefas de construção. O artigo começa com as tarefas para ferramentas de análise de código de segurança. Termina com as tarefas pós-processamento.

## <a name="anti-malware-scanner-task"></a>Tarefa de scanner anti-malware

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DigitType | pickList | sempre | Verdadeiro | Básico | Básico, Personalizado | 
| ScanType | pickList | DigiteType = Básico | Verdadeiro | Personalizados | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | O tipo de digitalização a utilizar para a varredura antiMalware.
| FileDirPath | filePath | ScanType = CustomScan | Verdadeiro | $(Build.StagingDirectory) |  | Indica que o ficheiro ou o diretório devem ser digitalizados.
| Desativar a remediação | boolean | ScanType = CustomScan | Falso | true |  | Quando verificado: 1) As exclusões de ficheiros são ignoradas. 2) Os ficheiros de arquivo são digitalizados. 3) As ações não são aplicadas após a deteção. 4) As entradas de registo de eventos não são escritas após a deteção. 5) As deteções da varredura personalizada não são apresentadas na interface do utilizador. 6) A saída da consola mostrará a lista de deteções a partir da varredura personalizada.
| BootSectorScan | boolean | ScanType = CustomScan | Falso | false |  | Se verificado, permite a digitalização do sector de arranque.
| Argumentos | string | DigiteType = Personalizado | Verdadeiro | -ScanType 3 -DisableRemediation -File $(Build.StagingDirectory) |  | Os argumentos da linha de comando, onde o argumento de -File é um caminho absoluto, ou um caminho relativo para o $(Build.StagingDirectory) predefinido no seu agente de construção. Nota: Se não apresentar um argumento para -Arquivar como último argumento, ele não pode ser $(Build.StagingDirectory). Também pode fornecer os seus próprios argumentos permitidos pela ferramenta MpCmdRun.exe.<br/><br/>Para mais detalhes sobre os argumentos da linha de comando para esta ferramenta, por favor insira <strong>-h</strong> ou <strong>-?</strong> no campo Arguments e executar a tarefa de construção.
| Ativar Serviços | boolean | sempre | Verdadeiro | false |  | Se for verificado, tentará ativar os serviços necessários para o Windows Update no caso de estarem desativados.<br/>**NOTA:** Certifique-se de que a política de grupo não desativa os serviços e que a conta que esta construção está a decorrer tem privilégios administrativos.
| SupportLogOnError | boolean | sempre | Verdadeiro | false |  | Se for verificado, recolherá os ficheiros de suporte para diagnóstico quando um erro aconteceu. Este processo pode demorar vários minutos.<br/>**NOTA:** Certifique-se de que a conta que esta construção está a decorrer tem privilégios administrativos.
| Tratar OIgnatureUpdateFailureAs | pickList | sempre | Verdadeiro | Aviso | Erro, Padrão, Aviso | O nível de registo utilizado se a assinatura não puder ser atualizada no tempo de execução. Quando definido para **Error,** uma falha na atualização da assinatura falhará na tarefa de construção. Note que é comum que a atualização de assinatura falhe em agentes de construção hospedados, mesmo que a assinatura possa ser relativamente atual (com menos de 3 horas de idade).
| SignatureFreshness | pickList | sempre | Verdadeiro | UpToDate | OneDay, ThreeDays, TwoDays, UpToDate | A idade máxima permitida para a assinatura AntiMalware. Se a assinatura não puder ser atualizada e for mais antiga do que este valor, a tarefa de construção comportar-se-á de acordo com o valor selecionado no campo **Valide Signatures Age As.** Nota: Se escolher **Até à data,** as assinaturas podem ter até 3 horas de vida.
| TratadoSaleSignatureAs | pickList | sempre | Verdadeiro | Erro | Erro, Padrão, Aviso | O nível de registo utilizado se a idade da assinatura for mais antiga do que a idade de **assinatura antimalware** selecionada . Uma assinatura desatualizada pode ser tratada como um **Aviso** ou **Informação** para continuar com a varredura AntiMalware, mas isso não é recomendado.

## <a name="binskim-task"></a>Tarefa BinSkim

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DigitType | pickList | sempre | Verdadeiro | Básico | Básico, CommandLine | 
| argumentos | string | DigitType = Linha de Comando | Verdadeiro |  |  | Argumentos de linha de comando Padrão BinSkim para executar. O caminho de saída será removido e substituído.<br>Para obter mais detalhes sobre os argumentos da linha de comando para esta ferramenta, introduza **ajuda** no campo Arguments e execute a tarefa de construção.
| Função | pickList | DigiteType = Básico | Verdadeiro | analisar | analisar, despejar, exportarConfig, exportar regras | 
| Analisar oTarget | filePath | DigitType = Função de && Básica = analisar | Verdadeiro | $(Build.ArtifactStagingDirectory) \* .dll;<br>$(Build.ArtifactStagingDirectory) \* .exe |  | Um ou mais especificadores para um ficheiro, diretório ou padrão de filtro que se resolve a um ou mais binários para analisar. (';' lista separada)
| AnáliseSymPath | string | DigitType = Função de && Básica = analisar | Falso |  |  | Caminho para o arquivo de símbolos para o alvo.
| AnalisarConfigPath | string | DigitType = Função de && Básica = analisar | Falso | predefinição |  | Caminho para um ficheiro de política que será usado para configurar a análise. Valor de passe de 'padrão' para usar definições incorporadas.
| AnálisePluginPath | string | DigitType = Função de && Básica = analisar | Falso |  |  | Caminho para um plug-in que será invocado contra todos os alvos no conjunto de análise.
| AnalisarRecurse | boolean | DigitType = Função de && Básica = analisar | Falso | true |  | Recurse em subdiretivas ao avaliar os argumentos dos especificadores de ficheiros.
| AnalisarVerbose | boolean | DigitType = Função de && Básica = analisar | Falso | false |  | Emite saída de verboso. O relatório global resultante destina-se a fornecer provas adequadas para cenários de conformidade.
| AnalisarHashes | boolean | DigitType = Função de && Básica = analisar | Falso | false |  | Saída SHA-256 hash de metas de análise ao emitir relatórios SARIF.
| Análise Estatística | boolean | DigitType = Função de && Básica = analisar | Falso | false |  | Gere o tempo e outras estatísticas para a sessão de análise.
| Análise Ambiente | boolean | DigitType = Função de && Básica = analisar | Falso | false |  | Registar detalhes do ambiente da máquina de correr para o ficheiro de saída. AVISO: Esta opção regista informações potencialmente sensíveis (tais como todos os valores variáveis do ambiente) a qualquer registo emitido.
| ExportRulesOutputType | pickList | DigitType = Função de && Básica = regras de exportação | Falso | RIO SARIF | SARIF | O tipo de ficheiro descriptor de regras para a saída. Isto será incluído na pasta de registos BinSkim publicada pela tarefa de construção de Registos de Análise de Segurança De Publicação.
| DumpTarget | filePath | DigitType = Função de && Básica = despejo | Verdadeiro | $(Build.ArtifactStagingDirectory) |  | Um ou mais especificadores para um ficheiro, diretório ou padrão de filtro que se resolve a um ou mais binários para analisar. (';' lista separada)
| DespejoRecurse | boolean | DigitType = Função de && Básica = despejo | Falso | true |  | Recurse em subdiretivas ao avaliar os argumentos dos especificadores de ficheiros.
| DumpVerbose | boolean | DigitType = Função de && Básica = despejo | Falso | true |  | Emite saída de verboso. O relatório global resultante destina-se a fornecer provas adequadas para cenários de conformidade.
| ferramentaVersão | pickList | sempre | Falso | Mais Recente | 1.5.0, ÚltimaPreRelease | A versão da ferramenta a funcionar.

## <a name="credential-scanner-task"></a>Tarefa do Scanner Credencial

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputFormat | pickList | sempre | Falso | pre | csv, pre, tsv | O formato de saída do ficheiro de resultados do Scanner Credencial.
| ferramentaVersão | pickList | sempre | Falso | Mais Recente | 1.27.7, ÚltimaPreRelease | A versão da ferramenta a funcionar.
| scanFolder | filePath | sempre | Falso | $(Build.SourcesDirectory) |  | A pasta do seu repositório para procurar credenciais.
| pesquisadoresFileType | pickList | sempre | Falso | Predefinição | Personalizado, Padrão, Padrão ECustom | Opções para localizar o ficheiro dos pesquisadores utilizado para digitalização.
| pesquisadoresFile | filePath | pesquisadoresFileType == pesquisadores personalizados OUFileType == DefaultAndCustom | Falso |  |  | O ficheiro de configuração dos pesquisadores do Scanner credencial de verificações a executar. Vários valores podem ser incluídos e utilizados fornecendo uma lista separada de vírgulas de caminhos para ficheiros de pesquisadores do Scanner Credencial.
| supressõesFile | filePath | sempre | Falso |  |  | O ficheiro de supressões do Scanner Credencial para utilizar para suprimir problemas no registo de saída.
| suprimirAsError | boolean | sempre | Falso | false |  | Os jogos suprimidos serão de saída para o ficheiro de saída [-O]-fósforos. [-f] em vez do ficheiro de saída suprimido predefinido [-O]-suprimido. [-f]. (Incumprimentos de 'Falso')
| verboseOutput | boolean | sempre | Falso | false |  | Informação verbosa de saída.
| batchSize | string | sempre | Falso |  |  | O número de fios simultâneos usados para executar scanners credenciais em paralelo. (Predefinição a 20)<br/>O valor deve estar dentro do intervalo de 1-2147483647.
| regexMatchTimeoutInSeconds | string | sempre | Falso |  |  | O tempo em segundos para gastar a tentar uma partida de pesquisador antes de abandonar o cheque.<br/>Adiciona ``-Co RegexMatchTimeoutInSeconds=<Value>`` à linha de comando.
| fileScanReadBufferSize | string | sempre | Falso |  |  | Tamanho do tampão ao ler conteúdo em bytes. (Predefinição para 524288)<br/>Adiciona ``-Co FileScanReadBufferSize=<Value>`` à linha de comando.
| maxFileScanReadBytes | string | sempre | Falso |  |  | Número máximo de bytes para ler a partir de um determinado ficheiro durante a análise do conteúdo. (Predefinição a 104857600)<br/>Adiciona ``-Co MaxFileScanReadBytes=<Value>`` à linha de comando.

## <a name="roslyn-analyzers-task"></a>Tarefa roslyn Analisadores

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| utilizadorProvideBuildInfo | pickList | sempre | Verdadeiro | Automático | auto, msBuildInfo | Opções para um utilizador fornecer a versão MSBuild, arquitetura MSBuild, e construir linha de comando para a análise de Roslyn. Se **o Auto** for selecionado, esta tarefa recuperará a informação de construção das tarefas anteriores do **MSBuild**, **VSBuild** e/ou **.NET Core** (para construção) no mesmo oleoduto.
| msBuildVersion | pickList | utilizadorProvideBuildInfo == msBuildInfo | Verdadeiro | 16.0 | 15.0, 16.0 | A versão MSBuild.
| msBuildArchitecture | pickList | utilizadorProvideBuildInfo == msBuildInfo | Verdadeiro | x86 | DotNetCore, x64, x86 | A arquitetura MSBuild. Nota: Se as chamadas de comando de construção **dotnet.exe construir,** escolha a opção **Via .NET Core.**
| msBuildCommandline | string | utilizadorProvideBuildInfo == msBuildInfo | Verdadeiro |  |  | O comando completo de construção para compilar a sua solução ou projetos.<br/><br/>Notas: O comando deve começar com um caminho completo para **MSBuild.exe** ou **dotnet.exe**.<br/>O comando será executado com $(Build.SourcesDirectory) como diretório de trabalho.
| rulesetName | pickList | sempre | Falso | Recomendado | Personalizado, Nenhum, Recomendado, Obrigatório | Um chamado ruleset para usar.<br/><br/>Se `Ruleset Configured In Your Visual Studio Project File(s)` for escolhido, serão utilizados os ruleset pré-configurados nos seus ficheiros de projeto VS. Se `Custom` for escolhido, pode ser definida uma opção de caminho de regras personalizada.
| rulesetVersão | pickList | rulesetName == Regras or necessárias Nome de natal == Recomendado | Falso | Mais Recente | 8.0, 8.1, 8.2, ÚltimaPreRelease | A versão do ruleset SDL escolhido.
| customRuleset | string | rulesetName = Personalizado | Falso |  |  | Um caminho acessível para um ruleset para usar. Caminhos relativos serão normalizados até à raiz do repositório de origem `$(Build.SourcesDirectory)` .<br/><br/>Se o conjunto de regras especificar `Rules` com `Actions` definido `Error` para, a tarefa de construção falhará. Para utilizar um ruleset que faça isso, por favor, verifique `Continue on error` na tarefa de construção `Control Options` .
| microsoftAnalyzersVersão | pickList | sempre | Falso | Mais Recente | 2.9.3, 2.9.4, 2.9.6, ÚltimaPreRelease | A versão do pacote [Microsoft.CodeAnalysis.FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) para executar.
| supressãoFileForCompilerWarnings | filePath | sempre | Falso |  |  | Um ficheiro de supressões para suprimir os avisos do compilador C# e VB.<br/><br/>Um ficheiro de texto simples com cada identificação de aviso lista uma linha separada.<br/>Para advertências do compilador, especifique apenas a parte numérica do identificador de aviso. Por exemplo, 1018 suprimirá cS1018, e CA1501 irá suprimir CA1501.<br/><br/>Um caminho relativo de arquivo será anexado à raiz do repositório de origem ( `$(Build.SourcesDirectory)` ).

## <a name="tslint-task"></a>Tarefa TSLint

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RegraLibraria | pickList | sempre | Verdadeiro | tslint | personalizado, microsoft, tslint | Todos os resultados incluem as regras enviadas com a versão selecionada de TSLint **(Base Only).**<br/><br/>**Base Apenas -** Só as regras enviadas com a TSLint.<br/><br/>**Incluir regras da Microsoft -** Descarrega [tslint-microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) e inclui as suas regras para estar disponível para uso na execução TSLint. A escolha desta opção esconde a `Type Checking` caixa de verificação, uma vez que é exigida pelas regras da Microsoft e será automaticamente utilizada. Também desaguisa o `Microsoft Contribution Version` campo, permitindo que uma versão `tslint-microsoft-contrib` da [npm](https://www.npmjs.com/package/tslint-microsoft-contrib) seja selecionada.<br/><br/>**Incluir regras personalizadas -** Desaguise o `Rules Directory` campo, que aceita um caminho acessível para um diretório de regras TSLint para estar disponível para uso na execução TSLint.<br/><br/>**Nota:** O valor padrão mudou para tslint, uma vez que muitos utilizadores experimentaram problemas que configuram o ruleset da Microsoft. Para configuração de versão específica, consulte [tslint-microsoft-contrib no GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| Diretório de Regras | string | RegraLibraria == personalizado | Verdadeiro |  |  | Um diretório acessível contendo regras TSLint adicionais para ser usado na execução TSLint.
| Regras | pickList | RuleLibrary != microsoft | Verdadeiro | tsrecommended | personalizado, tslatest, tsrecommended | Define as regras a executar contra ficheiros TypeScript.<br/><br/>**[tslint:última](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  -** `tslint:recommended`Estende-se e é continuamente atualizado para incluir a configuração das regras mais recentes em cada versão TSLint. A utilização deste config pode introduzir alterações de rutura em lançamentos menores, uma vez que são ativadas novas regras que causam falhas no seu código. Quando a TSLint atingir um grande aumento de versão, `tslint:recommended` será atualizada para ser idêntica a `tslint:latest` .<br/><br/>**[tslint:recomendado](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  -** Um conjunto de regras estável e um pouco opinativo que a TSLint encoraja para a programação geral do TypeScript. Segue-se esta configuração `semver` , pelo que *não* terá alterações nas versões menores ou de patch.
| RulesetMicrosoft | pickList | RuleLibrary == microsoft | Verdadeiro | mssdlrequired | personalizado, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Define as regras a executar contra ficheiros TypeScript.<br/><br/>**[microsoft:sdl-required](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  -** Executar todos os controlos disponíveis fornecidos pela tslint e as regras tslint-microsoft-contrib que satisfazem as políticas *necessárias* para o ciclo de [vida do desenvolvimento de segurança (SDL).](https://www.microsoft.com/sdl/)<br/><br/>**[microsoft:sdl recomendado](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  -** Executar todos os controlos disponíveis fornecidos pela tslint e as regras tslint-microsoft-contrib que satisfazem as políticas *necessárias e recomendadas* para o ciclo de [vida do desenvolvimento da segurança (SDL).](https://www.microsoft.com/sdl/)<br/><br/>**microsoft:recomendado** Todas as verificações recomendadas pelos criadores das regras tslint-microsoft-contrib. Isto inclui verificações de segurança e não-segurança.<br/><br/>**[tslint:última](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  -** `tslint:recommended`Estende-se e é continuamente atualizado para incluir a configuração das regras mais recentes em cada versão TSLint. A utilização deste config pode introduzir alterações de rutura em lançamentos menores, uma vez que são ativadas novas regras que causam falhas no seu código. Quando a TSLint atingir um grande aumento de versão, `tslint:recommended` será atualizada para ser idêntica a `tslint:latest` .<br/><br/>**[tslint:recomendado](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  -** Um conjunto de regras estável e um pouco opinativo que a TSLint encoraja para a programação geral do TypeScript. Segue-se esta configuração `semver` , pelo que *não* terá alterações nas versões menores ou de patch.
| RulesetFile | string | Ruleset == personalizado OR RulesetMicrosoft == personalizado | Verdadeiro |  |  | Um [ficheiro de configuração](https://palantir.github.io/tslint/usage/cli/) especificando quais as regras a executar.<br/><br/>O caminho para o config será adicionado como o caminho para [regras personalizadas.](https://palantir.github.io/tslint/develop/custom-rules/)
| Tipo de Seleção de Ficheiros | pickList | sempre | Verdadeiro | fileGlob | fileGlob, projectFile | 
| Ficheiros | string | FileSelectionType == fileGlob | Verdadeiro | **\*.ts |  | Um [preseto de](https://www.npmjs.com/package/glob) ficheiro que determina quais os ficheiros a processar. Os caminhos são relativos ao `Build.SourcesDirectory` valor.<br/><br/>A biblioteca De Contribuição da Microsoft requer a utilização de um ficheiro de projeto. Se estiver a utilizar a biblioteca Contribuição da Microsoft com a `File Glob Pattern` opção, será gerado um ficheiro de projeto para si.
| ECMAScriptVersion | pickList | FileSelectionType == fileGlob && RuleLibrary == microsoft | Verdadeiro | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | A versão-alvo do ECMAScript configurada com o seu compilador TypeScript. Ao utilizar um ficheiro de projeto, este é o campo compilerOptions.target do seu TypeScript tsconfig.jsno ficheiro.
| Project | string | FileSelectionType == projectFile | Verdadeiro |  |  | Caminho para uma [tsconfig.jsno](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) ficheiro que especifica ficheiros TypeScript para executar TSLint. Os caminhos são relativos ao `Build.SourcesDirectory` valor.
| TypeCheck | boolean | RuleLibrary != microsoft && FileSelectionType == projectFile | Falso | true |  | Ativa o verificador de tipo ao executar as regras de linco.
| ExcluirFiles | string | sempre | Falso |  |  | Uma [glob](https://www.npmjs.com/package/glob) que indica ficheiros para excluir a linha de linça. Os caminhos são relativos ao `Build.SourcesDirectory` valor. Vários valores podem ser especificados separados por pontos e vírgulas.
| OutputFormat | pickList | sempre | Verdadeiro | json | checkstyle, codeFrame, filesList, json, msbuild, pmd, prosa, elegante, verbose, vso | O [formatter](https://palantir.github.io/tslint/formatters/) para usar para gerar saída. Note que o formato JSON é compatível com a Pós-Análise.
| NodeMemory | string | sempre | Falso |  |  | Uma quantidade explícita de memória em MBs para alocar ao nó para executar TSLint. Exemplo: 8000<br/><br/>Mapeia a `--max_old_space=<value>` opção CLI para nó, que é um `v8 option` .
| Versão de Ferramentas | pickList | RuleLibrary != microsoft | Verdadeiro | mais recente | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.3, 5.5.0, mais recente | A [versão](https://github.com/palantir/tslint/releases) do TSLint para descarregar e executar.
| DigitScriptVersion | pickList | sempre | Verdadeiro | mais recente | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.0.9, 2.1.1, 2.1.4, 2.1.5, 2.1.6, 2.2.0, 2.2.1, personalizado, mais recente, o | A versão da máquina de [escrever](https://www.npmjs.com/package/typescript) para descarregar e usar.<br/>**Nota:** Esta tem de ser a mesma versão do TypeScript que é usada para compilar o seu código.
| TypeScriptVersionCustom | string | TypeScriptVersion == personalizado | Verdadeiro | mais recente |  | A versão da máquina de [escrever](https://www.npmjs.com/package/typescript) para descarregar e usar.<br/>**Nota:** Esta tem de ser a mesma versão do TypeScript que é usada para compilar o seu código.
| MicrosoftContribVersion | pickList | RuleLibrary == microsoft |  | mais recente | 4.0.0, 4.0.1, 5.0.0, 5.0.1, mais recente | A versão do [tslint-microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (Regras SDL) para descarregar e utilizar.</br>**Nota:** A versão do [tslint](https://www.npmjs.com/package/tslint) será escolhida que seja compatível com a versão escolhida para tslint-microsoft-contrib. As atualizações para tslint-microsoft-contrib serão fechadas por esta tarefa de construção, até que um período de testes possa ocorrer.

## <a name="publish-security-analysis-logs-task"></a>Publicar tarefa de Registos de Análise de Segurança

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Nome de artefacto | string | sempre | Verdadeiro | CodeAnalysisLogs |  | O nome do artefacto para criar.
| ArtefactoType | pickList | sempre | Verdadeiro | Contentor | Contentor, FilePath | O tipo de artefacto para criar.
| TargetPath | string | ArtifactType = FilePath | Falso | \\my\share \$ (Build.DefinitionName)<br>\$(Build.BuildNumber) |  | A partilha de ficheiros para copiar os ficheiros
| Todos os sapos | boolean | sempre | Verdadeiro | true |  | Publique os resultados gerados por todas as ferramentas de desenvolvimento seguras para criar tarefas.
| AntiMalware | boolean | AllTools = falso | Verdadeiro | true |  | Publique os resultados gerados por tarefas de construção antiMalware.
| BinSkim | boolean | AllTools = falso | Verdadeiro | true |  | Publique os resultados gerados pela BinSkim para construir tarefas.
| CredScan | boolean | AllTools = falso | Verdadeiro | true |  | Publique os resultados gerados pelo Credential Scanner para construir tarefas.
| RoslynAnalyzers | boolean | AllTools = falso | Verdadeiro | false |  | Publique os resultados gerados por Roslyn Analyzers constroem tarefas.
| TSLint | boolean | AllTools = falso | Verdadeiro | true |  | Publique os resultados gerados pela TSLint para construir tarefas. Note que apenas os registos TSLint no formato JSON são suportados para relatórios. Se escolheu um formato diferente, por favor atualize a sua tarefa de construção TSLint em conformidade.
| ToolLogsNotFoundAction | picklist | sempre | Verdadeiro | Standard | Erro, Nenhum, Padrão, Aviso | A ação a tomar quando não forem encontrados registos de uma ferramenta selecionada (ou qualquer ferramenta se todas as Ferramentas forem verificadas), o que implica que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhuma:** A mensagem é escrita para o fluxo de saída verboso acessível apenas definindo o sistema variável VSTS.debug para **verdadeiro**. <br/>**Standard:** (Padrão) Escreve uma mensagem de saída padrão que não foram encontrados registos para a ferramenta.<br/>**Aviso:** Escreve uma mensagem de aviso amarela de que não foram encontrados registos para a ferramenta, que aparece na página de resumo da construção como aviso.<br/>**Erro:** Escreve uma mensagem de erro vermelha e lança uma exceção, quebrando a construção. Utilize esta opção para garantir, com as opções individuais da ferramenta, quais as ferramentas que são utilizadas.

## <a name="security-report-task"></a>Tarefa do Relatório de Segurança

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole | boolean | sempre | Falso | true |  | Escreva resultados para a Consola de Pipeline.
| TsvFile | boolean | sempre | Falso | true |  | Gere um ficheiro tsv (valores separados do separado do separado do separador) com um resultado por cada encontrado e separadores que separam a informação para o resultado.
| HtmlFile | boolean | sempre | Falso | true |  | Gere um ficheiro de relatório html.
| Todos os sapos | boolean | sempre | Verdadeiro | false |  | Relatório os resultados gerados por todas as ferramentas de desenvolvimento seguros constroem tarefas.
| BinSkim | boolean | AllTools = falso | Verdadeiro | false |  | Relatório de resultados gerados por BinSkim constroem tarefas.
| BinSkimBreakOn | pickList | AllTools = verdadeiro OR BinSkim = verdadeiro | Verdadeiro | Erro | Erro, WarningAbove | O nível dos resultados a reportar.
| CredScan | boolean | AllTools = falso | Verdadeiro | false |  | Relatório resultados gerados pelo Credential Scanner constroem tarefas.
| RoslynAnalyzers | boolean | AllTools = falso | Verdadeiro | false |  | Relatório resultados gerados por Roslyn Analyzer constroem tarefas.
| RoslynAnalyzersBreakOn | pickList | AllTools = verdadeiros OU RoslynAnalyzers = verdadeiros | Verdadeiro | Erro | Erro, WarningAbove | O nível dos resultados a reportar.
| TSLint | boolean | AllTools = falso | Verdadeiro | false |  | Relatório resultados gerados pela TSLint constroem tarefas. Note que apenas os registos TSLint no formato JSON são suportados para relatórios. Se escolheu um formato diferente, por favor atualize a sua tarefa de construção TSLint em conformidade.
| TSLintBreakOn | pickList | AllTools = verdadeiro OR TSLint = verdadeiro | Verdadeiro | Erro | Erro, WarningAbove | O nível dos resultados a reportar.
| ToolLogsNotFoundAction | picklist | sempre | Verdadeiro | Standard | Erro, Nenhum, Padrão, Aviso | A ação a tomar quando não forem encontrados registos de uma ferramenta selecionada (ou qualquer ferramenta se todas as Ferramentas forem verificadas), o que implica que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhuma:** A mensagem é escrita para o fluxo de saída verboso acessível apenas definindo o sistema variável VSTS.debug para **verdadeiro**. <br/>**Standard:** (Padrão) Escreve uma mensagem de saída padrão que não foram encontrados registos para a ferramenta.<br/>**Aviso:** Escreve uma mensagem de aviso amarela de que não foram encontrados registos para a ferramenta, que aparece na página de resumo da construção como aviso.<br/>**Erro:** Escreve uma mensagem de erro vermelha e lança uma exceção, quebrando a construção. Utilize esta opção para garantir, com as opções individuais da ferramenta, quais as ferramentas que são utilizadas.
| PersonalLogsFolder | string | sempre | Falso |  |  | A pasta base onde estão localizados os registos de ferramentas de análise; os ficheiros de registo individuais estarão em sub-dobradeiras com o nome de cada ferramenta, sob este caminho.

## <a name="post-analysis-task"></a>Tarefa pós-análise

| **DigitType**      | **Tipo**     | **Aplicável**            | **Obrigatório** | **Valor Predefinido**             | **Opções (para picklists)**                                   | **Descrição**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Todos os sapos | boolean | sempre | Verdadeiro | false |  | Quebre a construção se algum problema for encontrado por qualquer tarefa de construção de código de segurança da Microsoft.
| BinSkim | boolean | AllTools = falso | Verdadeiro | false |  | Quebre a construção se forem encontrados problemas binskim, de acordo com a opção Break On selecionada.
| BinSkimBreakOn | pickList | AllTools = verdadeiro OR BinSkim = verdadeiro | Verdadeiro | Erro | Erro, WarningAbove | O nível de problemas para quebrar a construção.
| CredScan | boolean | AllTools = falso | Verdadeiro | false |  | Quebre a construção se forem encontrados problemas no Scanner Credencial.
| RoslynAnalyzers | boolean | AllTools = falso | Verdadeiro | false |  | Quebre a construção se algum problema de Roslyn Analyzers for encontrado.
| RoslynAnalyzersBreakOn | pickList | AllTools = verdadeiros OU RoslynAnalyzers = verdadeiros | Verdadeiro | Erro | Erro, WarningAbove | O nível de problemas para quebrar a construção.
| TSLint | boolean | AllTools = falso | Verdadeiro | false |  | Quebre a construção se forem encontrados problemas de TSLint. Note que apenas os registos TSLint no formato JSON são suportados para análise pós-publicação. Se escolheu um formato diferente, por favor atualize a sua tarefa de construção TSLint em conformidade.
| TSLintBreakOn | pickList | AllTools = verdadeiro OR TSLint = verdadeiro | Verdadeiro | Erro | Erro, WarningAbove | O nível de problemas para quebrar a construção.
| VstsConsole | boolean | sempre | Falso | true |  | Escreva resultados para a Consola de Pipeline.
| ToolLogsNotFoundAction | picklist | sempre | Verdadeiro | Standard | Erro, Nenhum, Padrão, Aviso | A ação a tomar quando não forem encontrados registos de uma ferramenta selecionada (ou qualquer ferramenta se todas as Ferramentas forem verificadas), o que implica que a ferramenta não foi executada.<br/><br/>**Opções:**<br/>**Nenhuma:** A mensagem é escrita para o fluxo de saída verboso acessível apenas definindo o sistema variável VSTS.debug para **verdadeiro**. <br/>**Standard:** (Padrão) Escreve uma mensagem de saída padrão que não foram encontrados registos para a ferramenta.<br/>**Aviso:** Escreve uma mensagem de aviso amarela de que não foram encontrados registos para a ferramenta, que aparece na página de resumo da construção como aviso.<br/>**Erro:** Escreve uma mensagem de erro vermelha e lança uma exceção, quebrando a construção. Utilize esta opção para garantir, com as opções individuais da ferramenta, quais as ferramentas que são utilizadas.

## <a name="next-steps"></a>Passos seguintes

Se tiver mais perguntas sobre a extensão de Análise de Código de Segurança e as ferramentas oferecidas, consulte a [nossa página de PERGUNTAS Frequentes.](security-code-analysis-faq.md)