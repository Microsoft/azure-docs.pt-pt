---
title: Notas de versão arquivadas do Azure HDInsight
description: Notas de versão mais recentes do Azure HDInsight. Obtenha dicas e detalhes de desenvolvimento para Hadoop, Spark, R Server, Hive e muito mais.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.service: hdinsight
ms.topic: conceptual
ms.date: 04/15/2019
ms.openlocfilehash: 217a1160595bfcbd33fe260613289951370cf409
ms.sourcegitcommit: dbde4aed5a3188d6b4244ff7220f2f75fce65ada
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 11/19/2019
ms.locfileid: "74184331"
---
# <a name="archived-release-notes"></a>Notas de versão arquivadas

> [!IMPORTANT]  
> O Linux é o único sistema operativo utilizado na versão 3.4 ou superior do HDInsight. Para obter mais informações, consulte o [artigo controle de versão do HDInsight](hdinsight-component-versioning.md).

## <a name="summary"></a>Resumo

O Azure HDInsight é um dos serviços mais populares entre clientes corporativos para Apache Hadoop de software livre e análise de Apache Spark no Azure.

## <a name="release-date-08072019"></a>Data de lançamento: 08/07/2019

### <a name="component-versions"></a>Versões de componentes

As versões oficiais do Apache de todos os componentes do HDInsight 4,0 são fornecidas abaixo. Os componentes listados são versões das versões estáveis mais recentes disponíveis.

- 2\.7.1 Apache Ambari
- Apache Hadoop 3.1.1
- Apache HBase 2.0.0
- Apache Hive 3.1.0
- Apache Kafka 1.1.1, 2.1.0
- Apache Mahout 0.9.0 +
- 4\.2.0 Apache Oozie
- Apache Phoenix 4.7.0
- 0\.16.0 Apache Pig
- Apache Ranger 0.7.0
- Apache Slider 0.92.0
- Apache Spark 2.3.1, 2.4.0
- 1\.4.7 Apache Sqoop
- 0\.9.1 Apache TEZ
- 0\.8.0 Apache Zeppelin
- Apache ZooKeeper 3.4.6

As versões posteriores dos componentes do Apache, às vezes, são agrupadas na distribuição HDP, além das versões listadas acima. Nesse caso, essas versões posteriores são listadas na tabela de visualizações técnicas e não devem ser substituídas pelas versões do componente do Apache da lista acima em um ambiente de produção.

### <a name="apache-patch-information"></a>Informações de patch do Apache

Para obter mais informações sobre os patches disponíveis no HDInsight 4,0, consulte a lista de patches para cada produto na tabela abaixo.

| Nome do produto | Informações de patch |
|---|---|
| Ambari | [Informações de patch do Ambari](https://docs.hortonworks.com/HDPDocuments/Ambari-2.7.1.0/bk_ambari-release-notes/content/ambari_relnotes-2.7.1.0-patch-information.html) |
| Hadoop | [Informações de patch do Hadoop](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_hadoop.html) |
| HBase | [Informações de patch do HBase](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_hbase.html) |
| Hive  | Esta versão fornece 3.1.0 do hive sem patches adicionais do Apache.  |
| Kafka | Esta versão fornece o Kafka 1.1.1 sem patches adicionais do Apache. |
| Oozie | [Informações de patch do Oozie](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_oozie.html) |
| Phoenix | [Informações de patch de Phoenix](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_phoenix.html) |
| Pig | [Informações de patch do Pig](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_pig.html) |
| Ranger | [Informações de patch do Ranger](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_ranger.html) |
| Spark | [Informações de patch do Spark](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_spark.html) |
| Sqoop | Esta versão fornece Sqoop 1.4.7 sem patches adicionais do Apache. |
| Tez | Esta versão fornece tez 0.9.1 sem patches adicionais do Apache. |
| Zeppelin | Esta versão fornece Zeppelin 0.8.0 sem patches adicionais do Apache. |
| Zookeeper | [Informações de patch do Zookeeper](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_zookeeper.html) |

### <a name="fixed-common-vulnerabilities-and-exposures"></a>Correção de vulnerabilidades e exposições comuns

Para obter mais informações sobre os problemas de segurança resolvidos nesta versão, consulte Hortonworks ' [unfixed Common Vulnerabilities and Exposures for HDP 3.0.1](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/cve.html).

### <a name="known-issues"></a>Problemas conhecidos

#### <a name="replication-is-broken-for-secure-hbase-with-default-installation"></a>A replicação foi interrompida para o HBase seguro com instalação padrão

Para o HDInsight 4,0, execute as seguintes etapas:

1. Habilite a comunicação entre clusters.
1. Entre no cabeçalho ativo.
1. Baixe um script para habilitar a replicação com o seguinte comando:

    ```
    sudo wget https://raw.githubusercontent.com/Azure/hbase-utils/master/replication/hdi_enable_replication.sh
    ```
1. Digite o comando `sudo kinit <domainuser>`.
1. Digite o seguinte comando para executar o script:

    ```
    sudo bash hdi_enable_replication.sh -m <hn0> -s <srclusterdns> -d <dstclusterdns> -sp <srcclusterpasswd> -dp <dstclusterpasswd> -copydata
    ```
Para o HDInsight 3,6, faça o seguinte:

1. Entre no Active HMaster ZK.
1. Baixe um script para habilitar a replicação com o seguinte comando:
    ```
    sudo wget https://raw.githubusercontent.com/Azure/hbase-utils/master/replication/hdi_enable_replication.sh
    ```
1. Digite o comando `sudo kinit -k -t /etc/security/keytabs/hbase.service.keytab hbase/<FQDN>@<DOMAIN>`.
1. Escreva o seguinte comando:

    ```bash
    sudo bash hdi_enable_replication.sh -s <srclusterdns> -d <dstclusterdns> -sp <srcclusterpasswd> -dp <dstclusterpasswd> -copydata
    ```

#### <a name="phoenix-sqlline-stops-working-after-migrating-hbase-cluster-to-hdinsight-40"></a>O Phoenix sqlline para de funcionar após a migração do cluster HBase para o HDInsight 4,0

Execute as seguintes etapas:

1. Descarte as seguintes tabelas de Phoenix:
    1. `SYSTEM.FUNCTION`
    1. `SYSTEM.SEQUENCE`
    1. `SYSTEM.STATS`
    1. `SYSTEM.MUTEX`
    1. `SYSTEM.CATALOG`
1. Se você não puder excluir nenhuma das tabelas, reinicie o HBase para limpar todas as conexões com as tabelas.
1. Execute novamente `sqlline.py`. O Phoenix recriará todas as tabelas que foram excluídas na etapa 1.
1. Regenerar tabelas e exibições Phoenix para seus dados do HBase.

#### <a name="phoenix-sqlline-stops-working-after-replicating-hbase-phoenix-metadata-from-hdinsight-36-to-40"></a>O Phoenix sqlline para de funcionar após a replicação de metadados do HBase Phoenix do HDInsight 3,6 para o 4,0

Execute as seguintes etapas:

1. Antes de fazer a replicação, vá para o cluster de destino 4,0 e execute `sqlline.py`. Esse comando irá gerar tabelas Phoenix como `SYSTEM.MUTEX` e `SYSTEM.LOG` que só existem em 4,0.
1. Descartar as seguintes tabelas:
    1. `SYSTEM.FUNCTION`
    1. `SYSTEM.SEQUENCE`
    1. `SYSTEM.STATS`
    1. `SYSTEM.CATALOG`
1. Iniciar a replicação do HBase

### <a name="deprecation"></a>Preterição

Os serviços Apache Storm e ML não estão disponíveis no HDInsight 4,0.


## <a name="release-date-04142019"></a>Data de lançamento: 04/14/2019

### <a name="new-features"></a>Novos recursos

As novas atualizações e recursos se enquadram nas seguintes categorias:

*  ***Atualizar o Hadoop e outros projetos de código-fonte aberto*** – além de mais de 1.000 correções de bugs em mais de 20 projetos de software livre, esta atualização contém uma nova versão do **Spark (2,3)** e **Kafka (1,0)** .

    a.  [**Novos recursos no Apache Spark 2,3**](https://spark.apache.org/releases/spark-release-2-3-0.html)

    b.  [**Novos recursos no Apache Kafka 1,0**](https://kafka.apache.org/downloads#1.0.0)

*  ***Atualize o R Server 9,1 para Serviços de Machine Learning 9,3*** – com esta versão, estamos fornecendo aos cientistas de dados e engenheiros o melhor de software livre aprimorado com inovações de algoritmos e facilidade de operacionalização, tudo disponível em sua linguagem preferida com a velocidade de Apache Spark. Esta versão expande os recursos oferecidos no R Server com suporte adicionado para Python, levando à alteração do nome do cluster do R Server para os serviços do ML. 

*  ***Suporte para Azure data Lake Storage Gen2*** – o HDInsight dará suporte à versão de visualização do Azure data Lake Storage Gen2. Nas regiões disponíveis, os clientes poderão escolher uma conta de ADLS Gen2 como o repositório primário ou secundário para seus clusters HDInsight.

*  O ***HDInsight Enterprise Security Package atualizações (visualização)*** – (versão prévia) suporte a [pontos de extremidade de serviço de rede virtual](https://docs.microsoft.com/azure/virtual-network/virtual-network-service-endpoints-overview) para armazenamento de BLOBs do azure, ADLS Gen1, Cosmos DB e BD do Azure.

### <a name="component-versions"></a>Versões de componentes

As versões oficiais do Apache de todos os componentes do HDInsight 3,6 estão listadas abaixo. Todos os componentes listados aqui são versões oficiais do Apache das versões estáveis mais recentes disponíveis.

-   Apache Hadoop 2.7.3

-   Apache HBase 1.1.2

-   Apache Hive 1.2.1

-   Apache Hive 2.1.0

-   Apache Kafka 1.0.0

-   Apache Mahout 0.9.0 +

-   4\.2.0 Apache Oozie

-   Apache Phoenix 4.7.0

-   0\.16.0 Apache Pig

-   Apache Ranger 0.7.0

-   Apache Slider 0.92.0

-   Apache Spark 2.2.0/2.3.0

-   1\.4.6 Apache Sqoop

-   Apache Storm 1.1.0

-   0\.7.0 Apache TEZ

-   0\.7.3 Apache Zeppelin

-   Apache ZooKeeper 3.4.6

As versões posteriores de alguns componentes do Apache, às vezes, são agrupadas na distribuição HDP, além das versões listadas acima. Nesse caso, essas versões posteriores são listadas na tabela de visualizações técnicas e não devem ser substituídas pelas versões do componente do Apache da lista acima em um ambiente de produção.

### <a name="apache-patch-information"></a>Informações de patch do Apache

#### <a name="hadoop"></a>Hadoop

Esta versão fornece o 2.7.3 comum do Hadoop e os seguintes patches do Apache:

-   [HADOOP-13190](https://issues.apache.org/jira/browse/HADOOP-13190): mencione LoadBalancingKMSClientProvider na documentação de alta disponibilidade do kms.

-   [HADOOP-13227](https://issues.apache.org/jira/browse/HADOOP-13227): AsyncCallHandler deve usar uma arquitetura orientada por evento para lidar com chamadas assíncronas.

-   [HADOOP-14104](https://issues.apache.org/jira/browse/HADOOP-14104): o cliente deve sempre perguntar namenode para o caminho do provedor kms.

-   [HADOOP-14799](https://issues.apache.org/jira/browse/HADOOP-14799): atualizar Nimbus-José-JWT para 4.41.1.

-   [HADOOP-14814](https://issues.apache.org/jira/browse/HADOOP-14814): corrigir alteração de API incompatível em FSSERVERDEFAULTS para HADOOP-14104.

-   [HADOOP-14903](https://issues.apache.org/jira/browse/HADOOP-14903): Adicione JSON-Smart explicitamente a pom. xml.

-   [HADOOP-15042](https://issues.apache.org/jira/browse/HADOOP-15042): Azure PageBlobInputStream. Skip () pode retornar um valor negativo quando numberOfPagesRemaining é 0.

-   [HADOOP-15255](https://issues.apache.org/jira/browse/HADOOP-15255): suporte à conversão em maiúsculas/minúsculas para nomes de grupo em LdapGroupsMapping.

-   [HADOOP-15265](https://issues.apache.org/jira/browse/HADOOP-15265): excluir JSON-Smart explicitamente do HADOOP-auth pom. xml.

-   [HDFS-7922](https://issues.apache.org/jira/browse/HDFS-7922): ShortCircuitCache\#fechar não está liberando ScheduledThreadPoolExecutors.

-   [HDFS-8496](https://issues.apache.org/jira/browse/HDFS-8496): chamar stopWriter () com FSDatasetImpl Lock mantido pode bloquear outros threads (cmccabe).

-   [HDFS-10267](https://issues.apache.org/jira/browse/HDFS-10267): extra "sincronizado" em FsDatasetImpl\#RecoverAppend e FsDatasetImpl\#recoverClose.

-   [HDFS-10489](https://issues.apache.org/jira/browse/HDFS-10489): substituir DFS. encryption. Key. Provider. URI para zonas de criptografia do HDFS.

-   [HDFS-11384](https://issues.apache.org/jira/browse/HDFS-11384): Adicionar opção para o balanceador para dispersar chamadas getblocks para evitar o RPC de NameNode. Pico de CallQueueLength.

-   [HDFS-11689](https://issues.apache.org/jira/browse/HDFS-11689): nova exceção gerada pelo código do hive de hackers DFSClient% isHDFSEncryptionEnabled quebrou.

-   [HDFS-11711](https://issues.apache.org/jira/browse/HDFS-11711): o DN não deve excluir o bloco na exceção "muitos arquivos abertos".

-   [HDFS-12347](https://issues.apache.org/jira/browse/HDFS-12347): testBalancerRPCDelay\#TestBalancerRPCDelay falha com muita frequência.

-   [HDFS-12781](https://issues.apache.org/jira/browse/HDFS-12781): depois do datanode inoperante, na guia datanode da interface do usuário do amNamenode está lançando mensagem de aviso.

-   [HDFS-13054](https://issues.apache.org/jira/browse/HDFS-13054): manipulando PathIsNotEmptyDirectoryException na chamada de exclusão de DFSClient.

-   [HDFS-13120](https://issues.apache.org/jira/browse/HDFS-13120): a comparação de instantâneo pode ser corrompida após Concat.

-   [Yarn-3742](https://issues.apache.org/jira/browse/YARN-3742): yarn RM será desligado se ZKClient criação expirar.

-   [Yarn-6061](https://issues.apache.org/jira/browse/YARN-6061): Adicione um UncaughtExceptionHandler para threads críticos no RM.

-   [Yarn-7558](https://issues.apache.org/jira/browse/YARN-7558): o comando yarn logs falha ao obter logs para execução de contêineres se a autenticação da interface do usuário estiver habilitada.

-   [Yarn-7697](https://issues.apache.org/jira/browse/YARN-7697): busca de logs para o aplicativo concluído falha mesmo que a agregação de log esteja concluída.

HDP 2.6.4 forneceu 2.7.3 Common do Hadoop e os seguintes patches do Apache:

-   [HADOOP-13700](https://issues.apache.org/jira/browse/HADOOP-13700): remover IOException não lançadas de TrashPolicy\#inicializar e \#assinaturas getInstance.

-   [HADOOP-13709](https://issues.apache.org/jira/browse/HADOOP-13709): capacidade de limpar subprocessos gerados pelo shell quando o processo é encerrado.

-   [HADOOP-14059](https://issues.apache.org/jira/browse/HADOOP-14059): digitação de erros na mensagem de erro S3A Rename (auto, subdir).

-   [HADOOP-14542](https://issues.apache.org/jira/browse/HADOOP-14542): Adicionar IOUtils. cleanupWithLogger que aceita a API do agente de slf4j.

-   [HDFS-9887](https://issues.apache.org/jira/browse/HDFS-9887): os tempos limite do soquete WebHdfs devem ser configuráveis.

-   [HDFS-9914](https://issues.apache.org/jira/browse/HDFS-9914): corrigir tempo limite de conexão do WebhDFS configurável/leitura.

-   [MAPREDUCE-6698](https://issues.apache.org/jira/browse/MAPREDUCE-6698): aumentar o tempo limite em TestUnnecessaryBlockingOnHist OryFileInfo. testTwoThreadsQueryingDifferentJobOfSameUser.

-   [Yarn-4550](https://issues.apache.org/jira/browse/YARN-4550): alguns testes em TestContainerLanch falham em ambiente de localidade diferente do inglês.

-   [Yarn-4717](https://issues.apache.org/jira/browse/YARN-4717): TestResourceLocalizationService. TestPublicResourceInitializesLocalDir falha intermitentemente devido ao IllegalArgumentException da limpeza.

-   [Yarn-5042](https://issues.apache.org/jira/browse/YARN-5042): montar/sys/FS/CGroup em contêineres do Docker como montagem ReadOnly.

-   [Yarn-5318](https://issues.apache.org/jira/browse/YARN-5318): corrigir falha de teste intermitente de TestRMAdminService\#te stRefreshNodesResourceWithFileSystemBasedConfigurationProvider.

-   [Yarn-5641](https://issues.apache.org/jira/browse/YARN-5641): o localizador deixa por trás do tarballs após a conclusão do contêiner.

-   [Yarn-6004](https://issues.apache.org/jira/browse/YARN-6004): Refactor TestResourceLocalizationService\#testDownloadingResourcesOnContainer para que ele tenha menos de 150 linhas.

-   [Yarn-6078](https://issues.apache.org/jira/browse/YARN-6078): contêineres presos no estado de localização.

-   [Yarn-6805](https://issues.apache.org/jira/browse/YARN-6805): NPE em LinuxContainerExecutor devido a um código de saída PrivilegedOperationException nulo.

#### <a name="hbase"></a>HBase

Esta versão fornece o HBase 1.1.2 e os seguintes patches do Apache.

-   [HBASE-13376](https://issues.apache.org/jira/browse/HBASE-13376): aprimoramentos no balanceador de carga estocástico.

-   [HBASE-13716](https://issues.apache.org/jira/browse/HBASE-13716): parar de usar o FSConstants do Hadoop.

-   [HBASE-13848](https://issues.apache.org/jira/browse/HBASE-13848): acessar senhas de InfoSERVER SSL por meio da API do provedor de credenciais.

-   [HBASE-13947](https://issues.apache.org/jira/browse/HBASE-13947): Use masterservices em vez de servidor em assignmentmanager.

-   [HBase-14135](https://issues.apache.org/jira/browse/HBASE-14135): backup/restauração do HBase fase 3: Mesclar imagens de backup.

-   [HBASE-14473](https://issues.apache.org/jira/browse/HBASE-14473): localidade de região de computação em paralelo.

-   [HBASE-14517](https://issues.apache.org/jira/browse/HBASE-14517): mostrar a versão do regionserver na página de status mestre.

-   [HBASE-14606](https://issues.apache.org/jira/browse/HBASE-14606): os testes de TestSecureLoadIncrementalHFiles atingiram o tempo limite na compilação de tronco no Apache.

-   [HBASE-15210](https://issues.apache.org/jira/browse/HBASE-15210): desfazer o registro em log do balanceador de carga agressivo em dezenas de linhas por milissegundo.

-   [HBASE-15515](https://issues.apache.org/jira/browse/HBASE-15515): melhorar o LocalityBasedCandidateGenerator no balanceador.

-   [HBASE-15615](https://issues.apache.org/jira/browse/HBASE-15615): tempo de suspensão incorreto quando RegionServerCallable precisa ser repetido.

-   [HBASE-16135](https://issues.apache.org/jira/browse/HBASE-16135): PeerClusterZnode sob RS do par removido pode nunca ser excluído.

-   [HBASE-16570](https://issues.apache.org/jira/browse/HBASE-16570): localidade de região de computação em paralelo na inicialização.

-   [HBASE-16810](https://issues.apache.org/jira/browse/HBASE-16810): o balanceador de HBASE gera ArrayIndexOutOfBoundsException quando regionservers estão em/HBase/draining znode e são descarregados.

-   [HBASE-16852](https://issues.apache.org/jira/browse/HBASE-16852): TestDefaultCompactSelection falhou no branch-1,3.

-   [HBASE-17387](https://issues.apache.org/jira/browse/HBASE-17387): Reduza a sobrecarga do relatório de exceções em RegionActionResult para multi ().

-   [HBASE-17850](https://issues.apache.org/jira/browse/HBASE-17850): utilitário de reparo do sistema de backup.

-   [HBASE-17931](https://issues.apache.org/jira/browse/HBASE-17931): atribuir tabelas do sistema a servidores com a versão mais alta.

-   [HBASE-18083](https://issues.apache.org/jira/browse/HBASE-18083): tornar o número de thread de limpeza de arquivos grandes/pequenos configurável em HFileCleaner.

-   [HBASE-18084](https://issues.apache.org/jira/browse/HBASE-18084): melhorar o CleanerChore para limpar do diretório que consome mais espaço em disco.

-   [HBASE-18164](https://issues.apache.org/jira/browse/HBASE-18164): função de custo de localidade muito mais rápida e gerador de candidato.

-   [HBASE-18212](https://issues.apache.org/jira/browse/HBASE-18212): em modo autônomo com registro de sistema de arquivos local log do HBase mensagem de aviso: falha ao invocar o método ' unbuffer ' na classe class org. Apache. Hadoop. FS. FSDataInputStream.

-   [HBASE-18808](https://issues.apache.org/jira/browse/HBASE-18808): verificação de configuração ineficaz em BackupLogCleaner\#getDeletableFiles ().

-   [HBASE-19052](https://issues.apache.org/jira/browse/HBASE-19052): FixedFileTrailer deve reconhecer a classe CellComparatorImpl no Branch-1. x.

-   [HBASE-19065](https://issues.apache.org/jira/browse/HBASE-19065): HRegion\#bulkLoadHFiles () deve esperar pela região simultânea\#flush () para concluir.

-   [HBASE-19285](https://issues.apache.org/jira/browse/HBASE-19285): Adicionar histogramas de latência por tabela.

-   [HBASE-19393](https://issues.apache.org/jira/browse/HBASE-19393): http 413 cabeçalho completo ao acessar a interface do usuário do HBASE usando SSL.

-   [HBASE-19395](https://issues.apache.org/jira/browse/HBASE-19395): \[Branch-1\] TestEndToEndSplitTransaction. testMasterOpsWhileSplitting falha com o NPE.

-   [HBASE-19421](https://issues.apache.org/jira/browse/HBASE-19421): o Branch-1 não compila em relação ao 3.0.0 do Hadoop.

-   [HBASE-19934](https://issues.apache.org/jira/browse/HBASE-19934): HBaseSnapshotException quando as réplicas de leitura estão habilitadas e o instantâneo online é obtido após a divisão da região.

-   [HBASE-20008](https://issues.apache.org/jira/browse/HBASE-20008): \[backport\] NullPointerException ao restaurar um instantâneo depois de dividir uma região.

#### <a name="hive"></a>Hive

Esta versão fornece o hive 1.2.1 e o hive 2.1.0 além dos seguintes patches:

**Patches do hive 1.2.1 Apache:**

-   [*Hive-10697*](https://issues.apache.org/jira/browse/HIVE-10697): ObjectInspectorConvertors\#UnionConvertor faz uma conversão com falha.

-   [*Hive-11266*](https://issues.apache.org/jira/browse/HIVE-11266): contagem (\*) resultado incorreto com base nas estatísticas de tabela para tabelas externas.

-   [*Hive-12245*](https://issues.apache.org/jira/browse/HIVE-12245): suporte a comentários de coluna para uma tabela com backup do HBase.

-   [*Hive-12315*](https://issues.apache.org/jira/browse/HIVE-12315): corrigir divisão dupla em vetores por zero.

-   [*Hive-12360*](https://issues.apache.org/jira/browse/HIVE-12360): busca inadequada em Orc não compactados com aplicação de predicado.

-   [*Hive-12378*](https://issues.apache.org/jira/browse/HIVE-12378): exceção no campo binário HBaseSerDe. Serialize.

-   [*Hive-12785*](https://issues.apache.org/jira/browse/HIVE-12785): a exibição com o tipo de União e UDF para a estrutura está quebrada.

-   [*Hive-14013*](https://issues.apache.org/jira/browse/HIVE-14013): a tabela de descrição não mostra o Unicode corretamente.

-   [*Hive-14205*](https://issues.apache.org/jira/browse/HIVE-14205): o hive não oferece suporte ao tipo de União com o formato de arquivo Avro.

-   [*Hive-14421*](https://issues.apache.org/jira/browse/HIVE-14421): FS. deleteOnExit mantém referências a arquivos \_tmp\_espaço. DB.

-   [*Hive-15563*](https://issues.apache.org/jira/browse/HIVE-15563): ignorar exceção de transição de estado de operação ilegal em sqloperation. runQuery para expor a exceção real.

-   [*Hive-15680*](https://issues.apache.org/jira/browse/HIVE-15680): resultados incorretos quando Hive. Optimize. index. Filter = true e a mesma tabela Orc são referenciados duas vezes na consulta, no modo Mr.

-   [*Hive-15883*](https://issues.apache.org/jira/browse/HIVE-15883): tabela mapeada do HBase em falha na inserção do hive para Decimal.

-   [*Hive-16232*](https://issues.apache.org/jira/browse/HIVE-16232): suporte à computação de estatísticas para colunas em QuotedIdentifier.

-   [*Hive-16828*](https://issues.apache.org/jira/browse/HIVE-16828): com CBO habilitado, a consulta em exibições particionadas gera IndexOutOfBoundException.

-   [*Hive-17013*](https://issues.apache.org/jira/browse/HIVE-17013): excluir solicitação com uma subconsulta com base em selecionar em uma exibição.

-   [*Hive-17063*](https://issues.apache.org/jira/browse/HIVE-17063): inserir a partição de substituição em uma tabela externa falha ao descartar a partição primeiro.

-   [*Hive-17259*](https://issues.apache.org/jira/browse/HIVE-17259): o hive JDBC não reconhece colunas uniontype.

-   [*Hive-17419*](https://issues.apache.org/jira/browse/HIVE-17419): analisar tabela... estatísticas de computação para colunas mostra estatísticas computadas para tabelas mascaradas.

-   [*Hive-17530*](https://issues.apache.org/jira/browse/HIVE-17530): ClassCastException ao converter uniontype.

-   [*Hive-17621*](https://issues.apache.org/jira/browse/HIVE-17621): as configurações do hive-site são ignoradas durante o cálculo de divisão de HCatInputFormat.

-   [*Hive-17636*](https://issues.apache.org/jira/browse/HIVE-17636): adicione vários\_teste agg. q para blobstores.

-   [*Hive-17729*](https://issues.apache.org/jira/browse/HIVE-17729): Adicionar Banco de dados e explicar os testes de blobstore relacionados.

-   [*Hive-17731*](https://issues.apache.org/jira/browse/HIVE-17731): Adicione uma opção de compatibilidade com versões anteriores para usuários externos ao HIVE-11985.

-   [*Hive-17803*](https://issues.apache.org/jira/browse/HIVE-17803): com Pig multiconsulta, 2 HCatStorers gravando na mesma tabela atrapalhe as saídas de cada uma das outras.

-   [*Hive-17829*](https://issues.apache.org/jira/browse/HIVE-17829): ARRAYINDEXOUTOFBOUNDSEXCEPTION-HBASE-tabelas com suporte com esquema Avro em Hive2.

-   [*Hive-17845*](https://issues.apache.org/jira/browse/HIVE-17845): falha na inserção se as colunas da tabela de destino não estiverem em minúsculas.

-   [*Hive-17900*](https://issues.apache.org/jira/browse/HIVE-17900): analisar estatísticas em colunas disparadas pelo compactador gera SQL malformado com uma coluna de partição &gt; 1.

-   [*Hive-18026*](https://issues.apache.org/jira/browse/HIVE-18026): otimização da configuração principal do hive webhcat.

-   [*Hive-18031*](https://issues.apache.org/jira/browse/HIVE-18031): suporte à replicação para a operação ALTER DATABASE.

-   [*Hive-18090: a*](https://issues.apache.org/jira/browse/HIVE-18090)pulsação de Acid falha quando o metastore é conectado via credencial do Hadoop.

-   [*Hive-18189*](https://issues.apache.org/jira/browse/HIVE-18189): consulta do hive retornando resultados incorretos ao definir Hive. GroupBy. OrderBy. Position. alias como true.

-   [*Hive-18258*](https://issues.apache.org/jira/browse/HIVE-18258): Vetorização: o grupo do lado de redução por MERGEPARTIAL com colunas duplicadas é quebrado.

-   [*Hive-18293*](https://issues.apache.org/jira/browse/HIVE-18293): o hive está falhando ao compactar tabelas contidas em uma pasta que não pertence à identidade que executa o HiveMetaStore.

-   [*Hive-18327*](https://issues.apache.org/jira/browse/HIVE-18327): Remova a dependência de HiveConf desnecessária para MiniHiveKdc.

-   [*Hive-18341*](https://issues.apache.org/jira/browse/HIVE-18341): adicionar suporte de carregamento de repl para adicionar o namespace "RAW" para TDE com as mesmas chaves de criptografia.

-   [*Hive-18352*](https://issues.apache.org/jira/browse/HIVE-18352): Introduza uma opção METADATAONLY ao fazer o despejo de repl para permitir integrações de outras ferramentas.

-   [*Hive-18353*](https://issues.apache.org/jira/browse/HIVE-18353): CompactorMR deve chamar jobclient. Close () para disparar a limpeza (Prabhu Joseph via Thejas Nair).

-   [*Hive-18390*](https://issues.apache.org/jira/browse/HIVE-18390): IndexOutOfBoundsException ao consultar uma exibição particionada em ColumnPruner.

-   [*Hive-18429*](https://issues.apache.org/jira/browse/HIVE-18429): a compactação deve lidar com um caso quando ele não produz nenhuma saída.

-   [*Hive-18447*](https://issues.apache.org/jira/browse/HIVE-18447): JDBC: forneça uma maneira para os usuários JDBC passarem informações de cookie por meio da cadeia de conexão.

-   [*Hive-18460*](https://issues.apache.org/jira/browse/HIVE-18460): o compactador não passa Propriedades de tabela para o gravador Orc.

-   [*Hive-18467*](https://issues.apache.org/jira/browse/HIVE-18467): suporte todo o despejo de depósito/carregamento + criar/soltar eventos de banco de dados (Anishek Agarwal, revisado por Sankar Hariappan).

-   [*Hive-18551*](https://issues.apache.org/jira/browse/HIVE-18551): Vetorização: VectorMapOperator tenta gravar muitas colunas de vetor para cortesia híbrida.

-   [*Hive-18587*](https://issues.apache.org/jira/browse/HIVE-18587): inserir evento DML pode tentar calcular uma soma de verificação em diretórios.

-   [*Hive-18613*](https://issues.apache.org/jira/browse/HIVE-18613): estender JsonSerDe para dar suporte ao tipo binary.

-   [*Hive-18626*](https://issues.apache.org/jira/browse/HIVE-18626): a cláusula "with" de carregamento de repl não passa configuração para tarefas.

-   [*Hive-18660*](https://issues.apache.org/jira/browse/HIVE-18660): PCR não faz distinção entre colunas de partição e virtuais.

-   [*Hive-18754*](https://issues.apache.org/jira/browse/HIVE-18754): o status de repl deve dar suporte à cláusula ' with '.

-   [*Hive-18754*](https://issues.apache.org/jira/browse/HIVE-18754): o status de repl deve dar suporte à cláusula ' with '.

-   [*Hive-18788*](https://issues.apache.org/jira/browse/HIVE-18788): Limpar entradas no JDBC PreparedStatement.

-   [*Hive-18794*](https://issues.apache.org/jira/browse/HIVE-18794): a cláusula "with" de carregamento de repl não passa configuração para tarefas para tabelas que não são de partição.

-   [*Hive-18808*](https://issues.apache.org/jira/browse/HIVE-18808): tornar a compactação mais robusta quando a atualização de estatísticas falhar.

-   [*Hive-18817*](https://issues.apache.org/jira/browse/HIVE-18817): exceção ArrayIndexOutOfBounds durante a leitura da tabela acid.

-   [*Hive-18833*](https://issues.apache.org/jira/browse/HIVE-18833): a mesclagem automática falha quando "inserir no diretório como orcfile".

-   [*Hive-18879*](https://issues.apache.org/jira/browse/HIVE-18879): não permitir que o elemento incorporado em UDFXPathUtil precise funcionar se xercesImpl. jar no classpath.

-   [*Hive-18907*](https://issues.apache.org/jira/browse/HIVE-18907): criar utilitário para corrigir o problema de índice de chave acid do HIVE-18817.

**Patches do NET2.1.0 do hive:**

-   [*Hive-14013*](https://issues.apache.org/jira/browse/HIVE-14013): a tabela de descrição não mostra o Unicode corretamente.

-   [*Hive-14205*](https://issues.apache.org/jira/browse/HIVE-14205): o hive não oferece suporte ao tipo de União com o formato de arquivo Avro.

-   [*Hive-15563*](https://issues.apache.org/jira/browse/HIVE-15563): ignorar exceção de transição de estado de operação ilegal em sqloperation. runQuery para expor a exceção real.

-   [*Hive-15680*](https://issues.apache.org/jira/browse/HIVE-15680): resultados incorretos quando Hive. Optimize. index. Filter = true e a mesma tabela Orc são referenciados duas vezes na consulta, no modo Mr.

-   [*Hive-15883*](https://issues.apache.org/jira/browse/HIVE-15883): tabela mapeada do HBase em falha na inserção do hive para Decimal.

-   [*Hive-16757*](https://issues.apache.org/jira/browse/HIVE-16757): remover chamadas para AbstractRelNode. GetRows preteridas.

-   [*Hive-16828*](https://issues.apache.org/jira/browse/HIVE-16828): com CBO habilitado, a consulta em exibições particionadas gera IndexOutOfBoundException.

-   [*Hive-17063*](https://issues.apache.org/jira/browse/HIVE-17063): inserir a partição de substituição em uma tabela externa falha ao descartar a partição primeiro.

-   [*Hive-17259*](https://issues.apache.org/jira/browse/HIVE-17259): o hive JDBC não reconhece colunas uniontype.

-   [*Hive-17530*](https://issues.apache.org/jira/browse/HIVE-17530): ClassCastException ao converter uniontype.

-   [*Hive-17600*](https://issues.apache.org/jira/browse/HIVE-17600): tornar o enforceBufferSize do usuário do OrcFile de uma tabela.

-   [*Hive-17601*](https://issues.apache.org/jira/browse/HIVE-17601): melhorar o tratamento de erros em LlapServiceDriver.

-   [*Hive-17613*](https://issues.apache.org/jira/browse/HIVE-17613): Remova os pools de objetos para alocações curtas e de mesmo thread.

-   [*Hive-17617*](https://issues.apache.org/jira/browse/HIVE-17617): o acúmulo de um ResultSet vazio deve conter o agrupamento do conjunto de agrupamento vazio.

-   [*Hive-17621*](https://issues.apache.org/jira/browse/HIVE-17621): as configurações do hive-site são ignoradas durante o cálculo de divisão de HCatInputFormat.

-   [*Hive-17629*](https://issues.apache.org/jira/browse/HIVE-17629): CachedStore: tenha uma configuração de lista de permissões/Blacklist para permitir o cache seletivo de tabelas/partições e permitir a leitura durante o aquecimento.

-   [*Hive-17636*](https://issues.apache.org/jira/browse/HIVE-17636): adicione vários\_teste agg. q para blobstores.

-   [*Hive-17702*](https://issues.apache.org/jira/browse/HIVE-17702): tratamento de isrepetir incorreto no leitor decimal em Orc.

-   [*Hive-17729*](https://issues.apache.org/jira/browse/HIVE-17729): Adicionar Banco de dados e explicar os testes de blobstore relacionados.

-   [*Hive-17731*](https://issues.apache.org/jira/browse/HIVE-17731): Adicione uma opção de compatibilidade com versões anteriores para usuários externos ao HIVE-11985.

-   [*Hive-17803*](https://issues.apache.org/jira/browse/HIVE-17803): com Pig multiconsulta, 2 HCatStorers gravando na mesma tabela atrapalhe as saídas de cada uma das outras.

-   [*Hive-17845*](https://issues.apache.org/jira/browse/HIVE-17845): falha na inserção se as colunas da tabela de destino não estiverem em minúsculas.

-   [*Hive-17900*](https://issues.apache.org/jira/browse/HIVE-17900): analisar estatísticas em colunas disparadas pelo compactador gera SQL malformado com uma coluna de partição &gt; 1.

-   [*Hive-18006*](https://issues.apache.org/jira/browse/HIVE-18006): otimizar a superfície de memória de HLLDenseRegister.

-   [*Hive-18026*](https://issues.apache.org/jira/browse/HIVE-18026): otimização da configuração principal do hive webhcat.

-   [*Hive-18031*](https://issues.apache.org/jira/browse/HIVE-18031): suporte à replicação para a operação ALTER DATABASE.

-   [*Hive-18090: a*](https://issues.apache.org/jira/browse/HIVE-18090)pulsação de Acid falha quando o metastore é conectado via credencial do Hadoop.

-   [*Hive-18189*](https://issues.apache.org/jira/browse/HIVE-18189): a posição order by não funciona quando CBO está desabilitado.

-   [*Hive-18258*](https://issues.apache.org/jira/browse/HIVE-18258): Vetorização: o grupo do lado de redução por MERGEPARTIAL com colunas duplicadas é quebrado.

-   [*Hive-18269*](https://issues.apache.org/jira/browse/HIVE-18269): LLAP: Fast LLAP Io com o pipeline de processamento lento pode levar a OOM.

-   [*Hive-18293*](https://issues.apache.org/jira/browse/HIVE-18293): o hive está falhando ao compactar tabelas contidas em uma pasta que não pertence à identidade que executa o HiveMetaStore.

-   [*Hive-18318*](https://issues.apache.org/jira/browse/HIVE-18318): o leitor de registro de LLAP deve verificar a interrupção mesmo quando não estiver bloqueando.

-   [*Hive-18326*](https://issues.apache.org/jira/browse/HIVE-18326): LLAP tez Scheduler-somente tarefas de preempção se houver uma dependência entre eles.

-   [*Hive-18327*](https://issues.apache.org/jira/browse/HIVE-18327): Remova a dependência de HiveConf desnecessária para MiniHiveKdc.

-   [*Hive-18331*](https://issues.apache.org/jira/browse/HIVE-18331): Adicionar o relogin quando o TGT expirar e algum log/lambda.

-   [*Hive-18341*](https://issues.apache.org/jira/browse/HIVE-18341): adicionar suporte de carregamento de repl para adicionar o namespace "RAW" para TDE com as mesmas chaves de criptografia.

-   [*Hive-18352*](https://issues.apache.org/jira/browse/HIVE-18352): Introduza uma opção METADATAONLY ao fazer o despejo de repl para permitir integrações de outras ferramentas.

-   [*Hive-18353*](https://issues.apache.org/jira/browse/HIVE-18353): CompactorMR deve chamar jobclient. Close () para disparar a limpeza.

-   [*Hive-18384*](https://issues.apache.org/jira/browse/HIVE-18384): ConcurrentModificationException na biblioteca log4j2. x.

-   [*Hive-18390*](https://issues.apache.org/jira/browse/HIVE-18390): IndexOutOfBoundsException ao consultar uma exibição particionada em ColumnPruner.

-   [*Hive-18447*](https://issues.apache.org/jira/browse/HIVE-18447): JDBC: forneça uma maneira para os usuários JDBC passarem informações de cookie por meio da cadeia de conexão.

-   [*Hive-18460*](https://issues.apache.org/jira/browse/HIVE-18460): o compactador não passa Propriedades de tabela para o gravador Orc.

-   [*Hive-18462*](https://issues.apache.org/jira/browse/HIVE-18462): (explicação formatada para consultas com junção de mapa tem columnExprMap com nome de coluna não formatado).

-   [*Hive-18467*](https://issues.apache.org/jira/browse/HIVE-18467): suporte todo o despejo de depósito/carregamento + criar/soltar eventos de banco de dados.

-   [*Hive-18488*](https://issues.apache.org/jira/browse/HIVE-18488): LLAP Orc Readers estão sem algumas verificações nulas.

-   [*Hive-18490*](https://issues.apache.org/jira/browse/HIVE-18490): a consulta com EXISTS e não existe com um predicado que não é de equivalência pode produzir resultado incorreto.

-   [*Hive-18506*](https://issues.apache.org/jira/browse/HIVE-18506): LlapBaseInputFormat-índice de matriz negativo.

-   [*Hive-18517*](https://issues.apache.org/jira/browse/HIVE-18517): Vetorização: corrija VectorMapOperator para aceitar VRBs e verificar o sinalizador vetorizado corretamente para dar suporte ao cache LLAP).

-   [*Hive-18523*](https://issues.apache.org/jira/browse/HIVE-18523): corrigir linha de resumo caso não haja entradas.

-   [*Hive-18528*](https://issues.apache.org/jira/browse/HIVE-18528): as estatísticas de agregação no ObjectStore obtêm o resultado errado.

-   [*Hive-18530*](https://issues.apache.org/jira/browse/HIVE-18530): a replicação deve ignorar a tabela mm (por enquanto).

-   [*Hive-18548*](https://issues.apache.org/jira/browse/HIVE-18548): corrigir a importação de Log4J.

-   [*Hive-18551*](https://issues.apache.org/jira/browse/HIVE-18551): Vetorização: VectorMapOperator tenta gravar muitas colunas de vetor para cortesia híbrida.

-   [*Hive-18577*](https://issues.apache.org/jira/browse/HIVE-18577): SemanticAnalyzer. Validate tem algumas chamadas de metastore sem sentido.

-   [*Hive-18587*](https://issues.apache.org/jira/browse/HIVE-18587): inserir evento DML pode tentar calcular uma soma de verificação em diretórios.

-   [*Hive-18597*](https://issues.apache.org/jira/browse/HIVE-18597): LLAP: sempre empacote o JAR da API log4j2 para org. Apache. Log4J.

-   [*Hive-18613*](https://issues.apache.org/jira/browse/HIVE-18613): estender JsonSerDe para dar suporte ao tipo binary.

-   [*Hive-18626*](https://issues.apache.org/jira/browse/HIVE-18626): a cláusula "with" de carregamento de repl não passa configuração para tarefas.

-   [*Hive-18643*](https://issues.apache.org/jira/browse/HIVE-18643): não verifique se há partições arquivadas para Ops de acid.

-   [*Hive-18660*](https://issues.apache.org/jira/browse/HIVE-18660): PCR não faz distinção entre colunas de partição e virtuais.

-   [*Hive-18754*](https://issues.apache.org/jira/browse/HIVE-18754): o status de repl deve dar suporte à cláusula ' with '.

-   [*Hive-18788*](https://issues.apache.org/jira/browse/HIVE-18788): Limpar entradas no JDBC PreparedStatement.

-   [*Hive-18794*](https://issues.apache.org/jira/browse/HIVE-18794): a cláusula "with" de carregamento de repl não passa configuração para tarefas para tabelas que não são de partição.

-   [*Hive-18808*](https://issues.apache.org/jira/browse/HIVE-18808): tornar a compactação mais robusta quando a atualização de estatísticas falhar.

-   [*Hive-18815*](https://issues.apache.org/jira/browse/HIVE-18815): remover o recurso não usado no HPL/SQL.

-   [*Hive-18817*](https://issues.apache.org/jira/browse/HIVE-18817): exceção ArrayIndexOutOfBounds durante a leitura da tabela acid.

-   [*Hive-18833*](https://issues.apache.org/jira/browse/HIVE-18833): a mesclagem automática falha quando "inserir no diretório como orcfile".

-   [*Hive-18879*](https://issues.apache.org/jira/browse/HIVE-18879): não permitir que o elemento incorporado em UDFXPathUtil precise funcionar se xercesImpl. jar no classpath.

-   [*Hive-18944*](https://issues.apache.org/jira/browse/HIVE-18944): a posição dos conjuntos de GroupPing está definida incorretamente durante o DPP.

#### <a name="kafka"></a>Kafka

Esta versão fornece o Kafka 1.0.0 e os seguintes patches do Apache.

-   [Kafka-4827](https://issues.apache.org/jira/browse/KAFKA-4827): Kafka Connect: erro com caracteres especiais no nome do conector.

-   [Kafka-6118](https://issues.apache.org/jira/browse/KAFKA-6118): falha transitória em Kafka. API. SaslScramSslEndToEndAuthorizationTest. testTwoConsumersWithDifferentSaslCredentials.

-   [Kafka-6156](https://issues.apache.org/jira/browse/KAFKA-6156): JmxReporter não pode manipular caminhos de diretório de estilo do Windows.

-   [Kafka-6164](https://issues.apache.org/jira/browse/KAFKA-6164): os threads ClientQuotaManager impedem o desligamento ao encontrar um erro ao carregar logs.

-   [Kafka-6167](https://issues.apache.org/jira/browse/KAFKA-6167): carimbo de data/hora no diretório de fluxos contém dois-pontos, que é um caractere ilegal.

-   [Kafka-6179](https://issues.apache.org/jira/browse/KAFKA-6179): RecordQueue. Clear () não limpa a lista mantida de MinTimestampTracker.

-   [Kafka-6185](https://issues.apache.org/jira/browse/KAFKA-6185): vazamento de memória do seletor com alta probabilidade de OOM em caso de conversão inativa.

-   [Kafka-6190](https://issues.apache.org/jira/browse/KAFKA-6190): GlobalKTable nunca conclui a restauração ao consumir mensagens transacionais.

-   [Kafka-6210](https://issues.apache.org/jira/browse/KAFKA-6210): IllegalArgumentException se 1.0.0 for usado para inter. Broker. Protocol. Version ou log. Message. Format. Version.

-   [Kafka-6214](https://issues.apache.org/jira/browse/KAFKA-6214): usar réplicas em espera com um armazenamento de estado na memória faz com que os fluxos falhem.

-   [Kafka-6215](https://issues.apache.org/jira/browse/KAFKA-6215): KafkaStreamsTest falha no tronco.

-   [Kafka-6238](https://issues.apache.org/jira/browse/KAFKA-6238): problemas com a versão do protocolo ao aplicar uma atualização sem interrupção para o 1.0.0.

-   [Kafka-6260](https://issues.apache.org/jira/browse/KAFKA-6260): AbstractCoordinator não lida claramente com exceção nula.

-   [Kafka-6261](https://issues.apache.org/jira/browse/KAFKA-6261): o log de solicitações gera uma exceção se ACKs = 0.

-   [Kafka-6274](https://issues.apache.org/jira/browse/KAFKA-6274): melhorar os nomes gerados automaticamente do armazenamento de estado de origem do KTable.

#### <a name="mahout"></a>Mahout

Em HDP-2.3. x e 2.4. x, em vez de enviar uma versão do Apache específica do Mahout, sincronizamos com um ponto de revisão específico no tronco do Apache Mahout. Esse ponto de revisão é posterior à versão 0.9.0, mas antes da versão 0.10.0. Isso fornece um grande número de correções de bugs e aprimoramentos funcionais na versão 0.9.0, mas fornece uma versão estável da funcionalidade Mahout antes da conversão completa em novos Mahout baseados em Spark no 0.10.0.

O ponto de revisão escolhido para Mahout em HDP 2.3. x e 2.4. x é da ramificação "Mahout-0.10. x" do Apache Mahout, a partir de 19 de dezembro de 2014, revisão 0f037cb03e77c096 no GitHub.

Em HDP-2,5. x e 2.6. x, removemos a biblioteca "Commons-HttpClient" de Mahout porque a exibimos como uma biblioteca obsoleta com possíveis problemas de segurança e atualizamos o Hadoop-Client no Mahout para a versão 2.7.3, a mesma versão usada em HDP-2,5. Como resultado:

-   Trabalhos de Mahout compilados anteriormente deverão ser recompilados no ambiente HDP-2,5 ou 2,6.

-   Há uma pequena possibilidade de que alguns trabalhos de Mahout possam encontrar erros "ClassNotFoundException" ou "não foi possível carregar a classe" relacionados a "org. Apache. Commons. HttpClient", "net. java. dev. JetS3t" ou prefixos de nome de classe relacionados. Se esses erros ocorrerem, você pode considerar se deseja instalar manualmente os jars necessários no classpath para o trabalho, se o risco de problemas de segurança na biblioteca obsoleta for aceitável no seu ambiente.

-   Há uma possibilidade ainda menor de que alguns trabalhos do Mahout possam encontrar falhas nas chamadas de código do HBase-Client do Mahout para as bibliotecas do Hadoop-Common, devido a problemas de compatibilidade binária. Infelizmente, não há como resolver esse problema, exceto reverter para a versão HDP-2.4.2 do Mahout, que pode ter problemas de segurança. Novamente, isso deve ser muito incomum e é improvável que ocorra em qualquer conjunto de trabalhos Mahout determinado.

#### <a name="oozie"></a>Oozie

Esta versão fornece Oozie 4.2.0 com os seguintes patches do Apache.

-   [OOZIE-2571](https://issues.apache.org/jira/browse/OOZIE-2571): Adicione a propriedade Spark. Scale. Binary. Version Maven para que o Scale 2,11 possa ser usado.

-   [OOZIE-2606](https://issues.apache.org/jira/browse/OOZIE-2606): defina Spark. yarn. jars para corrigir o Spark 2,0 com OOZIE.

-   [OOZIE-2658](https://issues.apache.org/jira/browse/OOZIE-2658):--o caminho da classe-de-driver pode substituir o classpath em SparkMain.

-   [OOZIE-2787](https://issues.apache.org/jira/browse/OOZIE-2787): o OOZIE distribui o JAR do aplicativo duas vezes, fazendo com que o trabalho do Spark falhe.

-   [OOZIE-2792: a](https://issues.apache.org/jira/browse/OOZIE-2792)ação Hive2 não está analisando a ID do aplicativo Spark do arquivo de log corretamente quando o hive está no Spark.

-   [OOZIE-2799](https://issues.apache.org/jira/browse/OOZIE-2799): Configurando o local do log para o Spark SQL no hive.

-   [OOZIE-2802](https://issues.apache.org/jira/browse/OOZIE-2802): falha na ação do Spark no Spark 2.1.0 devido a sharelibs duplicados.

-   [OOZIE-2923](https://issues.apache.org/jira/browse/OOZIE-2923): melhorar a análise de opções do Spark.

-   [OOZIE-3109](https://issues.apache.org/jira/browse/OOZIE-3109): SCA: script entre sites: refletido.

-   [OOZIE-3139](https://issues.apache.org/jira/browse/OOZIE-3139): OOZIE valida o fluxo de trabalho incorretamente.

-   [OOZIE-3167](https://issues.apache.org/jira/browse/OOZIE-3167): atualizar a versão do Tomcat no branch OOZIE 4,3.

#### <a name="phoenix"></a>Phoenix

Esta versão fornece o Phoenix 4.7.0 e os seguintes patches do Apache:

-   [Phoenix-1751](https://issues.apache.org/jira/browse/PHOENIX-1751): executar agregações, classificação, etc., no preScannerNext em vez de postScannerOpen.

-   [Phoenix-2714](https://issues.apache.org/jira/browse/PHOENIX-2714): corrigir a estimativa de bytes em BaseResultIterators e expôs como interface.

-   [Phoenix-2724](https://issues.apache.org/jira/browse/PHOENIX-2724): a consulta com um grande número de balizas é mais lenta em comparação com nenhuma estatística.

-   [Phoenix-2855](https://issues.apache.org/jira/browse/PHOENIX-2855): a solução de intervalo de incremento incremental não está sendo serializada para o HBase 1,2.

-   [Phoenix-3023](https://issues.apache.org/jira/browse/PHOENIX-3023): desempenho lento quando consultas de limite são executadas em paralelo por padrão.

-   [Phoenix-3040](https://issues.apache.org/jira/browse/PHOENIX-3040): não use balizas para executar consultas em série.

-   [Phoenix-3112](https://issues.apache.org/jira/browse/PHOENIX-3112): verificação de linha parcial não tratada corretamente.

-   [Phoenix-3240](https://issues.apache.org/jira/browse/PHOENIX-3240): ClassCastException do carregador de Pig.

-   [Phoenix-3452](https://issues.apache.org/jira/browse/PHOENIX-3452): nulos primeiro/nulo último não deve afetar se Group by é preservação de ordem.

-   [Phoenix-3469](https://issues.apache.org/jira/browse/PHOENIX-3469): ordem de classificação incorreta para a chave primária desc de nulos por último/nulos primeiro.

-   [Phoenix-3789](https://issues.apache.org/jira/browse/PHOENIX-3789): executar chamadas de manutenção de índice de região cruzada em postBatchMutateIndispensably.

-   [Phoenix-3865](https://issues.apache.org/jira/browse/PHOENIX-3865): is NULL não retorna resultados corretos quando a primeira coluna da família não é filtrada.

-   [Phoenix-4290](https://issues.apache.org/jira/browse/PHOENIX-4290): verificação de tabela completa executada para exclusão com tabela com índices imutáveis.

-   [Phoenix-4373](https://issues.apache.org/jira/browse/PHOENIX-4373): a chave de comprimento variável de índice local pode ter nulos à direita enquanto inserção.

-   [Phoenix-4466](https://issues.apache.org/jira/browse/PHOENIX-4466): Java. lang. RuntimeException: código de resposta 500-executando um trabalho do Spark para se conectar ao servidor de consulta Phoenix e carregar dados.

-   [Phoenix-4489](https://issues.apache.org/jira/browse/PHOENIX-4489): vazamento de conexão do HBase em trabalhos de Phoenix Mr.

-   [Phoenix-4525](https://issues.apache.org/jira/browse/PHOENIX-4525): estouro de inteiro na execução de GroupBy.

-   [Phoenix-4560](https://issues.apache.org/jira/browse/PHOENIX-4560): order by com group by não funciona se houver onde na coluna CP.

-   [Phoenix-4586](https://issues.apache.org/jira/browse/PHOENIX-4586): Upsert SELECT não leva em conta operadores de comparação de contas para subconsultas.

-   [Phoenix-4588](https://issues.apache.org/jira/browse/PHOENIX-4588): expressão de clone também se seus filhos tiverem o determinístico. por\_invocação.

#### <a name="pig"></a>Pig

Esta versão fornece Pig 0.16.0 com os seguintes patches do Apache.

-   [Pig-5159](https://issues.apache.org/jira/browse/PIG-5159): corrigir Pig não está salvando o histórico de Grunt.

-   [Pig-5175](https://issues.apache.org/jira/browse/PIG-5175): Atualize o JRuby para 1.7.26.

#### <a name="ranger"></a>Ranger

Esta versão fornece o Ranger 0.7.0 e os seguintes patches do Apache:

-   [Ranger-1805](https://issues.apache.org/jira/browse/RANGER-1805): melhoria de código para seguir as práticas recomendadas no JS.

-   [Ranger-1960](https://issues.apache.org/jira/browse/RANGER-1960): Tire o nome da tabela do instantâneo em consideração para exclusão.

-   [Ranger-1982](https://issues.apache.org/jira/browse/RANGER-1982): aperfeiçoamento de erro para a métrica de análise do administrador do Ranger e de Ranger kms.

-   [Ranger-1984](https://issues.apache.org/jira/browse/RANGER-1984): os registros de log de auditoria do HBase podem não mostrar todas as marcas associadas à coluna acessada.

-   [Ranger-1988](https://issues.apache.org/jira/browse/RANGER-1988): corrigir randomização insegura.

-   [Ranger-1990](https://issues.apache.org/jira/browse/RANGER-1990): adicionar suporte a MySQL SSL unidirecional no administrador do Ranger.

-   [Ranger-2006](https://issues.apache.org/jira/browse/RANGER-2006): corrigir problemas detectados pela análise de código estático no Ranger usersync para origem de sincronização LDAP.

-   [Ranger-2008](https://issues.apache.org/jira/browse/RANGER-2008): a avaliação da política está falhando para condições de política de várias linhas.

#### <a name="slider"></a>Classificação

Esta versão fornece controle deslizante 0.92.0 sem patches adicionais do Apache.

#### <a name="spark"></a>Spark

Esta versão fornece o Spark 2.3.0 e os seguintes patches do Apache:

-   [Spark-13587](https://issues.apache.org/jira/browse/SPARK-13587): suporte a virtualenv em pyspark.

-   [Spark-19964](https://issues.apache.org/jira/browse/SPARK-19964): Evite a leitura do repositórios remoto no SparkSubmitSuite.

-   [Spark-22882](https://issues.apache.org/jira/browse/SPARK-22882): teste ml para streaming estruturado: ml. Classification.

-   [Spark-22915](https://issues.apache.org/jira/browse/SPARK-22915): testes de streaming para Spark. ml. Feature, de N a Z.

-   [Spark-23020](https://issues.apache.org/jira/browse/SPARK-23020): corrigir outra corrida no teste do iniciador em processo.

-   [Spark-23040](https://issues.apache.org/jira/browse/SPARK-23040): retorna o iterador passível de interrupção para o leitor de ordem aleatória.

-   [Spark-23173](https://issues.apache.org/jira/browse/SPARK-23173): Evite criar arquivos parquet corrompidos ao carregar dados do JSON.

-   [Spark-23264](https://issues.apache.org/jira/browse/SPARK-23264): corrigir escalares. MatchError em literais. Sql. out.

-   [Spark-23288](https://issues.apache.org/jira/browse/SPARK-23288): corrigir as métricas de saída com o coletor parquet.

-   [Spark-23329](https://issues.apache.org/jira/browse/SPARK-23329): corrigir a documentação de funções trigonométricas.

-   [Spark-23406](https://issues.apache.org/jira/browse/SPARK-23406): habilitar autojunções de Stream-Stream para branch-2,3.

-   [Spark-23434](https://issues.apache.org/jira/browse/SPARK-23434): o Spark não deve avisar \`diretório de metadados\` para um caminho de arquivo HDFS.

-   [Spark-23436](https://issues.apache.org/jira/browse/SPARK-23436): inferir a partição como data somente se ela puder ser convertida até a data.

-   [Spark-23457](https://issues.apache.org/jira/browse/SPARK-23457): registrar ouvintes de conclusão de tarefa primeiro em ParquetFileFormat.

-   [Spark-23462](https://issues.apache.org/jira/browse/SPARK-23462): melhorar a mensagem de erro de campo ausente no\`structtype \`.

-   [Spark-23490](https://issues.apache.org/jira/browse/SPARK-23490): Verifique Storage. locationUri com a tabela existente em CreateTable.

-   [Spark-23524](https://issues.apache.org/jira/browse/SPARK-23524): blocos de ordem aleatória de Big local não devem ser verificados quanto à corrupção.

-   [Spark-23525](https://issues.apache.org/jira/browse/SPARK-23525): suporte ao comentário alterar coluna de alteração de tabela para a tabela externa do hive.

-   [Spark-23553](https://issues.apache.org/jira/browse/SPARK-23553): os testes não devem assumir o valor padrão de \`Spark. Sql. sources. Default\`.

-   [Spark-23569](https://issues.apache.org/jira/browse/SPARK-23569): permitir que pandas\_UDF trabalhe com funções de tipo de estilo python3-anotadas.

-   [Spark-23570](https://issues.apache.org/jira/browse/SPARK-23570): Adicionar Spark 2.3.0 em HiveExternalCatalogVersionsSuite.

-   [Spark-23598](https://issues.apache.org/jira/browse/SPARK-23598): tornar os métodos no BufferedRowIterator público para evitar erros de tempo de execução para uma consulta grande.

-   [Spark-23599](https://issues.apache.org/jira/browse/SPARK-23599): adicionar um gerador de UUID a partir de números pseudo aleatórios.

-   [Spark-23599](https://issues.apache.org/jira/browse/SPARK-23599): Use RandomUUIDGenerator na expressão UUID.

-   [Spark-23601](https://issues.apache.org/jira/browse/SPARK-23601): remover arquivos. MD5 da versão.

-   [Spark-23608](https://issues.apache.org/jira/browse/SPARK-23608): Adicionar sincronização em SHS entre as funções AttachSparkUI e detachSparkUI para evitar o problema de modificação simultânea para manipuladores Jetty.

-   [Spark-23614](https://issues.apache.org/jira/browse/SPARK-23614): corrigir a reutilização incorreta do Exchange quando o Caching é usado.

-   [Spark-23623](https://issues.apache.org/jira/browse/SPARK-23623): Evite o uso simultâneo de consumidores em cache em CachedKafkaConsumer (branch-2,3).

-   [Spark-23624](https://issues.apache.org/jira/browse/SPARK-23624): revisar doc do método PushFilters na fonte de origem v2.

-   [Spark-23628](https://issues.apache.org/jira/browse/SPARK-23628): calculateParamLength não deve retornar 1 + num número de expressões.

-   [Spark-23630](https://issues.apache.org/jira/browse/SPARK-23630): permitir que as personalizações do Hadoop conf do usuário entrem em vigor.

-   [Spark-23635: a](https://issues.apache.org/jira/browse/SPARK-23635)variável env do executor do Spark é substituída pelo mesmo nome de variável am env.

-   [Spark-23637](https://issues.apache.org/jira/browse/SPARK-23637): yarn pode alocar mais recursos se um mesmo executor for interrompido várias vezes.

-   [Spark-23639](https://issues.apache.org/jira/browse/SPARK-23639): obter token antes do cliente do metastore de inicialização na CLI do SparkSQL.

-   [Spark-23642](https://issues.apache.org/jira/browse/SPARK-23642): AccumulatorV2 subclasse IsZero scaladoc correção.

-   [Spark-23644](https://issues.apache.org/jira/browse/SPARK-23644): Use o caminho absoluto para a chamada REST em SHS.

-   [Spark-23645](https://issues.apache.org/jira/browse/SPARK-23645): adicionar docs \`pandas\_UDF\` com palavra-chave args.

-   [Spark-23649](https://issues.apache.org/jira/browse/SPARK-23649): ignorando os caracteres não permitidos em UTF-8.

-   [Spark-23658](https://issues.apache.org/jira/browse/SPARK-23658): InProcessAppHandle usa a classe incorreta em GetLogger.

-   [Spark-23660](https://issues.apache.org/jira/browse/SPARK-23660): corrigir exceção no modo de cluster yarn quando o aplicativo terminou rapidamente.

-   [Spark-23670](https://issues.apache.org/jira/browse/SPARK-23670): corrigir o vazamento de memória em SparkPlanGraphWrapper.

-   [Spark-23671](https://issues.apache.org/jira/browse/SPARK-23671): corrigir condição para habilitar o pool de threads SHS.

-   [Spark-23691](https://issues.apache.org/jira/browse/SPARK-23691): Use o utilitário SQL\_conf em testes do PySpark sempre que possível.

-   [Spark-23695](https://issues.apache.org/jira/browse/SPARK-23695): corrigir a mensagem de erro para testes de streaming Kinesis.

-   [Spark-23706](https://issues.apache.org/jira/browse/SPARK-23706): Spark. conf. Get (valor, Default = None) não deve produzir nenhum em PySpark.

-   [Spark-23728](https://issues.apache.org/jira/browse/SPARK-23728): corrigir testes de ml com exceções esperadas executando testes de streaming.

-   [Spark-23729](https://issues.apache.org/jira/browse/SPARK-23729): respeitar o fragmento de URI ao resolver globs.

-   [Spark-23759](https://issues.apache.org/jira/browse/SPARK-23759): não é possível associar a interface do usuário do Spark a um nome de host/IP específico.

-   [Spark-23760](https://issues.apache.org/jira/browse/SPARK-23760): CodegenContext. withSubExprEliminationExprs deve salvar/restaurar o estado do CSE corretamente.

-   [Spark-23769](https://issues.apache.org/jira/browse/SPARK-23769): remover comentários que desabilitam desnecessariamente a verificação de scalestyle.

-   [Spark-23788](https://issues.apache.org/jira/browse/SPARK-23788): corrigir a corrida em StreamingQuerySuite.

-   [Spark-23802](https://issues.apache.org/jira/browse/SPARK-23802): PropagateEmptyRelation pode deixar o plano de consulta no estado não resolvido.

-   [Spark-23806](https://issues.apache.org/jira/browse/SPARK-23806): Broadcast. repersist pode causar uma exceção fatal quando usado com alocação dinâmica.

-   [Spark-23808](https://issues.apache.org/jira/browse/SPARK-23808): definir a sessão padrão do Spark em sessões do Spark somente de teste.

-   [Spark-23809](https://issues.apache.org/jira/browse/SPARK-23809): active SparkSession deve ser definido por getOrCreate.

-   [Spark-23816](https://issues.apache.org/jira/browse/SPARK-23816): as tarefas eliminadas devem ignorar FetchFailures.

-   [Spark-23822](https://issues.apache.org/jira/browse/SPARK-23822): melhorar a mensagem de erro para incompatibilidades de esquema parquet.

-   [Spark-23823](https://issues.apache.org/jira/browse/SPARK-23823): manter a origem na transformação.

-   [Spark-23827](https://issues.apache.org/jira/browse/SPARK-23827): StreamingJoinExec deve garantir que os dados de entrada sejam particionados em um número específico de partições.

-   [Spark-23838](https://issues.apache.org/jira/browse/SPARK-23838): a execução da consulta SQL é exibida como "concluída" na guia SQL.

-   [Spark-23881](https://issues.apache.org/jira/browse/SPARK-23881): corrigir instável de teste JobCancellationSuite. " iterador passível de interrupção do leitor de ordem aleatória ".

#### <a name="sqoop"></a>Sqoop

Esta versão fornece Sqoop 1.4.6 sem patches adicionais do Apache.

#### <a name="storm"></a>Storm

Esta versão fornece o Storm 1.1.1 e os seguintes patches do Apache:

-   [Storm-2652](https://issues.apache.org/jira/browse/STORM-2652): exceção lançada no método Open JmsSpout.

-   [Storm-2841](https://issues.apache.org/jira/browse/STORM-2841): testNoAcksIfFlushFails UT falha com NullPointerException.

-   [Storm-2854](https://issues.apache.org/jira/browse/STORM-2854): expor IEventLogger para tornar o log de eventos conectável.

-   [Storm-2870](https://issues.apache.org/jira/browse/STORM-2870): FileBasedEventLogger vaza ExecutorService não daemon que impede a conclusão do processo.

-   [Storm-2960](https://issues.apache.org/jira/browse/STORM-2960): melhor a importância da configuração da conta do sistema operacional adequada para processos do Storm.

#### <a name="tez"></a>Tez

Esta versão fornece tez 0.7.0 e os seguintes patches do Apache:

-   [Tez-1526](https://issues.apache.org/jira/browse/TEZ-1526): LoadingCache para TezTaskID lento para trabalhos grandes.

#### <a name="zeppelin"></a>Zeppelin

Esta versão fornece Zeppelin 0.7.3 sem patches de additionalApache.

-   [Zeppelin-3072: a](https://issues.apache.org/jira/browse/ZEPPELIN-3072)interface do usuário do Zeppelin torna-se lenta/não responsiva se houver muitos blocos de anotações.

-   [Zeppelin-3129: a](https://issues.apache.org/jira/browse/ZEPPELIN-3129)interface do usuário do Zeppelin não entra no IE.

-   [Zeppelin-903](https://issues.apache.org/jira/browse/ZEPPELIN-903): substitua CXF por Jersey2.

#### <a name="zookeeper"></a>ZooKeeper

Esta versão fornece ZooKeeper 3.4.6 e os seguintes patches do Apache:

-   [ZOOKEEPER-1256](https://issues.apache.org/jira/browse/ZOOKEEPER-1256): ClientPortBindTest está falhando em Mac os X.

-   [ZOOKEEPER-1901](https://issues.apache.org/jira/browse/ZOOKEEPER-1901): \[JDK8\] classificar filhos para comparação em testes de AsyncOps.

-   [ZOOKEEPER-2423](https://issues.apache.org/jira/browse/ZOOKEEPER-2423): atualizar a versão de sub-rede devido à vulnerabilidade de segurança (CVE-2014-3488).

-   [ZOOKEEPER-2693](https://issues.apache.org/jira/browse/ZOOKEEPER-2693): ataque dos em wchp/WCHC quatro palavras de letra (4LW).

-   [ZOOKEEPER-2726](https://issues.apache.org/jira/browse/ZOOKEEPER-2726): o patch para introduz a possível condição de corrida.

### <a name="fixed-common-vulnerabilities-and-exposures"></a>Correção de vulnerabilidades e exposições comuns

Esta seção aborda todas as vulnerabilidades e exposições (CVE) comuns que são abordadas nesta versão.

#### <a name="cve-2017-7676"></a>**CVE-2017-7676**

| **Resumo:** A avaliação da política do Apache Ranger ignora caracteres após o caractere curinga '\*' |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Gravidade:** Drasticamente                                                                           |
| **Fornecedor:** Hortonworks                                                                          |
| **Versões afetadas:** Versões do HDInsight 3,6 incluindo Apache Ranger versões 0,5. x/0,6. x/0.7.0     |
| **Usuários afetados:** Ambientes que usam políticas de Ranger com caracteres após o caractere curinga '\*' – como o meu\*Test, Test\*. txt |
| **Impacto:** O correspondente de recursos de política ignora os caracteres após o caractere curinga '\*', o que pode resultar em um comportamento indesejado.      |
| **Detalhes da correção:** O correspondente de recursos de política do Ranger foi atualizado para tratar corretamente as correspondências de curinga.           |
| **Ação recomendada:** Atualize para o HDI 3,6 (com o Apache Ranger 0.7.1 +).                                |

### <a name="cve-2017-7677"></a>**CVE-2017-7677**

| **Resumo:** O autorizador do Apache Ranger Hive deve verificar a permissão de RWX quando o local externo é especificado |
|--------------------------------------------------------------------------------------------------|
| **Gravidade:** Drasticamente                                                                           |
| **Fornecedor:** Hortonworks                                                                          |
| **Versões afetadas:** Versões do HDInsight 3,6 incluindo Apache Ranger versões 0,5. x/0,6. x/0.7.0 |
| **Usuários afetados:** Ambientes que usam o local externo para tabelas do hive |
| **Impacto:** Em ambientes que usam o local externo para tabelas Hive, o autorizador hive do Apache Ranger deve verificar a permissão RWX para o local externo especificado para CREATE TABLE. |
| **Detalhes da correção:** O Gerenciador de sessão do Ranger foi atualizado para tratar corretamente a verificação de permissão com o local externo. |
| **Ação recomendada:** Os usuários devem atualizar para o HDI 3,6 (com o Apache Ranger 0.7.1 +). |

#### <a name="cve-2017-9799"></a>**CVE-2017-9799**

| **Resumo:** Potencial execução de código como o usuário errado no Apache Storm |
|--------------------------------------------------------------------------------------------------|
|**Gravidade:** Fundamental |
| **Fornecedor:** Hortonworks |
| **Versões afetadas:** HDP 2.4.0, HDP-2.5.0, HDP-2.6.0 |
| **Usuários afetados:** Usuários que usam o Storm no modo de segurança e estão usando blobstore para distribuir artefatos baseados em topologia ou usando o blobstore para distribuir qualquer recurso de topologia. |
| **Impacto:** Em algumas situações e configurações do Storm, é teoricamente possível que o proprietário de uma topologia enganar o supervisor para iniciar um trabalho como um usuário diferente, não raiz. Na pior das hipóteses, isso pode levar à segurança de credenciais do outro usuário que está sendo comprometido. Essa vulnerabilidade só se aplica a instalações Apache Storm com segurança habilitada. |
| **Mitigação:** Atualize para HDP-2.6.2.1, pois não há soluções alternativas no momento.  |

#### <a name="cve-2016-4970"></a>**CVE-2016-4970**

| **Resumo:** Handler/SSL/OpenSslEngine. Java na subnety 4.0. x antes de 4.0.37. final e 4.1. x antes de 4.1.1. final permite que os invasores remotos causem uma negação de serviço (loop infinito) |
|--------------------------------------------------------------------------------------------------|
| **Gravidade:** Media  |
| **Fornecedor:** Hortonworks  |
| **Versões afetadas:** HDP 2. x. x desde 2,3. x  |
| **Usuários afetados:** Todos os usuários que usam o HDFS. |
| **Impacto:** O impacto é baixo, pois o Hortonworks não usa OpenSslEngine. java diretamente na base de código do Hadoop.     |
| **Ação recomendada:** Atualize para HDP 2.6.3.   |

#### <a name="cve-2016-8746"></a>**CVE-2016-8746**

| **Resumo:** Problema de correspondência de caminho do Apache Ranger na avaliação da política                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------|
| **Gravidade:** Normal                                                                                                                   |
| **Fornecedor:** Hortonworks                                                                                                                |
| **Versões afetadas:** Todas as versões do HDP 2,5, incluindo o Apache Ranger versões 0.6.0/0.6.1/0.6.2                                         |
| **Usuários afetados:** Todos os usuários da ferramenta de administração de políticas do Ranger.                                                                         |
| **Impacto:** O mecanismo de política do Ranger corresponde incorretamente a caminhos em determinadas condições quando uma política contém curingas e sinalizadores recursivos. |
| **Detalhes da correção:** Lógica de avaliação de política fixa                                                                                          |
| **Ação recomendada:** Os usuários devem atualizar para o HDP 2.5.4 + (com o Apache Ranger 0.6.3 +) ou o HDP 2.6 + (com o Apache Ranger 0.7.0 +)         |

#### <a name="cve-2016-8751"></a>**CVE-2016-8751**

| **Resumo:** Problema de script entre sites armazenado do Apache Ranger  |
|--------------------------------------------------------------------------------------------------|
| **Gravidade:** Normal |
| **Fornecedor:** Hortonworks |
| **Versões afetadas:** Todas as versões do HDP 2.3/2.4/2.5 incluindo Apache Ranger versões 0.5. x/0.6.0/0.6.1/0.6.2  |
| **Usuários afetados:** Todos os usuários da ferramenta de administração de políticas do Ranger. |
| **Impacto:** O Apache Ranger é vulnerável a um script armazenado entre sites ao inserir condições de política personalizada. Os usuários administradores podem armazenar alguns códigos JavaScript arbitrários executados quando os usuários normais entram e acessam políticas de acesso. |
| **Detalhes da correção:** Lógica adicionada para limpar a entrada do usuário.  |
| **Ação recomendada:** Os usuários devem atualizar para o HDP 2.5.4 + (com o Apache Ranger 0.6.3 +) ou o HDP 2.6 + (com o Apache Ranger 0.7.0 +)  |

### <a name="fixed-issues-for-support"></a>Correção de problemas de suporte

Os problemas corrigidos representam os problemas selecionados que foram registrados anteriormente por meio do suporte a Hortonworks, mas agora são abordados na versão atual. Esses problemas podem ter sido relatados em versões anteriores na seção de problemas conhecidos; o que significa que eles foram relatados pelos clientes ou identificados pela equipe de engenharia de qualidade do Hortonworks.

**Resultados incorretos**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                                                                                                                                                                | **Resumo**                                                                                                            |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| BUG-100019             | [YARN-8145](https://issues.apache.org/jira/browse/YARN-8145)                                                                                                                                                                                                                   | yarn rmadmin-GetGroups não retorna grupos atualizados para o usuário                                                         |
| BUG-100058             | [PHOENIX-2645](https://issues.apache.org/jira/browse/PHOENIX-2645)                                                                                                                                                                                                             | Caracteres curinga não correspondem a caracteres de nova linha                                                                    |
| BUG-100266             | [Phoenix-3521](https://issues.apache.org/jira/browse/PHOENIX-3521), [Phoenix-4190](https://issues.apache.org/jira/browse/PHOENIX-4190)                                                                                                                                         | Resultados incorretos com índices locais                                                                                       |
| BUG-88774              | [Hive-17617](https://issues.apache.org/jira/browse/HIVE-17617), [Hive-18413](https://issues.apache.org/jira/browse/HIVE-18413), [Hive-18523](https://issues.apache.org/jira/browse/HIVE-18523)                                                                                 | falha de query36, incompatibilidade de contagem de linhas                                                                                    |
| BUG-89765              | [HIVE-17702](https://issues.apache.org/jira/browse/HIVE-17702)                                                                                                                                                                                                                 | tratamento incorreto de isrepetir no leitor decimal no ORC                                                                |
| BUG-92293              | [HADOOP-15042](https://issues.apache.org/jira/browse/HADOOP-15042)                                                                                                                                                                                                             | O Azure PageBlobInputStream. Skip () pode retornar um valor negativo quando numberOfPagesRemaining é 0                            |
| BUG-92345              | [ATLAS-2285](https://issues.apache.org/jira/browse/ATLAS-2285)                                                                                                                                                                                                                 | Interface do usuário: pesquisa salva renomeada com atributo de data.                                                                         |
| BUG-92563              | [Hive-17495](https://issues.apache.org/jira/browse/HIVE-17495), [Hive-18528](https://issues.apache.org/jira/browse/HIVE-18528)                                                                                                                                                 | Estatísticas de agregação no ObjectStore obtêm resultado incorreto                                                                        |
| BUG-92957              | [HIVE-11266](https://issues.apache.org/jira/browse/HIVE-11266)                                                                                                                                                                                                                 | contagem (\*) resultado incorreto com base nas estatísticas de tabela para tabelas externas                                                   |
| BUG-93097              | [RANGER-1944](https://issues.apache.org/jira/browse/RANGER-1944)                                                                                                                                                                                                               | O filtro de ação para auditoria de administrador não está funcionando                                                                           |
| BUG-93335              | [HIVE-12315](https://issues.apache.org/jira/browse/HIVE-12315)                                                                                                                                                                                                                 | a vetorização\_Short\_regresso. q tem um problema de resultado incorreto para um cálculo duplo                                      |
| BUG-93415              | [Hive-18258](https://issues.apache.org/jira/browse/HIVE-18258), [Hive-18310](https://issues.apache.org/jira/browse/HIVE-18310)                                                                                                                                                 | Vetorização: o grupo do lado de redução por MERGEPARTIAL com colunas duplicadas é quebrado                                      |
| BUG-93939              | [ATLAS-2294](https://issues.apache.org/jira/browse/ATLAS-2294)                                                                                                                                                                                                                 | Parâmetro extra "Descrição" adicionado ao criar um tipo                                                               |
| BUG-94007              | [Phoenix-1751](https://issues.apache.org/jira/browse/PHOENIX-1751), [Phoenix-3112](https://issues.apache.org/jira/browse/PHOENIX-3112)                                                                                                                                         | Consultas Phoenix retorna valores nulos devido a linhas parciais do HBase                                                          |
| BUG-94266              | [HIVE-12505](https://issues.apache.org/jira/browse/HIVE-12505)                                                                                                                                                                                                                 | Inserir substituição na mesma zona criptografada silenciosamente falha ao remover alguns arquivos existentes                                   |
| BUG-94414              | [HIVE-15680](https://issues.apache.org/jira/browse/HIVE-15680)                                                                                                                                                                                                                 | Resultados incorretos quando Hive. Optimize. index. Filter = true e a mesma tabela ORC são referenciados duas vezes na consulta                 |
| BUG-95048              | [HIVE-18490](https://issues.apache.org/jira/browse/HIVE-18490)                                                                                                                                                                                                                 | A consulta com EXISTs e não existe com um predicado que não seja de equivalência pode produzir resultado incorreto                                      |
| BUG-95053              | [PHOENIX-3865](https://issues.apache.org/jira/browse/PHOENIX-3865)                                                                                                                                                                                                             | IS NULL não retorna resultados corretos quando a primeira coluna da família não é filtrada                                  |
| BUG-95476              | [RANGER-1966](https://issues.apache.org/jira/browse/RANGER-1966)                                                                                                                                                                                                               | A inicialização do mecanismo de política não cria enriquecedores de contexto em alguns casos                                           |
| BUG-95566              | [SPARK-23281](https://issues.apache.org/jira/browse/SPARK-23281)                                                                                                                                                                                                               | A consulta produz resultados em ordem incorreta quando uma cláusula de ordenação composta se refere a colunas e aliases originais |
| BUG-95907              | [Phoenix-3451](https://issues.apache.org/jira/browse/PHOENIX-3451), [Phoenix-3452](https://issues.apache.org/jira/browse/PHOENIX-3452), [Phoenix-3469](https://issues.apache.org/jira/browse/PHOENIX-3469), [Phoenix-4560](https://issues.apache.org/jira/browse/PHOENIX-4560) | Corrigindo problemas com ORDER BY ASC quando a consulta tem agregação                                                             |
| BUG-96389              | [PHOENIX-4586](https://issues.apache.org/jira/browse/PHOENIX-4586)                                                                                                                                                                                                             | UPSERT SELECT não leva em conta operadores de comparação de contas para subconsultas.                                             |
| BUG-96602              | [HIVE-18660](https://issues.apache.org/jira/browse/HIVE-18660)                                                                                                                                                                                                                 | PCR não faz distinção entre colunas de partição e virtuais                                                          |
| BUG-97686              | [ATLAS-2468](https://issues.apache.org/jira/browse/ATLAS-2468)                                                                                                                                                                                                                 | \[a pesquisa básica\] problema com ou casos quando NEQ é usado com tipos numéricos                                               |
| BUG-97708              | [HIVE-18817](https://issues.apache.org/jira/browse/HIVE-18817)                                                                                                                                                                                                                 | Exceção de ArrayIndexOutOfBounds durante a leitura da tabela ACID.                                                             |
| BUG-97864              | [HIVE-18833](https://issues.apache.org/jira/browse/HIVE-18833)                                                                                                                                                                                                                 | A mesclagem automática falha quando "inserir no diretório como orcfile"                                                               |
| BUG-97889              | [RANGER-2008](https://issues.apache.org/jira/browse/RANGER-2008)                                                                                                                                                                                                               | A avaliação da política está falhando para condições de política de várias linhas.                                                          |
| BUG-98655              | [RANGER-2066](https://issues.apache.org/jira/browse/RANGER-2066)                                                                                                                                                                                                               | O acesso à família de colunas do HBase é autorizado por uma coluna marcada na família de colunas                                       |
| BUG-99883              | [Hive-19073](https://issues.apache.org/jira/browse/HIVE-19073), [Hive-19145](https://issues.apache.org/jira/browse/HIVE-19145)                                                                                                                                                 | StatsOptimizer pode desfazê-las em colunas constantes                                                                             |

**Outro**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                        | **Resumo**                                                                                                                                |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| BUG-100267             | [HBASE-17170](https://issues.apache.org/jira/browse/HBASE-17170)                                                                       | O HBase também está tentando novamente DoNotRetryIOException devido a diferenças no carregador de classe.                                                          |
| BUG-92367              | [YARN-7558](https://issues.apache.org/jira/browse/YARN-7558)                                                                           | o comando "logs yarns" falha ao obter logs para execução de contêineres se a autenticação da interface do usuário estiver habilitada.                                              |
| BUG-93159              | [OOZIE-3139](https://issues.apache.org/jira/browse/OOZIE-3139)                                                                         | O Oozie valida o fluxo de trabalho incorretamente                                                                                                       |
| BUG-93936              | [ATLAS-2289](https://issues.apache.org/jira/browse/ATLAS-2289)                                                                         | Servidor incorporado Kafka/Zookeeper iniciar/parar código a ser movido para fora da implementação de KafkaNotification                                        |
| BUG-93942              | [ATLAS-2312](https://issues.apache.org/jira/browse/ATLAS-2312)                                                                         | Use objetos ThreadLocal DateFormat para evitar o uso simultâneo de vários threads                                                         |
| BUG-93946              | [ATLAS-2319](https://issues.apache.org/jira/browse/ATLAS-2319)                                                                         | Interface do usuário: excluindo uma marca que em mais de 25 posições na lista de marcas em uma estrutura simples e de árvore precisa de uma atualização para remover a marca da lista. |
| BUG-94618              | [Yarn-5037](https://issues.apache.org/jira/browse/YARN-5037), [yarn-7274](https://issues.apache.org/jira/browse/YARN-7274)             | Capacidade de desabilitar a elasticidade no nível da fila de folha                                                                                          |
| BUG-94901              | [HBASE-19285](https://issues.apache.org/jira/browse/HBASE-19285)                                                                       | Adicionar histogramas de latência por tabela                                                                                                           |
| BUG-95259              | [Hadoop-15185](https://issues.apache.org/jira/browse/HADOOP-15185), [Hadoop-15186](https://issues.apache.org/jira/browse/HADOOP-15186) | Atualizar o conector do ADLS para usar a versão atual do SDK do ADLS                                                                               |
| BUG-95619              | [HIVE-18551](https://issues.apache.org/jira/browse/HIVE-18551)                                                                         | Vetorização: VectorMapOperator tenta gravar muitas colunas de vetor para cortesia híbrida                                                   |
| BUG-97223              | [SPARK-23434](https://issues.apache.org/jira/browse/SPARK-23434)                                                                       | O Spark não deve avisar \`diretório de metadados\` para um caminho de arquivo HDFS                                                                          |

**Performance** (Desempenho)

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                                                                                                                                                                                                                                                                                                                                                              | **Resumo**                                                                                                                         |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| BUG-83282              | [HBase-13376](https://issues.apache.org/jira/browse/HBASE-13376), [HBase-14473](https://issues.apache.org/jira/browse/HBASE-14473), [HBase-15210](https://issues.apache.org/jira/browse/HBASE-15210), [HBase-15515](https://issues.apache.org/jira/browse/HBASE-15515), [HBase-16570](https://issues.apache.org/jira/browse/HBASE-16570), [HBase-16810](https://issues.apache.org/jira/browse/HBASE-16810), [HBase-18164](https://issues.apache.org/jira/browse/HBASE-18164) | Computação de localidade rápida no balanceador                                                                                               |
| BUG-91300              | [HBASE-17387](https://issues.apache.org/jira/browse/HBASE-17387)                                                                                                                                                                                                                                                                                                                                                                                                             | Reduzir a sobrecarga do relatório de exceções no RegionActionResult para multi ()                                                           |
| BUG-91804              | [TEZ-1526](https://issues.apache.org/jira/browse/TEZ-1526)                                                                                                                                                                                                                                                                                                                                                                                                                   | LoadingCache para TezTaskID lento para trabalhos grandes                                                                                      |
| BUG-92760              | [ACCUMULO-4578](https://issues.apache.org/jira/browse/ACCUMULO-4578)                                                                                                                                                                                                                                                                                                                                                                                                         | Cancelar a operação destino de compactação não libera o bloqueio de namespace                                                                    |
| BUG-93577              | [RANGER-1938](https://issues.apache.org/jira/browse/RANGER-1938)                                                                                                                                                                                                                                                                                                                                                                                                             | Solr para a instalação de auditoria não usa o DocValues efetivamente                                                                              |
| BUG-93910              | [HIVE-18293](https://issues.apache.org/jira/browse/HIVE-18293)                                                                                                                                                                                                                                                                                                                                                                                                               | O hive não está conseguindo compactar tabelas contidas em uma pasta que não pertence à identidade que está executando o HiveMetaStore                     |
| BUG-94345              | [HIVE-18429](https://issues.apache.org/jira/browse/HIVE-18429)                                                                                                                                                                                                                                                                                                                                                                                                               | A compactação deve lidar com um caso quando não produz nenhuma saída                                                                          |
| BUG-94381              | [HADOOP-13227](https://issues.apache.org/jira/browse/HADOOP-13227), [HDFS-13054](https://issues.apache.org/jira/browse/HDFS-13054)                                                                                                                                                                                                                                                                                                                                           | Tratando a ordem de nova tentativa do RequestHedgingProxyProvider: falha &lt; tentar novamente &lt; FAILOVER\_e\_tentar novamente.                                  |
| BUG-94432              | [HIVE-18353](https://issues.apache.org/jira/browse/HIVE-18353)                                                                                                                                                                                                                                                                                                                                                                                                               | CompactorMR deve chamar jobclient. Close () para disparar a limpeza                                                                        |
| BUG-94869              | [Phoenix-4290](https://issues.apache.org/jira/browse/PHOENIX-4290), [Phoenix-4373](https://issues.apache.org/jira/browse/PHOENIX-4373)                                                                                                                                                                                                                                                                                                                                       | Linha solicitada fora do intervalo para Get em HRegion para tabela de Phoenix com salted indexado local.                                               |
| BUG-94928              | [HDFS-11078](https://issues.apache.org/jira/browse/HDFS-11078)                                                                                                                                                                                                                                                                                                                                                                                                               | Corrigir o NPE em LazyPersistFileScrubber                                                                                                  |
| BUG-94964              | [Hive-18269](https://issues.apache.org/jira/browse/HIVE-18269), [Hive-18318](https://issues.apache.org/jira/browse/HIVE-18318), [Hive-18326](https://issues.apache.org/jira/browse/HIVE-18326)                                                                                                                                                                                                                                                                               | Várias correções de LLAP                                                                                                                 |
| BUG-95669              | [Hive-18577](https://issues.apache.org/jira/browse/HIVE-18577), [Hive-18643](https://issues.apache.org/jira/browse/HIVE-18643)                                                                                                                                                                                                                                                                                                                                               | Ao executar a consulta Update/Delete na tabela particionada ACID, HS2 ler todas as partições.                                               |
| BUG-96390              | [HDFS-10453](https://issues.apache.org/jira/browse/HDFS-10453)                                                                                                                                                                                                                                                                                                                                                                                                               | O thread ReplicationMonitor pode estar preso por muito tempo devido à corrida entre a replicação e a exclusão do mesmo arquivo em um cluster grande. |
| BUG-96625              | [HIVE-16110](https://issues.apache.org/jira/browse/HIVE-16110)                                                                                                                                                                                                                                                                                                                                                                                                               | Reversão de "vetorização: suporte ao caso de valor 2 quando em vez de fazer fallback para VectorUDFAdaptor"                                       |
| BUG-97109              | [HIVE-16757](https://issues.apache.org/jira/browse/HIVE-16757)                                                                                                                                                                                                                                                                                                                                                                                                               | O uso de GetRows () preterido em vez de New estimateRowCount (RelMetadataQuery...) tem impacto sério no desempenho                      |
| BUG-97110              | [PHOENIX-3789](https://issues.apache.org/jira/browse/PHOENIX-3789)                                                                                                                                                                                                                                                                                                                                                                                                           | Executar chamadas de manutenção de índice de região cruzada no postBatchMutateIndispensably                                                        |
| BUG-98833              | [YARN-6797](https://issues.apache.org/jira/browse/YARN-6797)                                                                                                                                                                                                                                                                                                                                                                                                                 | TimelineWriter não consome totalmente a resposta POST                                                                             |
| BUG-98931              | [ATLAS-2491](https://issues.apache.org/jira/browse/ATLAS-2491)                                                                                                                                                                                                                                                                                                                                                                                                               | Atualizar o gancho do hive para usar as notificações do Atlas v2                                                                                      |

**Potencial perda de dados**

| **ID do bug Hortonworks** | **Apache JIRA**                                                  | **Resumo**                                                       |
|------------------------|------------------------------------------------------------------|-------------------------------------------------------------------|
| BUG-95613              | [HBASE-18808](https://issues.apache.org/jira/browse/HBASE-18808) | Verificação de configuração ineficaz no BackupLogCleaner\#getDeletableFiles () |
| BUG-97051              | [HIVE-17403](https://issues.apache.org/jira/browse/HIVE-17403)   | Falha na concatenação de tabelas não gerenciadas e transacionais         |
| BUG-97787              | [HIVE-18460](https://issues.apache.org/jira/browse/HIVE-18460)   | O compactador não passa Propriedades de tabela para o gravador Orc         |
| BUG-97788              | [HIVE-18613](https://issues.apache.org/jira/browse/HIVE-18613)   | Estender JsonSerDe para dar suporte ao tipo BINARY                           |

**Falha de consulta**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                        | **Resumo**                                                                                            |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| BUG-100180             | [CALCITE-2232](https://issues.apache.org/jira/browse/CALCITE-2232)                                                                     | Erro de asserção em AggregatePullUpConstantsRule ao ajustar índices de agregação                      |
| BUG-100422             | [HIVE-19085](https://issues.apache.org/jira/browse/HIVE-19085)                                                                         | FastHiveDecimal ABS (0) define Sign para + ve                                                                |
| BUG-100834             | [PHOENIX-4658](https://issues.apache.org/jira/browse/PHOENIX-4658)                                                                     | IllegalStateException: requestSeek não pode ser chamado em ReversedKeyValueHeap                            |
| BUG-102078             | [HIVE-17978](https://issues.apache.org/jira/browse/HIVE-17978)                                                                         | TPCDS consulta 58 e 83 geram exceções em vetorização.                                          |
| BUG-92483              | [HIVE-17900](https://issues.apache.org/jira/browse/HIVE-17900)                                                                         | analisar estatísticas em colunas disparadas pelo compactador gera SQL malformado com coluna de partição &gt; 1   |
| BUG-93135              | [Hive-15874](https://issues.apache.org/jira/browse/HIVE-15874), [Hive-18189](https://issues.apache.org/jira/browse/HIVE-18189)         | Consulta do hive retornando resultados incorretos ao definir Hive. GroupBy. OrderBy. Position. alias como true                |
| BUG-93136              | [HIVE-18189](https://issues.apache.org/jira/browse/HIVE-18189)                                                                         | Ordenar por posição não funciona quando CBO está desabilitado                                                   |
| BUG-93595              | [Hive-12378](https://issues.apache.org/jira/browse/HIVE-12378), [Hive-15883](https://issues.apache.org/jira/browse/HIVE-15883)         | A tabela mapeada do HBase na inserção do hive falha para colunas decimais e binárias                                  |
| BUG-94007              | [Phoenix-1751](https://issues.apache.org/jira/browse/PHOENIX-1751), [Phoenix-3112](https://issues.apache.org/jira/browse/PHOENIX-3112) | Consultas Phoenix retorna valores nulos devido a linhas parciais do HBase                                          |
| BUG-94144              | [HIVE-17063](https://issues.apache.org/jira/browse/HIVE-17063)                                                                         | Falha ao inserir a partição de substituição em uma tabela externa ao primeiro descartar partição                        |
| BUG-94280              | [HIVE-12785](https://issues.apache.org/jira/browse/HIVE-12785)                                                                         | Exibir com tipo de União e UDF para \`conversão\` struct está quebrada                                          |
| BUG-94505              | [PHOENIX-4525](https://issues.apache.org/jira/browse/PHOENIX-4525)                                                                     | Estouro de inteiro na execução de GroupBy                                                                  |
| BUG-95618              | [HIVE-18506](https://issues.apache.org/jira/browse/HIVE-18506)                                                                         | LlapBaseInputFormat-índice de matriz negativo                                                             |
| BUG-95644              | [HIVE-9152](https://issues.apache.org/jira/browse/HIVE-9152)                                                                           | CombineHiveInputFormat: a consulta do hive está falhando em tez com a exceção Java. lang. IllegalArgumentException |
| BUG-96762              | [PHOENIX-4588](https://issues.apache.org/jira/browse/PHOENIX-4588)                                                                     | Clonar expressão também se seus filhos tiverem o determinante. por\_INVOCAção                                |
| BUG-97145              | [Hive-12245](https://issues.apache.org/jira/browse/HIVE-12245), [Hive-17829](https://issues.apache.org/jira/browse/HIVE-17829)         | Suporte a comentários de coluna para uma tabela com backup do HBase                                                      |
| BUG-97741              | [HIVE-18944](https://issues.apache.org/jira/browse/HIVE-18944)                                                                         | A posição dos conjuntos de GroupPing está definida incorretamente durante o DPP                                                  |
| BUG-98082              | [HIVE-18597](https://issues.apache.org/jira/browse/HIVE-18597)                                                                         | LLAP: sempre empacote o JAR da API log4j2 para org. Apache. Log4J                                           |
| BUG-99849              | N/A                                                                                                                                    | Criar uma nova tabela de um assistente de arquivo tenta usar o banco de dados padrão                                    |

**Segurança**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                                                                                            | **Resumo**                                                                                                           |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| BUG-100436             | [RANGER-2060](https://issues.apache.org/jira/browse/RANGER-2060)                                                                                                                                           | O proxy Knox com Knox-SSO não está funcionando para o Ranger                                                                    |
| BUG-101038             | [SPARK-24062](https://issues.apache.org/jira/browse/SPARK-24062)                                                                                                                                           | Erro do interpretador Zeppelin% Spark "conexão recusada", "uma chave secreta deve ser especificada..." erro em HiveThriftServer |
| BUG-101359             | [ACCUMULO-4056](https://issues.apache.org/jira/browse/ACCUMULO-4056)                                                                                                                                       | Atualizar versão da Commons-Collection para 3.2.2 quando lançado                                                           |
| BUG-54240              | [HIVE-18879](https://issues.apache.org/jira/browse/HIVE-18879)                                                                                                                                             | Não permitir que o elemento incorporado em UDFXPathUtil precise funcionar se xercesImpl. jar no classpath                                |
| BUG-79059              | [OOZIE-3109](https://issues.apache.org/jira/browse/OOZIE-3109)                                                                                                                                             | Caracteres específicos de HTML do streaming de log de escape                                                                       |
| BUG-90041              | [OOZIE-2723](https://issues.apache.org/jira/browse/OOZIE-2723)                                                                                                                                             | A licença do JSON.org agora é CatX                                                                                          |
| BUG-93754              | [RANGER-1943](https://issues.apache.org/jira/browse/RANGER-1943)                                                                                                                                           | A autorização do Ranger Solr é ignorada quando a coleção está vazia ou é nula                                                 |
| BUG-93804              | [HIVE-17419](https://issues.apache.org/jira/browse/HIVE-17419)                                                                                                                                             | ANALISAR tabela... as estatísticas de computação para o comando colunas mostra estatísticas computadas para tabelas mascaradas                         |
| BUG-94276              | [ZEPPELIN-3129](https://issues.apache.org/jira/browse/ZEPPELIN-3129)                                                                                                                                       | A interface do usuário do amZeppelin não entra no IE                                                                                    |
| BUG-95349              | [ZOOKEEPER-1256](https://issues.apache.org/jira/browse/ZOOKEEPER-1256), [ZOOKEEPER-1901](https://issues.apache.org/jira/browse/ZOOKEEPER-1901)                                                             | Atualizar a sub-rede                                                                                                         |
| BUG-95483              | N/A                                                                                                                                                                                                        | Correção para o CVE-2017-15713                                                                                                |
| BUG-95646              | [OOZIE-3167](https://issues.apache.org/jira/browse/OOZIE-3167)                                                                                                                                             | Atualizar a versão do Tomcat no Branch Oozie 4,3                                                                            |
| BUG-95823              | N/A                                                                                                                                                                                                        | Knox: atualizar Beanutils                                                                                               |
| BUG-95908              | [RANGER-1960](https://issues.apache.org/jira/browse/RANGER-1960)                                                                                                                                           | A autenticação do HBase não considera o namespace da tabela para excluir o instantâneo                                     |
| BUG-96191              | [Falcon-2322](https://issues.apache.org/jira/browse/FALCON-2322), [Falcon-2323](https://issues.apache.org/jira/browse/FALCON-2323)                                                                         | Atualizar as versões Jackson e Spring para evitar vulnerabilidades de segurança                                                 |
| BUG-96502              | [RANGER-1990](https://issues.apache.org/jira/browse/RANGER-1990)                                                                                                                                           | Adicionar suporte a MySQL SSL unidirecional no administrador do Ranger                                                                         |
| BUG-96712              | [FLUME-3194](https://issues.apache.org/jira/browse/FLUME-3194)                                                                                                                                             | atualizar Derby para a versão mais recente (1.14.1.0)                                                                        |
| BUG-96713              | [FLUME-2678](https://issues.apache.org/jira/browse/FLUME-2678)                                                                                                                                             | Atualizar xalan para 2.7.2 para cuidar da vulnerabilidade de CVE-2014-0107                                                    |
| BUG-96714              | [FLUME-2050](https://issues.apache.org/jira/browse/FLUME-2050)                                                                                                                                             | Atualizar para log4j2 (quando GA)                                                                                           |
| BUG-96737              | N/A                                                                                                                                                                                                        | Usar métodos de FileSystem de e/s de Java para acessar arquivos locais                                                                  |
| BUG-96925              | N/A                                                                                                                                                                                                        | Atualizar o Tomcat de 6.0.48 para 6.0.53 no Hadoop                                                                        |
| BUG-96977              | [FLUME-3132](https://issues.apache.org/jira/browse/FLUME-3132)                                                                                                                                             | Atualizar as dependências da biblioteca Jasper do Tomcat                                                                            |
| BUG-97022              | [Hadoop-14799](https://issues.apache.org/jira/browse/HADOOP-14799), [Hadoop-14903](https://issues.apache.org/jira/browse/HADOOP-14903), [Hadoop-15265](https://issues.apache.org/jira/browse/HADOOP-15265) | Atualizando a biblioteca Nimbus-José-JWT com a versão acima de 4,39                                                             |
| BUG-97101              | [RANGER-1988](https://issues.apache.org/jira/browse/RANGER-1988)                                                                                                                                           | Corrigir aleatoriedade insegura                                                                                               |
| BUG-97178              | [ATLAS-2467](https://issues.apache.org/jira/browse/ATLAS-2467)                                                                                                                                             | Atualização de dependência para Spring e Nimbus-José-JWT                                                                     |
| BUG-97180              | N/A                                                                                                                                                                                                        | Atualizar Nimbus-José-JWT                                                                                               |
| BUG-98038              | [HIVE-18788](https://issues.apache.org/jira/browse/HIVE-18788)                                                                                                                                             | Limpar entradas no JDBC PreparedStatement                                                                             |
| BUG-98353              | [HADOOP-13707](https://issues.apache.org/jira/browse/HADOOP-13707)                                                                                                                                         | Reverter "se o Kerberos estiver habilitado enquanto HTTP SPNEGO não estiver configurado, alguns links não poderão ser acessados"                 |
| BUG-98372              | [HBASE-13848](https://issues.apache.org/jira/browse/HBASE-13848)                                                                                                                                           | Acessar senhas SSL InfoServer por meio da API do provedor de credenciais                                                        |
| BUG-98385              | [ATLAS-2500](https://issues.apache.org/jira/browse/ATLAS-2500)                                                                                                                                             | Adicione cabeçalhos adicionais à resposta do Atlas.                                                                             |
| BUG-98564              | [HADOOP-14651](https://issues.apache.org/jira/browse/HADOOP-14651)                                                                                                                                         | Atualizar a versão do okhttp para 2.7.5                                                                                        |
| BUG-99440              | [RANGER-2045](https://issues.apache.org/jira/browse/RANGER-2045)                                                                                                                                           | Colunas de tabela do hive sem nenhuma política de permissão explícita são listadas com o comando ' DESC Table '                                 |
| BUG-99803              | N/A                                                                                                                                                                                                        | Oozie deve desabilitar o carregamento de classe dinâmica do HBase                                                                      |

**Maior**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | **Resumo**                                                                                                                                    |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| BUG-100040             | [ATLAS-2536](https://issues.apache.org/jira/browse/ATLAS-2536)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | NPE no gancho do hive do Atlas                                                                                                                         |
| BUG-100057             | [HIVE-19251](https://issues.apache.org/jira/browse/HIVE-19251)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ObjectStore. getNextNotification com limite deve usar menos memória                                                                              |
| BUG-100072             | [HIVE-19130](https://issues.apache.org/jira/browse/HIVE-19130)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O NPE é gerado quando o evento drop Partition é aplicado ao carregamento REPL.                                                                                     |
| BUG-100073             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | número excessivo de conexões de espera de\_de fechamento do hiveserver para o nó de dados                                                                                   |
| BUG-100319             | [HIVE-19248](https://issues.apache.org/jira/browse/HIVE-19248)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O carregamento de REPL não gera erro se a cópia do arquivo falhar.                                                                                              |
| BUG-100352             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A lógica de limpeza do CLONE-RM examina/Registry znode com muita frequência                                                                                  |
| BUG-100427             | [HIVE-19249](https://issues.apache.org/jira/browse/HIVE-19249)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Replicação: a cláusula WITH não está passando a configuração para a tarefa corretamente em todos os casos                                                       |
| BUG-100430             | [HIVE-14483](https://issues.apache.org/jira/browse/HIVE-14483)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Java. lang. ArrayIndexOutOfBoundsException org. Apache. Orc. impl. TreeReaderFactory\$BytesColumnVectorUtil. commonReadByteArrays                     |
| BUG-100432             | [HIVE-19219](https://issues.apache.org/jira/browse/HIVE-19219)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O despejo de REPL incremental deve gerar erro se os eventos solicitados forem limpos.                                                                   |
| BUG-100448             | [Spark-23637](https://issues.apache.org/jira/browse/SPARK-23637), [Spark-23802](https://issues.apache.org/jira/browse/SPARK-23802), Spark [-23809](https://issues.apache.org/jira/browse/SPARK-23809), [Spark-23816](https://issues.apache.org/jira/browse/SPARK-23816), [Spark-23822](https://issues.apache.org/jira/browse/SPARK-23822), [Spark-23823](https://issues.apache.org/jira/browse/SPARK-23823), [Spark-23838](https://issues.apache.org/jira/browse/SPARK-23838), [Spark-23881](https://issues.apache.org/jira/browse/SPARK-23881)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Atualizar Spark2 para 2.3.0 + (4/11)                                                                                                                 |
| BUG-100740             | [HIVE-16107](https://issues.apache.org/jira/browse/HIVE-16107)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | JDBC: HttpClient deve tentar novamente mais uma vez em nohttpresponseexception                                                                         |
| BUG-100810             | [HIVE-19054](https://issues.apache.org/jira/browse/HIVE-19054)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Falha na replicação das funções do hive                                                                                                               |
| BUG-100937             | [MAPREDUCE-6889](https://issues.apache.org/jira/browse/MAPREDUCE-6889)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Adicionar trabalho\#fechar API para desligar os serviços de cliente MR.                                                                                             |
| BUG-101065             | [ATLAS-2587](https://issues.apache.org/jira/browse/ATLAS-2587)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Defina ACL de leitura para/Apache\_Atlas/active\_Server\_info znode no HA para que o proxy do Knox seja lido.                                                       |
| BUG-101093             | [STORM-2993](https://issues.apache.org/jira/browse/STORM-2993)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O parafuso HDFS do Storm gera ClosedChannelException quando a política de rotação de tempo é usada                                                                |
| BUG-101181             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | PhoenixStorageHandler não manipula e em predicado corretamente                                                                                |
| BUG-101266             | [PHOENIX-4635](https://issues.apache.org/jira/browse/PHOENIX-4635)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Vazamento de conexão do HBase em org. Apache. Phoenix. Hive. MapReduce. PhoenixInputFormat                                                                  |
| BUG-101458             | [HIVE-11464](https://issues.apache.org/jira/browse/HIVE-11464)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | informações de linhagem ausentes se houver várias saídas                                                                                             |
| BUG-101485             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | a API do metastore Thrift do hive está lenta e causando o tempo limite do cliente                                                                                   |
| BUG-101628             | [HIVE-19331](https://issues.apache.org/jira/browse/HIVE-19331)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Falha na replicação incremental do hive para a nuvem.                                                                                                  |
| BUG-102048             | [HIVE-19381](https://issues.apache.org/jira/browse/HIVE-19381)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A replicação da função do hive para a nuvem falha com FunctionTask                                                                                     |
| BUG-102064             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A replicação do hive \[ local para testes de \] local falhou em ReplCopyTask                                                                           |
| BUG-102137             | [HIVE-19423](https://issues.apache.org/jira/browse/HIVE-19423)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A replicação do hive \[ local para testes de nuvem \] falhou em ReplCopyTask                                                                            |
| BUG-102305             | [HIVE-19430](https://issues.apache.org/jira/browse/HIVE-19430)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Despejos de OOM de metastore do HS2 e Hive                                                                                                               |
| BUG-102361             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | vários resultados de inserção em uma única inserção replicadas para o cluster do hive de destino (local-S3)                                                     |
| BUG-87624              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A habilitação do log de eventos do Storm faz com que os trabalhadores sejam permanentemente                                                                                |
| BUG-88929              | [HBASE-15615](https://issues.apache.org/jira/browse/HBASE-15615)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Tempo de suspensão incorreto quando RegionServerCallable precisa de nova tentativa                                                                                          |
| BUG-89628              | [HIVE-17613](https://issues.apache.org/jira/browse/HIVE-17613)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | remover pools de objetos para pequenas alocações de thread                                                                                         |
| BUG-89813              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | SCA: correção de código: o método não sincronizado substitui o método Synchronized                                                                  |
| BUG-90437              | [ZEPPELIN-3072](https://issues.apache.org/jira/browse/ZEPPELIN-3072)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | A interface do usuário do Zeppelin torna-se lenta/não responsiva se houver muitos blocos de anotações                                                                          |
| BUG-90640              | [HBASE-19065](https://issues.apache.org/jira/browse/HBASE-19065)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | HRegion\#bulkLoadHFiles () deve aguardar a região simultânea\#flush () para concluir                                                                 |
| BUG-91202              | [HIVE-17013](https://issues.apache.org/jira/browse/HIVE-17013)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Excluir solicitação com uma subconsulta com base em selecionar em uma exibição                                                                                     |
| BUG-91350              | [KNOX-1108](https://issues.apache.org/jira/browse/KNOX-1108)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | NiFiHaDispatch não está fazendo failover                                                                                                                |
| BUG-92054              | [HIVE-13120](https://issues.apache.org/jira/browse/HIVE-13120)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | propagar doAs ao gerar divisões de ORC                                                                                                      |
| BUG-92373              | [FALCON-2314](https://issues.apache.org/jira/browse/FALCON-2314)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Rebatida a versão do TestNG para 6.13.1 para evitar dependência de BeanShell                                                                                    |
| BUG-92381              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | falha de testContainerLogsWithNewAPI e testContainerLogsWithOldAPI UT                                                                           |
| BUG-92389              | [STORM-2841](https://issues.apache.org/jira/browse/STORM-2841)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | testNoAcksIfFlushFails UT falha com NullPointerException                                                                                      |
| BUG-92586              | [Spark-17920](https://issues.apache.org/jira/browse/SPARK-17920), [Spark-20694](https://issues.apache.org/jira/browse/SPARK-20694), [Spark-21642](https://issues.apache.org/jira/browse/SPARK-21642), spark [-22162](https://issues.apache.org/jira/browse/SPARK-22162), [Spark-22289](https://issues.apache.org/jira/browse/SPARK-22289), [Spark-22373](https://issues.apache.org/jira/browse/SPARK-22373), [Spark-22495](https://issues.apache.org/jira/browse/SPARK-22495), [Spark-22574](https://issues.apache.org/jira/browse/SPARK-22574), [Spark-22591](https://issues.apache.org/jira/browse/SPARK-22591), [Spark-22595](https://issues.apache.org/jira/browse/SPARK-22595), [Spark-22601](https://issues.apache.org/jira/browse/SPARK-22601), [Spark-22603](https://issues.apache.org/jira/browse/SPARK-22603), [Spark-](https://issues.apache.org/jira/browse/SPARK-22607)22607, [Spark-22635](https://issues.apache.org/jira/browse/SPARK-22635), [Spark-22637](https://issues.apache.org/jira/browse/SPARK-22637), [Spark-22653](https://issues.apache.org/jira/browse/SPARK-22653), [Spark-22654](https://issues.apache.org/jira/browse/SPARK-22654), [Spark-22686](https://issues.apache.org/jira/browse/SPARK-22686), [Spark-22688](https://issues.apache.org/jira/browse/SPARK-22688), [Spark-22817](https://issues.apache.org/jira/browse/SPARK-22817), [ SPARK-22862](https://issues.apache.org/jira/browse/SPARK-22862), [spark-22889](https://issues.apache.org/jira/browse/SPARK-22889), [Spark-22972](https://issues.apache.org/jira/browse/SPARK-22972), [spark-22975](https://issues.apache.org/jira/browse/SPARK-22975), [Spark-22982](https://issues.apache.org/jira/browse/SPARK-22982), [spark-22983](https://issues.apache.org/jira/browse/SPARK-22983), [Spark-22984](https://issues.apache.org/jira/browse/SPARK-22984), [Spark-23001](https://issues.apache.org/jira/browse/SPARK-23001), [Spark-23038](https://issues.apache.org/jira/browse/SPARK-23038), [Spark-23095](https://issues.apache.org/jira/browse/SPARK-23095) | Atualizar Spark2 atualizado para 2.2.1 (Jan. 16)                                                                                                    |
| BUG-92680              | [ATLAS-2288](https://issues.apache.org/jira/browse/ATLAS-2288)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Exceção de NoClassDefFoundError ao executar o script Import-Hive quando a tabela HBase é criada por meio do hive                                           |
| BUG-92760              | [ACCUMULO-4578](https://issues.apache.org/jira/browse/ACCUMULO-4578)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Cancelar a operação destino de compactação não libera o bloqueio de namespace                                                                               |
| BUG-92797              | [HDFS-10267](https://issues.apache.org/jira/browse/HDFS-10267), [HDFS-8496](https://issues.apache.org/jira/browse/HDFS-8496)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Reduzindo as contenções de bloqueio de datanode em determinados casos de uso                                                                                    |
| BUG-92813              | [FLUME-2973](https://issues.apache.org/jira/browse/FLUME-2973)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Deadlock no coletor HDFS                                                                                                                          |
| BUG-92957              | [HIVE-11266](https://issues.apache.org/jira/browse/HIVE-11266)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | contagem (\*) resultado incorreto com base nas estatísticas de tabela para tabelas externas                                                                           |
| BUG-93018              | [ATLAS-2310](https://issues.apache.org/jira/browse/ATLAS-2310)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Na HA, o nó passivo redireciona a solicitação com a codificação de URL incorreta                                                                          |
| BUG-93116              | [RANGER-1957](https://issues.apache.org/jira/browse/RANGER-1957)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | O Ranger usersync não está sincronizando usuários ou grupos periodicamente quando a sincronização incremental está habilitada.                                                  |
| BUG-93361              | [HIVE-12360](https://issues.apache.org/jira/browse/HIVE-12360)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Busca inadequada em ORC descompactado com aplicação de predicado                                                                                           |
| BUG-93426              | [CALCITE-2086](https://issues.apache.org/jira/browse/CALCITE-2086)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | HTTP/413 em determinadas circunstâncias devido a cabeçalhos de autorização grandes                                                                           |
| BUG-93429              | [PHOENIX-3240](https://issues.apache.org/jira/browse/PHOENIX-3240)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | ClassCastException do carregador de Pig                                                                                                             |
| BUG-93485              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Não é possível obter a tabela mytestorg. Apache. Hadoop. Hive. QL. Metadata. InvalidTableException: tabela não encontrada ao executar analisar tabela em colunas em LLAP |
| BUG-93512              | [PHOENIX-4466](https://issues.apache.org/jira/browse/PHOENIX-4466)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Java. lang. RuntimeException: código de resposta 500-executando um trabalho do Spark para se conectar ao servidor de consulta Phoenix e carregar dados                         |
| BUG-93550              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Zeppelin% Spark. r não funciona com spark1 devido à incompatibilidade de versões escalares                                                                      |
| BUG-93910              | [HIVE-18293](https://issues.apache.org/jira/browse/HIVE-18293)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O hive não está conseguindo compactar tabelas contidas em uma pasta que não pertence à identidade que está executando o HiveMetaStore                                |
| BUG-93926              | [ZEPPELIN-3114](https://issues.apache.org/jira/browse/ZEPPELIN-3114)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Os notebooks e os intérpretes não estão sendo salvos no Zeppelin depois de &gt;o teste de estresse de 1D                                                       |
| BUG-93932              | [ATLAS-2320](https://issues.apache.org/jira/browse/ATLAS-2320)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | a classificação "\*" com a consulta gera 500 exceção de servidor interno.                                                                           |
| BUG-93948              | [YARN-7697](https://issues.apache.org/jira/browse/YARN-7697)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | O NM fica inativo com OOM devido ao vazamento na agregação de log (parte\#1)                                                                                 |
| BUG-93965              | [ATLAS-2229](https://issues.apache.org/jira/browse/ATLAS-2229)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Pesquisa de DSL: o atributo de não cadeia de caracteres OrderBy gera uma exceção                                                                                     |
| BUG-93986              | [YARN-7697](https://issues.apache.org/jira/browse/YARN-7697)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | O NM fica inativo com OOM devido ao vazamento na agregação de log (parte\#2)                                                                                 |
| BUG-94030              | [ATLAS-2332](https://issues.apache.org/jira/browse/ATLAS-2332)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Falha na criação do tipo com atributos com tipo de dados de coleção aninhada                                                                       |
| BUG-94080              | [Yarn-3742](https://issues.apache.org/jira/browse/YARN-3742), [yarn-6061](https://issues.apache.org/jira/browse/YARN-6061)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Ambos os RM estão em espera no cluster seguro                                                                                                       |
| BUG-94081              | [HIVE-18384](https://issues.apache.org/jira/browse/HIVE-18384)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ConcurrentModificationException na biblioteca log4j2. x                                                                                            |
| BUG-94168              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | O yarn RM fica inativo com um erro de estado incorreto no registro de serviço                                                                                |
| BUG-94330              | [Hadoop-13190](https://issues.apache.org/jira/browse/HADOOP-13190), [Hadoop-14104](https://issues.apache.org/jira/browse/HADOOP-14104), [Hadoop-14814](https://issues.apache.org/jira/browse/HADOOP-14814), [HDFS-10489](https://issues.apache.org/jira/browse/HDFS-10489), [HDFS-11689](https://issues.apache.org/jira/browse/HDFS-11689)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | O HDFS deve dar suporte a vários URIs KMS                                                                                                      |
| BUG-94345              | [HIVE-18429](https://issues.apache.org/jira/browse/HIVE-18429)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A compactação deve lidar com um caso quando não produz nenhuma saída                                                                                     |
| BUG-94372              | [ATLAS-2229](https://issues.apache.org/jira/browse/ATLAS-2229)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Consulta DSL: o hive\_nome da tabela = \["T1", "T2"\] gera uma exceção de consulta de DSL inválida                                                                |
| BUG-94381              | [HADOOP-13227](https://issues.apache.org/jira/browse/HADOOP-13227), [HDFS-13054](https://issues.apache.org/jira/browse/HDFS-13054)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Tratando a ordem de nova tentativa do RequestHedgingProxyProvider: falha &lt; tentar novamente &lt; FAILOVER\_e\_tentar novamente.                                             |
| BUG-94432              | [HIVE-18353](https://issues.apache.org/jira/browse/HIVE-18353)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | CompactorMR deve chamar jobclient. Close () para disparar a limpeza                                                                                   |
| BUG-94575              | [SPARK-22587](https://issues.apache.org/jira/browse/SPARK-22587)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | O trabalho do Spark falhará se FS. defaultFS e o aplicativo jar forem URLs diferentes                                                                          |
| BUG-94791              | [SPARK-22793](https://issues.apache.org/jira/browse/SPARK-22793)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Vazamento de memória no servidor Thrift Spark                                                                                                             |
| BUG-94928              | [HDFS-11078](https://issues.apache.org/jira/browse/HDFS-11078)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Corrigir o NPE em LazyPersistFileScrubber                                                                                                             |
| BUG-95013              | [HIVE-18488](https://issues.apache.org/jira/browse/HIVE-18488)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | LLAP leitores de ORC estão faltando algumas verificações nulas                                                                                                  |
| BUG-95077              | [HIVE-14205](https://issues.apache.org/jira/browse/HIVE-14205)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O hive não dá suporte ao tipo de União com o formato de arquivo AVRO                                                                                          |
| BUG-95200              | [HDFS-13061](https://issues.apache.org/jira/browse/HDFS-13061)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | SaslDataTransferClient\#checkTrustAndSend não deve confiar em um canal parcialmente confiável                                                         |
| BUG-95201              | [HDFS-13060](https://issues.apache.org/jira/browse/HDFS-13060)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Adicionando um BlacklistBasedTrustedChannelResolver para TrustedChannelResolver                                                                       |
| BUG-95284              | [HBASE-19395](https://issues.apache.org/jira/browse/HBASE-19395)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | \[Branch-1\] TestEndToEndSplitTransaction. testMasterOpsWhileSplitting falha com o NPE                                                           |
| BUG-95301              | [HIVE-18517](https://issues.apache.org/jira/browse/HIVE-18517)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Vetorização: corrija o VectorMapOperator para aceitar o VRBs e verifique o sinalizador vetorizado corretamente para dar suporte ao cache LLAP                                |
| BUG-95542              | [HBASE-16135](https://issues.apache.org/jira/browse/HBASE-16135)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | PeerClusterZnode sob RS do par removido pode nunca ser excluído                                                                                 |
| BUG-95595              | [HIVE-15563](https://issues.apache.org/jira/browse/HIVE-15563)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Ignorar exceção de transição de estado de operação ilegal em sqloperation. runQuery para expor a exceção real.                                         |
| BUG-95596              | [Yarn-4126](https://issues.apache.org/jira/browse/YARN-4126), [yarn-5750](https://issues.apache.org/jira/browse/YARN-5750)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | TestClientRMService falha                                                                                                                      |
| BUG-96019              | [HIVE-18548](https://issues.apache.org/jira/browse/HIVE-18548)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Corrigir importação de Log4J                                                                                                                               |
| BUG-96196              | [HDFS-13120](https://issues.apache.org/jira/browse/HDFS-13120)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A comparação de instantâneos pode ser corrompida após Concat                                                                                                  |
| BUG-96289              | [HDFS-11701](https://issues.apache.org/jira/browse/HDFS-11701)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O NPE de um host não resolvido causa falhas DFSInputStream permanentes                                                                              |
| BUG-96291              | [STORM-2652](https://issues.apache.org/jira/browse/STORM-2652)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Exceção lançada no método JmsSpout Open                                                                                                       |
| BUG-96363              | [HIVE-18959](https://issues.apache.org/jira/browse/HIVE-18959)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Evite criar um pool extra de threads no LLAP                                                                                               |
| BUG-96390              | [HDFS-10453](https://issues.apache.org/jira/browse/HDFS-10453)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O thread ReplicationMonitor pode estar preso por um longo tempo devido à corrida entre a replicação e a exclusão do mesmo arquivo em um cluster grande.            |
| BUG-96454              | [YARN-4593](https://issues.apache.org/jira/browse/YARN-4593)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Deadlock em AbstractService. GetConfig ()                                                                                                        |
| BUG-96704              | [FALCON-2322](https://issues.apache.org/jira/browse/FALCON-2322)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | ClassCastException enquanto submitAndSchedule feed                                                                                                |
| BUG-96720              | [CONTROLE DESLIZANTE-1262](https://issues.apache.org/jira/browse/SLIDER-1262)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | O controle deslizante functests está falhando no ambiente "Kerberizado"                                                                                         |
| BUG-96931              | [Spark-23053](https://issues.apache.org/jira/browse/SPARK-23053), [Spark-23186](https://issues.apache.org/jira/browse/SPARK-23186), [Spark-23230](https://issues.apache.org/jira/browse/SPARK-23230), [Spark-23358](https://issues.apache.org/jira/browse/SPARK-23358), [Spark-23376](https://issues.apache.org/jira/browse/SPARK-23376), [Spark-23391](https://issues.apache.org/jira/browse/SPARK-23391)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Atualizar Spark2 atualizado (Fev. 19)                                                                                                             |
| BUG-97067              | [HIVE-10697](https://issues.apache.org/jira/browse/HIVE-10697)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ObjectInspectorConvertors\#UnionConvertor faz uma conversão com falhas                                                                             |
| BUG-97244              | [KNOX-1083](https://issues.apache.org/jira/browse/KNOX-1083)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | O tempo limite padrão de HttpClient deve ser um valor sensato                                                                                          |
| BUG-97459              | [ZEPPELIN-3271](https://issues.apache.org/jira/browse/ZEPPELIN-3271)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Opção para desabilitar o Agendador                                                                                                                 |
| BUG-97511              | [KNOX-1197](https://issues.apache.org/jira/browse/KNOX-1197)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | AnonymousAuthFilter não é adicionado quando autenticação = anônimo no serviço                                                                      |
| BUG-97601              | [HIVE-17479](https://issues.apache.org/jira/browse/HIVE-17479)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Os diretórios de preparo não são limpos para consultas de atualização/exclusão                                                                            |
| BUG-97605              | [HIVE-18858](https://issues.apache.org/jira/browse/HIVE-18858)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Propriedades do sistema na configuração do trabalho não resolvidas ao enviar trabalho do MR                                                                     |
| BUG-97674              | [OOZIE-3186](https://issues.apache.org/jira/browse/OOZIE-3186)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Oozie não pode usar a configuração vinculada usando jceks://file/...                                                                             |
| BUG-97743              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | exceção de Java. lang. NoClassDefFoundError ao implantar a topologia do Storm                                                                        |
| BUG-97756              | [PHOENIX-4576](https://issues.apache.org/jira/browse/PHOENIX-4576)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Corrigir testes de LocalIndexSplitMergeIT com falha no Branch mestre                                                                                      |
| BUG-97771              | [HDFS-11711](https://issues.apache.org/jira/browse/HDFS-11711)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | O DN não deve excluir o bloco na exceção "muitos arquivos abertos"                                                                              |
| BUG-97869              | [KNOX-1190](https://issues.apache.org/jira/browse/KNOX-1190)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | O suporte ao SSO do Knox para o Google OIDC foi interrompido.                                                                                                    |
| BUG-97879              | [PHOENIX-4489](https://issues.apache.org/jira/browse/PHOENIX-4489)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Vazamento de conexão do HBase em trabalhos Phoenix MR                                                                                                       |
| BUG-98392              | [RANGER-2007](https://issues.apache.org/jira/browse/RANGER-2007)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | o tíquete Kerberos do Ranger-tagsync falha ao renovar                                                                                                |
| BUG-98484              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | A replicação incremental do hive para a nuvem não está funcionando                                                                                              |
| BUG-98533              | [HBase-19934](https://issues.apache.org/jira/browse/HBASE-19934), [HBase-20008](https://issues.apache.org/jira/browse/HBASE-20008)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | A restauração de instantâneo do HBase está falhando devido a uma exceção de ponteiro NULL                                                                                |
| BUG-98555              | [PHOENIX-4662](https://issues.apache.org/jira/browse/PHOENIX-4662)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | NullPointerException em TableResultIterator. java no cache reenviar                                                                               |
| BUG-98579              | [HBASE-13716](https://issues.apache.org/jira/browse/HBASE-13716)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Parar de usar o FSConstants do Hadoop                                                                                                                |
| BUG-98705              | [KNOX-1230](https://issues.apache.org/jira/browse/KNOX-1230)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Muitas solicitações simultâneas ao Knox causam a desgerenciação de URL                                                                                           |
| BUG-98983              | [KNOX-1108](https://issues.apache.org/jira/browse/KNOX-1108)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | NiFiHaDispatch não está fazendo failover                                                                                                                |
| BUG-99107              | [HIVE-19054](https://issues.apache.org/jira/browse/HIVE-19054)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A replicação de função deve usar "Hive. repl. Replica. Functions. root. dir" como raiz                                                                  |
| BUG-99145              | [RANGER-2035](https://issues.apache.org/jira/browse/RANGER-2035)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Erros ao acessar servicedefs com implClass vazio com o back-end Oracle                                                                          |
| BUG-99160              | [CONTROLE DESLIZANTE-1259](https://issues.apache.org/jira/browse/SLIDER-1259)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | O controle deslizante não funciona em ambientes de hospedagem múltipla                                                                                               |
| BUG-99239              | [ATLAS-2462](https://issues.apache.org/jira/browse/ATLAS-2462)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A importação de Sqoop para todas as tabelas lança o NPE para nenhuma tabela fornecida no comando                                                                        |
| BUG-99301              | [ATLAS-2530](https://issues.apache.org/jira/browse/ATLAS-2530)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Nova linha no início do atributo de nome de um Hive\_o processo e o hive\_coluna\_linhagem                                                    |
| BUG-99453              | [HIVE-19065](https://issues.apache.org/jira/browse/HIVE-19065)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | A verificação de compatibilidade do cliente do metastore deve incluir syncMetaStoreClient                                                                        |
| BUG-99521              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ServerCache para HashJoin não é recriado quando os iteradores são instanciados novamente                                                                  |
| BUG-99590              | [PHOENIX-3518](https://issues.apache.org/jira/browse/PHOENIX-3518)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Vazamento de memória em RenewLeaseTask                                                                                                                  |
| BUG-99618              | [Spark-23599](https://issues.apache.org/jira/browse/SPARK-23599), [Spark-23806](https://issues.apache.org/jira/browse/SPARK-23806)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Atualizar Spark2 para 2.3.0 + (3/28)                                                                                                                 |
| BUG-99672              | [ATLAS-2524](https://issues.apache.org/jira/browse/ATLAS-2524)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Gancho de Hive com notificações v2-tratamento incorreto da operação ' ALTER VIEW as '                                                              |
| BUG-99809              | [HBASE-20375](https://issues.apache.org/jira/browse/HBASE-20375)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Remover o uso de getCurrentUserCredentials no módulo HBase-Spark                                                                                  |

**Capacidade**

| **ID do bug Hortonworks** | **Apache JIRA**                                                  | **Resumo**                                                                                   |
|------------------------|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| BUG-87343              | [HIVE-18031](https://issues.apache.org/jira/browse/HIVE-18031)   | Suporte à replicação para a operação ALTER DATABASE.                                             |
| BUG-91293              | [RANGER-2060](https://issues.apache.org/jira/browse/RANGER-2060) | O proxy Knox com Knox-SSO não está funcionando para o Ranger                                            |
| BUG-93116              | [RANGER-1957](https://issues.apache.org/jira/browse/RANGER-1957) | O Ranger usersync não está sincronizando usuários ou grupos periodicamente quando a sincronização incremental está habilitada. |
| BUG-93577              | [RANGER-1938](https://issues.apache.org/jira/browse/RANGER-1938) | Solr para a instalação de auditoria não usa o DocValues efetivamente                                        |
| BUG-96082              | [RANGER-1982](https://issues.apache.org/jira/browse/RANGER-1982) | Aperfeiçoamento de erro para a métrica de análise do administrador do Ranger e de Ranger kms                         |
| BUG-96479              | [HDFS-12781](https://issues.apache.org/jira/browse/HDFS-12781)   | Após o datanode inoperante, na guia datanode da interface do usuário do Namenode está lançando mensagem de aviso.                 |
| BUG-97864              | [HIVE-18833](https://issues.apache.org/jira/browse/HIVE-18833)   | A mesclagem automática falha quando "inserir no diretório como orcfile"                                      |
| BUG-98814              | [HDFS-13314](https://issues.apache.org/jira/browse/HDFS-13314)   | O NameNode deve, opcionalmente, ser fechado se detectar corrupção de FsImage                              |

**Atualizar**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                | **Resumo**                                                                 |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| BUG-100134             | [SPARK-22919](https://issues.apache.org/jira/browse/SPARK-22919)                                                               | Reversão de "rebatida do Apache HttpClient Versions"                                 |
| BUG-95823              | N/A                                                                                                                            | Knox: atualizar Beanutils                                                     |
| BUG-96751              | [KNOX-1076](https://issues.apache.org/jira/browse/KNOX-1076)                                                                   | Atualizar Nimbus-José-JWT para 4.41.2                                            |
| BUG-97864              | [HIVE-18833](https://issues.apache.org/jira/browse/HIVE-18833)                                                                 | A mesclagem automática falha quando "inserir no diretório como orcfile"                    |
| BUG-99056              | [HADOOP-13556](https://issues.apache.org/jira/browse/HADOOP-13556)                                                             | Altere Configuration. getPropsWithPrefix para usar GetProps em vez de iterador |
| BUG-99378              | [Atlas-2461](https://issues.apache.org/jira/browse/ATLAS-2461), [Atlas-2554](https://issues.apache.org/jira/browse/ATLAS-2554) | Utilitário de migração para exportar dados do Atlas no BD do Titan                    |

**Termos**

| **ID do bug Hortonworks** | **Apache JIRA**                                                                                                                                                                                                                                                                | **Resumo**                                                                                                                                                  |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| BUG-100045             | [HIVE-19056](https://issues.apache.org/jira/browse/HIVE-19056)                                                                                                                                                                                                                 | IllegalArgumentException em FixAcidKeyIndex quando o arquivo ORC tem 0 linhas                                                                                         |
| BUG-100139             | [KNOX-1243](https://issues.apache.org/jira/browse/KNOX-1243)                                                                                                                                                                                                                   | Normalizar o DNs necessário configurado no serviço KnoxToken                                                                                          |
| BUG-100570             | [ATLAS-2557](https://issues.apache.org/jira/browse/ATLAS-2557)                                                                                                                                                                                                                 | Correção para permitir a pesquisa de grupos de LDAP do Hadoop quando os grupos de UGI estiverem definidos incorretamente ou não estiverem vazios                                                          |
| BUG-100646             | [ATLAS-2102](https://issues.apache.org/jira/browse/ATLAS-2102)                                                                                                                                                                                                                 | Aprimoramentos da interface do usuário do Atlas: página de resultados da pesquisa                                                                                                                   |
| BUG-100737             | [HIVE-19049](https://issues.apache.org/jira/browse/HIVE-19049)                                                                                                                                                                                                                 | Adicionar suporte para ALTER TABLE adicionar colunas para Druid                                                                                                            |
| BUG-100750             | [KNOX-1246](https://issues.apache.org/jira/browse/KNOX-1246)                                                                                                                                                                                                                   | Atualize a configuração do serviço no Knox para oferecer suporte às configurações mais recentes para o Ranger.                                                                                   |
| BUG-100965             | [ATLAS-2581](https://issues.apache.org/jira/browse/ATLAS-2581)                                                                                                                                                                                                                 | Regressão com notificações de gancho do hive v2: movendo a tabela para um banco de dados diferente                                                                            |
| BUG-84413              | [ATLAS-1964](https://issues.apache.org/jira/browse/ATLAS-1964)                                                                                                                                                                                                                 | Interface do usuário: suporte para ordenar colunas na tabela de pesquisa                                                                                                                |
| BUG-90570              | [HDFS-11384](https://issues.apache.org/jira/browse/HDFS-11384), [HDFS-12347](https://issues.apache.org/jira/browse/HDFS-12347)                                                                                                                                                 | Adicione a opção para o balanceador para dispersar chamadas getblocks para evitar o RPC de NameNode. Pico de CallQueueLength                                                            |
| BUG-90584              | [HBASE-19052](https://issues.apache.org/jira/browse/HBASE-19052)                                                                                                                                                                                                               | FixedFileTrailer deve reconhecer a classe CellComparatorImpl no Branch-1. x                                                                                     |
| BUG-90979              | [KNOX-1224](https://issues.apache.org/jira/browse/KNOX-1224)                                                                                                                                                                                                                   | Knox proxy HADispatcher para dar suporte ao Atlas na HA.                                                                                                              |
| BUG-91293              | [RANGER-2060](https://issues.apache.org/jira/browse/RANGER-2060)                                                                                                                                                                                                               | O proxy Knox com Knox-SSO não está funcionando para o Ranger                                                                                                           |
| BUG-92236              | [ATLAS-2281](https://issues.apache.org/jira/browse/ATLAS-2281)                                                                                                                                                                                                                 | Salvando consultas de filtro de atributo de marca/tipo com filtros nulos/não nulos.                                                                                         |
| BUG-92238              | [ATLAS-2282](https://issues.apache.org/jira/browse/ATLAS-2282)                                                                                                                                                                                                                 | A pesquisa favorita salva só aparecerá na atualização após a criação quando houver mais de 25 pesquisas favoritas.                                                          |
| BUG-92333              | [ATLAS-2286](https://issues.apache.org/jira/browse/ATLAS-2286)                                                                                                                                                                                                                 | O tipo predefinido ' Kafka\_topic ' não deve declarar o atributo ' topic ' como exclusivo                                                                                 |
| BUG-92678              | [ATLAS-2276](https://issues.apache.org/jira/browse/ATLAS-2276)                                                                                                                                                                                                                 | O valor de caminho para a entidade do tipo de caminho de\_HDFS é definido como letras minúsculas da ponte de Hive.                                                                                 |
| BUG-93097              | [RANGER-1944](https://issues.apache.org/jira/browse/RANGER-1944)                                                                                                                                                                                                               | O filtro de ação para auditoria de administrador não está funcionando                                                                                                                 |
| BUG-93135              | [Hive-15874](https://issues.apache.org/jira/browse/HIVE-15874), [Hive-18189](https://issues.apache.org/jira/browse/HIVE-18189)                                                                                                                                                 | Consulta do hive retornando resultados incorretos ao definir Hive. GroupBy. OrderBy. Position. alias como true                                                                      |
| BUG-93136              | [HIVE-18189](https://issues.apache.org/jira/browse/HIVE-18189)                                                                                                                                                                                                                 | Ordenar por posição não funciona quando CBO está desabilitado                                                                                                         |
| BUG-93387              | [HIVE-17600](https://issues.apache.org/jira/browse/HIVE-17600)                                                                                                                                                                                                                 | Tornar o OrcFile "enforceBufferSize" configurável pelo usuário.                                                                                                            |
| BUG-93495              | [RANGER-1937](https://issues.apache.org/jira/browse/RANGER-1937)                                                                                                                                                                                                               | O Ranger tagsync deve processar a entidade\_criar notificação para dar suporte ao recurso de importação do Atlas                                                                   |
| BUG-93512              | [PHOENIX-4466](https://issues.apache.org/jira/browse/PHOENIX-4466)                                                                                                                                                                                                             | Java. lang. RuntimeException: código de resposta 500-executando um trabalho do Spark para se conectar ao servidor de consulta Phoenix e carregar dados                                       |
| BUG-93801              | [HBASE-19393](https://issues.apache.org/jira/browse/HBASE-19393)                                                                                                                                                                                                               | Cabeçalho completo do HTTP 413 ao acessar a interface do usuário do HBase usando SSL.                                                                                                       |
| BUG-93804              | [HIVE-17419](https://issues.apache.org/jira/browse/HIVE-17419)                                                                                                                                                                                                                 | ANALISAR tabela... as estatísticas de computação para o comando colunas mostra estatísticas computadas para tabelas mascaradas                                                                |
| BUG-93932              | [ATLAS-2320](https://issues.apache.org/jira/browse/ATLAS-2320)                                                                                                                                                                                                                 | a classificação "\*" com a consulta gera 500 exceção de servidor interno.                                                                                         |
| BUG-93933              | [ATLAS-2286](https://issues.apache.org/jira/browse/ATLAS-2286)                                                                                                                                                                                                                 | O tipo predefinido ' Kafka\_topic ' não deve declarar o atributo ' topic ' como exclusivo                                                                                 |
| BUG-93938              | [Atlas-2283](https://issues.apache.org/jira/browse/ATLAS-2283), [Atlas-2295](https://issues.apache.org/jira/browse/ATLAS-2295)                                                                                                                                                 | Atualizações da interface do usuário para classificações                                                                                                                               |
| BUG-93941              | [Atlas-2296](https://issues.apache.org/jira/browse/ATLAS-2296), [Atlas-2307](https://issues.apache.org/jira/browse/ATLAS-2307)                                                                                                                                                 | Aprimoramento de pesquisa básica para excluir opcionalmente entidades de subtipo e tipos de subclassificação                                                                |
| BUG-93944              | [ATLAS-2318](https://issues.apache.org/jira/browse/ATLAS-2318)                                                                                                                                                                                                                 | IU: clicando na marca filho duas vezes, a marca pai está selecionada                                                                                                    |
| BUG-93946              | [ATLAS-2319](https://issues.apache.org/jira/browse/ATLAS-2319)                                                                                                                                                                                                                 | Interface do usuário: excluindo uma marca que em mais de 25 posições na lista de marcas em uma estrutura simples e de árvore precisa de uma atualização para remover a marca da lista.                   |
| BUG-93977              | [HIVE-16232](https://issues.apache.org/jira/browse/HIVE-16232)                                                                                                                                                                                                                 | Cálculo de estatísticas de suporte para a coluna em QuotedIdentifier                                                                                                     |
| BUG-94030              | [ATLAS-2332](https://issues.apache.org/jira/browse/ATLAS-2332)                                                                                                                                                                                                                 | Falha na criação do tipo com atributos com tipo de dados de coleção aninhada                                                                                     |
| BUG-94099              | [ATLAS-2352](https://issues.apache.org/jira/browse/ATLAS-2352)                                                                                                                                                                                                                 | O servidor do Atlas deve fornecer a configuração para especificar a validade do Kerberos DelegationToken                                                                   |
| BUG-94280              | [HIVE-12785](https://issues.apache.org/jira/browse/HIVE-12785)                                                                                                                                                                                                                 | Exibir com tipo de União e UDF para \`conversão\` struct está quebrada                                                                                                |
| BUG-94332              | [SQOOP-2930](https://issues.apache.org/jira/browse/SQOOP-2930)                                                                                                                                                                                                                 | Sqoop Job exec não substituindo as propriedades genéricas de trabalho salvas                                                                                               |
| BUG-94428              | N/A                                                                                                                                                                                                                                                                            | Suporte a API REST do agente do criador de perfil do dataplane                                                                                                               |
| BUG-94514              | [ATLAS-2339](https://issues.apache.org/jira/browse/ATLAS-2339)                                                                                                                                                                                                                 | Interface do usuário: as modificações em "colunas" na exibição de resultado da pesquisa básica também afetam a DSL.                                                                                |
| BUG-94515              | [ATLAS-2169](https://issues.apache.org/jira/browse/ATLAS-2169)                                                                                                                                                                                                                 | A solicitação de exclusão falha quando a exclusão complexa está configurada                                                                                                          |
| BUG-94518              | [ATLAS-2329](https://issues.apache.org/jira/browse/ATLAS-2329)                                                                                                                                                                                                                 | A interface do usuário do Atlas vários focalizados aparece se o usuário clicar em outra marca que está incorreta                                                                             |
| BUG-94519              | [ATLAS-2272](https://issues.apache.org/jira/browse/ATLAS-2272)                                                                                                                                                                                                                 | Salve o estado das colunas arrastadas usando a API de salvamento de pesquisa.                                                                                                     |
| BUG-94627              | [HIVE-17731](https://issues.apache.org/jira/browse/HIVE-17731)                                                                                                                                                                                                                 | Adicionar uma opção de compatibilidade com versões anteriores para usuários externos ao HIVE-11985                                                                                                |
| BUG-94786              | [HIVE-6091](https://issues.apache.org/jira/browse/HIVE-6091)                                                                                                                                                                                                                   | Arquivos de pipeout vazios são criados para criação/fechamento de conexão                                                                                                  |
| BUG-94793              | [HIVE-14013](https://issues.apache.org/jira/browse/HIVE-14013)                                                                                                                                                                                                                 | Descrever tabela não mostra o Unicode corretamente                                                                                                                 |
| BUG-94900              | [OOZIE-2606](https://issues.apache.org/jira/browse/OOZIE-2606), [OOZIE-2658](https://issues.apache.org/jira/browse/OOZIE-2658), [OOZIE-2787](https://issues.apache.org/jira/browse/OOZIE-2787), [OOZIE-2802](https://issues.apache.org/jira/browse/OOZIE-2802)                 | Defina Spark. yarn. jars para corrigir o Spark 2,0 com Oozie                                                                                                              |
| BUG-94901              | [HBASE-19285](https://issues.apache.org/jira/browse/HBASE-19285)                                                                                                                                                                                                               | Adicionar histogramas de latência por tabela                                                                                                                             |
| BUG-94908              | [ATLAS-1921](https://issues.apache.org/jira/browse/ATLAS-1921)                                                                                                                                                                                                                 | Interface do usuário: Pesquisar usando atributos de entidade e característica: a interface do usuário não executa a verificação de intervalo e permite fornecer valores fora de limites para tipos de dados integral e float.  |
| BUG-95086              | [RANGER-1953](https://issues.apache.org/jira/browse/RANGER-1953)                                                                                                                                                                                                               | aprimoramento na listagem de páginas do grupo de usuários                                                                                                                       |
| BUG-95193              | [CONTROLE DESLIZANTE-1252](https://issues.apache.org/jira/browse/SLIDER-1252)                                                                                                                                                                                                               | O agente de controle deslizante falha com erros de validação de SSL com Python 2.7.5-58                                                                                           |
| BUG-95314              | [YARN-7699](https://issues.apache.org/jira/browse/YARN-7699)                                                                                                                                                                                                                   | queueUsagePercentage está chegando como INF para a chamada à API REST do getApp                                                                                               |
| BUG-95315              | [HBase-13947](https://issues.apache.org/jira/browse/HBASE-13947), [HBase-14517](https://issues.apache.org/jira/browse/HBASE-14517), [HBase-17931](https://issues.apache.org/jira/browse/HBASE-17931)                                                                           | Atribuir tabelas do sistema a servidores com a versão mais recente                                                                                                         |
| BUG-95392              | [ATLAS-2421](https://issues.apache.org/jira/browse/ATLAS-2421)                                                                                                                                                                                                                 | Atualizações de notificação para dar suporte a estruturas de dados v2                                                                                                           |
| BUG-95476              | [RANGER-1966](https://issues.apache.org/jira/browse/RANGER-1966)                                                                                                                                                                                                               | A inicialização do mecanismo de política não cria enriquecedores de contexto em alguns casos                                                                                 |
| BUG-95512              | [HIVE-18467](https://issues.apache.org/jira/browse/HIVE-18467)                                                                                                                                                                                                                 | suporte total de despejo de depósito/carregamento + criar/soltar eventos de banco de dados                                                                                            |
| BUG-95593              | N/A                                                                                                                                                                                                                                                                            | Estender os utils do Oozie DB para dar suporte à criação de Spark2 sharelib                                                                                                    |
| BUG-95595              | [HIVE-15563](https://issues.apache.org/jira/browse/HIVE-15563)                                                                                                                                                                                                                 | Ignorar exceção de transição de estado de operação ilegal em sqloperation. runQuery para expor a exceção real.                                                       |
| BUG-95685              | [ATLAS-2422](https://issues.apache.org/jira/browse/ATLAS-2422)                                                                                                                                                                                                                 | Exportar: suporte à exportação baseada em tipo                                                                                                                            |
| BUG-95798              | [Phoenix-2714](https://issues.apache.org/jira/browse/PHOENIX-2714), [Phoenix-2724](https://issues.apache.org/jira/browse/PHOENIX-2724), [Phoenix-3023](https://issues.apache.org/jira/browse/PHOENIX-3023), [Phoenix-3040](https://issues.apache.org/jira/browse/PHOENIX-3040) | Não use balizas para executar consultas em série                                                                                                          |
| BUG-95969              | [Hive-16828](https://issues.apache.org/jira/browse/HIVE-16828), [Hive-17063](https://issues.apache.org/jira/browse/HIVE-17063), [Hive-18390](https://issues.apache.org/jira/browse/HIVE-18390)                                                                                 | A exibição particionada falha com falha: índice IndexOutOfBoundsException: 1, tamanho: 1                                                                              |
| BUG-96019              | [HIVE-18548](https://issues.apache.org/jira/browse/HIVE-18548)                                                                                                                                                                                                                 | Corrigir importação de Log4J                                                                                                                                             |
| BUG-96288              | [HBase-14123](https://issues.apache.org/jira/browse/HBASE-14123), [HBase-14135](https://issues.apache.org/jira/browse/HBASE-14135), [HBase-17850](https://issues.apache.org/jira/browse/HBASE-17850)                                                                           | Backup/restauração do backport HBase 2,0                                                                                                                            |
| BUG-96313              | [KNOX-1119](https://issues.apache.org/jira/browse/KNOX-1119)                                                                                                                                                                                                                   | O Pac4J OAuth/OpenID principal precisa ser configurável                                                                                                        |
| BUG-96365              | [ATLAS-2442](https://issues.apache.org/jira/browse/ATLAS-2442)                                                                                                                                                                                                                 | O usuário com permissão somente leitura no recurso de entidade não pode executar a pesquisa básica                                                                              |
| BUG-96479              | [HDFS-12781](https://issues.apache.org/jira/browse/HDFS-12781)                                                                                                                                                                                                                 | Após o datanode inoperante, na guia datanode da interface do usuário do Namenode está lançando mensagem de aviso.                                                                                |
| BUG-96502              | [RANGER-1990](https://issues.apache.org/jira/browse/RANGER-1990)                                                                                                                                                                                                               | Adicionar suporte a MySQL SSL unidirecional no administrador do Ranger                                                                                                                |
| BUG-96718              | [ATLAS-2439](https://issues.apache.org/jira/browse/ATLAS-2439)                                                                                                                                                                                                                 | Atualizar o Sqoop Hook para usar notificações v2                                                                                                                    |
| BUG-96748              | [HIVE-18587](https://issues.apache.org/jira/browse/HIVE-18587)                                                                                                                                                                                                                 | inserir evento DML pode tentar calcular uma soma de verificação em diretórios                                                                                          |
| BUG-96821              | [HBASE-18212](https://issues.apache.org/jira/browse/HBASE-18212)                                                                                                                                                                                                               | Em modo autônomo com o sistema de arquivos local log do HBase mensagem de aviso: falha ao invocar o método ' unbuffer ' na classe class org. Apache. Hadoop. FS. FSDataInputStream |
| BUG-96847              | [HIVE-18754](https://issues.apache.org/jira/browse/HIVE-18754)                                                                                                                                                                                                                 | O STATUS de REPL deve dar suporte à cláusula ' with '                                                                                                                     |
| BUG-96873              | [ATLAS-2443](https://issues.apache.org/jira/browse/ATLAS-2443)                                                                                                                                                                                                                 | Capturar atributos de entidade necessários em mensagens de exclusão de saída                                                                                               |
| BUG-96880              | [SPARK-23230](https://issues.apache.org/jira/browse/SPARK-23230)                                                                                                                                                                                                               | Quando Hive. default. fileformade são outros tipos de tipos de arquivo, Create textfile Table causa um erro serde                                                         |
| BUG-96911              | [OOZIE-2571](https://issues.apache.org/jira/browse/OOZIE-2571), [OOZIE-2792](https://issues.apache.org/jira/browse/OOZIE-2792), [OOZIE-2799](https://issues.apache.org/jira/browse/OOZIE-2799), [OOZIE-2923](https://issues.apache.org/jira/browse/OOZIE-2923)                 | Melhorar a análise de opções do Spark                                                                                                                                |
| BUG-97100              | [RANGER-1984](https://issues.apache.org/jira/browse/RANGER-1984)                                                                                                                                                                                                               | Os registros de log de auditoria do HBase podem não mostrar todas as marcas associadas à coluna acessada                                                                                |
| BUG-97110              | [PHOENIX-3789](https://issues.apache.org/jira/browse/PHOENIX-3789)                                                                                                                                                                                                             | Executar chamadas de manutenção de índice de região cruzada no postBatchMutateIndispensably                                                                                 |
| BUG-97145              | [Hive-12245](https://issues.apache.org/jira/browse/HIVE-12245), [Hive-17829](https://issues.apache.org/jira/browse/HIVE-17829)                                                                                                                                                 | Suporte a comentários de coluna para uma tabela com backup do HBase                                                                                                            |
| BUG-97409              | [HADOOP-15255](https://issues.apache.org/jira/browse/HADOOP-15255)                                                                                                                                                                                                             | Suporte à conversão em maiúsculas/minúsculas para nomes de grupo em LdapGroupsMapping                                                                                     |
| BUG-97535              | [HIVE-18710](https://issues.apache.org/jira/browse/HIVE-18710)                                                                                                                                                                                                                 | estender inheritPerms para ACID no hive 2. X                                                                                                                      |
| BUG-97742              | [OOZIE-1624](https://issues.apache.org/jira/browse/OOZIE-1624)                                                                                                                                                                                                                 | Padrão de exclusão para JARs sharelib                                                                                                                          |
| BUG-97744              | [PHOENIX-3994](https://issues.apache.org/jira/browse/PHOENIX-3994)                                                                                                                                                                                                             | A prioridade de RPC de índice ainda depende da propriedade de fábrica do controlador em HBase-site. xml                                                                        |
| BUG-97787              | [HIVE-18460](https://issues.apache.org/jira/browse/HIVE-18460)                                                                                                                                                                                                                 | O compactador não passa Propriedades de tabela para o gravador Orc                                                                                                    |
| BUG-97788              | [HIVE-18613](https://issues.apache.org/jira/browse/HIVE-18613)                                                                                                                                                                                                                 | Estender JsonSerDe para dar suporte ao tipo BINARY                                                                                                                      |
| BUG-97899              | [HIVE-18808](https://issues.apache.org/jira/browse/HIVE-18808)                                                                                                                                                                                                                 | Tornar a compactação mais robusta quando a atualização de estatísticas falhar                                                                                                          |
| BUG-98038              | [HIVE-18788](https://issues.apache.org/jira/browse/HIVE-18788)                                                                                                                                                                                                                 | Limpar entradas no JDBC PreparedStatement                                                                                                                    |
| BUG-98383              | [HIVE-18907](https://issues.apache.org/jira/browse/HIVE-18907)                                                                                                                                                                                                                 | Criar utilitário para corrigir o problema de índice de chave acid do HIVE-18817                                                                                                   |
| BUG-98388              | [RANGER-1828](https://issues.apache.org/jira/browse/RANGER-1828)                                                                                                                                                                                                               | Boa prática de codificação – adicionar cabeçalhos adicionais no Ranger                                                                                                        |
| BUG-98392              | [RANGER-2007](https://issues.apache.org/jira/browse/RANGER-2007)                                                                                                                                                                                                               | o tíquete Kerberos do Ranger-tagsync falha ao renovar                                                                                                              |
| BUG-98533              | [HBase-19934](https://issues.apache.org/jira/browse/HBASE-19934), [HBase-20008](https://issues.apache.org/jira/browse/HBASE-20008)                                                                                                                                             | A restauração de instantâneo do HBase está falhando devido a uma exceção de ponteiro NULL                                                                                              |
| BUG-98552              | [HBase-18083](https://issues.apache.org/jira/browse/HBASE-18083), [HBase-18084](https://issues.apache.org/jira/browse/HBASE-18084)                                                                                                                                             | Tornar o número de thread de limpeza de arquivos grandes/pequenos configurável no HFileCleaner                                                                                       |
| BUG-98705              | [KNOX-1230](https://issues.apache.org/jira/browse/KNOX-1230)                                                                                                                                                                                                                   | Muitas solicitações simultâneas ao Knox causam a desgerenciação de URL                                                                                                         |
| BUG-98711              | N/A                                                                                                                                                                                                                                                                            | A expedição de NiFi não pode usar SSL bidirecional sem modificações de Service. xml                                                                                        |
| BUG-98880              | [OOZIE-3199](https://issues.apache.org/jira/browse/OOZIE-3199)                                                                                                                                                                                                                 | Permitir que a restrição de Propriedade do sistema seja configurável                                                                                                                 |
| BUG-98931              | [ATLAS-2491](https://issues.apache.org/jira/browse/ATLAS-2491)                                                                                                                                                                                                                 | Atualizar o gancho do hive para usar as notificações do Atlas v2                                                                                                               |
| BUG-98983              | [KNOX-1108](https://issues.apache.org/jira/browse/KNOX-1108)                                                                                                                                                                                                                   | NiFiHaDispatch não está fazendo failover                                                                                                                              |
| BUG-99088              | [ATLAS-2511](https://issues.apache.org/jira/browse/ATLAS-2511)                                                                                                                                                                                                                 | Fornecer opções para importar seletivamente o banco de dados/tabelas do hive para o Atlas                                                                                 |
| BUG-99154              | [OOZIE-2844](https://issues.apache.org/jira/browse/OOZIE-2844), [OOZIE-2845](https://issues.apache.org/jira/browse/OOZIE-2845), [OOZIE-2858](https://issues.apache.org/jira/browse/OOZIE-2858), [OOZIE-2885](https://issues.apache.org/jira/browse/OOZIE-2885)                 | A consulta do Spark falhou com a exceção "Java. IO. FileNotFoundException: Hive-site. XML (permissão negada)"                                                         |
| BUG-99239              | [ATLAS-2462](https://issues.apache.org/jira/browse/ATLAS-2462)                                                                                                                                                                                                                 | A importação de Sqoop para todas as tabelas lança o NPE para nenhuma tabela fornecida no comando                                                                                      |
| BUG-99636              | [KNOX-1238](https://issues.apache.org/jira/browse/KNOX-1238)                                                                                                                                                                                                                   | Corrigir configurações de trustStore personalizadas para o gateway                                                                                                                   |
| BUG-99650              | [KNOX-1223](https://issues.apache.org/jira/browse/KNOX-1223)                                                                                                                                                                                                                   | O proxy Knox do Zeppelin não redireciona/API/ticket conforme o esperado                                                                                               |
| BUG-99804              | [OOZIE-2858](https://issues.apache.org/jira/browse/OOZIE-2858)                                                                                                                                                                                                                 | HiveMain, ShellMain e SparkMain não devem substituir os arquivos de propriedades e de configuração localmente                                                                   |
| BUG-99805              | [OOZIE-2885](https://issues.apache.org/jira/browse/OOZIE-2885)                                                                                                                                                                                                                 | Executar ações do Spark não deve precisar do hive no classpath                                                                                                  |
| BUG-99806              | [OOZIE-2845](https://issues.apache.org/jira/browse/OOZIE-2845)                                                                                                                                                                                                                 | Substitua o código baseado em reflexão que define a variável em HiveConf                                                                                                |
| BUG-99807              | [OOZIE-2844](https://issues.apache.org/jira/browse/OOZIE-2844)                                                                                                                                                                                                                 | Aumentar a estabilidade de ações Oozie quando Log4J. Properties estiver ausente ou não legível                                                                         |
| RMP-9995               | [AMBARI-22222](https://issues.apache.org/jira/browse/AMBARI-22222)                                                                                                                                                                                                             | Alterne Druid para usar o diretório/var/Druid em vez de/apps/Druid no disco local                                                                                |

### <a name="behavioral-changes"></a>Alterações comportamentais

|**Componente do Apache**|**Apache JIRA**|**Resumo**|**Detalhes**|
|--|--|--|--|
|**Spark 2,3** |**N/D** |**Alterações conforme documentado nas notas de versão do Apache Spark** |-Há um documento de "reprovação" e um guia de "alteração de comportamento", https://spark.apache.org/releases/spark-release-2-3-0.html#deprecations<br /><br />-Para o SQL Part, há outro guia detalhado de "migração" (de 2,2 a 2,3), https://spark.apache.org/docs/latest/sql-programming-guide.html#upgrading-from-spark-sql-22-to-23|
|Spark |[**HIVE-12505**](https://issues.apache.org/jira/browse/HIVE-12505) |O trabalho do Spark é concluído com êxito, mas há um erro de cota de disco de HDFS cheio |**Cenário:** A execução de **Insert substitui** quando uma cota é definida na pasta da lixeira do usuário que executa o comando.<br /><br />**Comportamento anterior:** O trabalho é executado com êxito, embora não seja possível mover os dados para a lixeira. O resultado pode conter erroneamente alguns dos dados presentes anteriormente na tabela.<br /><br />**Novo comportamento:** Quando a movimentação para a pasta da lixeira falha, os arquivos são excluídos permanentemente.|
|**Kafka 1,0**|**N/D**|**Alterações conforme documentado nas notas de versão do Apache Spark** |https://kafka.apache.org/10/documentation.html#upgrade_100_notable|
|**Hive/Ranger** | |Políticas adicionais do hive do Ranger necessárias para inserir substituição |**Cenário:** Políticas adicionais do hive do Ranger necessárias para **Inserir substituição**<br /><br />**Comportamento anterior:** Consultas de **substituição de inserção** de Hive têm sucesso como de costume.<br /><br />**Novo comportamento:** As consultas de **substituição de inserção** de Hive estão falhando inesperadamente após a atualização para HDP-2.6. x com o erro:<br /><br />Erro durante a compilação da instrução: falha: HiveAccessControlException permissão negada: o usuário jdoe não tem privilégio de gravação em/tmp/\*(estado = 42000, código = 40000)<br /><br />A partir de HDP-2.6.0, as consultas de **substituição de inserção** do hive exigem uma política de URI do Ranger para permitir operações de gravação, mesmo que o usuário tenha o privilégio de gravação concedido por meio da política HDFS.<br /><br />**Solução alternativa/ação do cliente esperada:**<br /><br />1. Crie uma nova política no repositório do hive.<br />2. no menu suspenso onde você vê banco de dados, selecione URI.<br />3. atualize o caminho (exemplo:/tmp/*)<br />4. Adicione os usuários e o grupo e salve.<br />5. Repita a consulta INSERT.|
|**HDFS**|**N/D** |O HDFS deve dar suporte a vários URIs KMS |**Comportamento anterior:** a propriedade DFS. encryption. Key. Provider. URI foi usada para configurar o caminho do provedor kms.<br /><br />**Novo comportamento:** o DFS. encryption. Key. Provider. URI agora foi preterido em favor do Hadoop. Security. Key. Provider. Path para configurar o caminho do provedor kms.|
|**Zeppelin**|[**ZEPPELIN-3271**](https://issues.apache.org/jira/browse/ZEPPELIN-3271)|Opção para desabilitar o Agendador |**Componente afetado:** Zeppelin-servidor<br /><br />**Comportamento anterior:** Nas versões anteriores do Zeppelin, não havia nenhuma opção para desabilitar o Agendador.<br /><br />**Novo comportamento:** Por padrão, os usuários não verão mais o Agendador, pois ele está desabilitado por padrão.<br /><br />**Solução alternativa/ação do cliente esperada:** Se você quiser habilitar o Agendador, será necessário adicionar azeppelin. notebook. cron. Enable com o valor de true em site Zeppelin personalizado nas configurações do Zeppelin de Ambari.|

### <a name="known-issues"></a>Problemas conhecidos

- **Integração do HDInsight com o ADLS Gen 2** Há dois problemas em clusters de ESP do HDInsight usando Azure Data Lake Storage Gen 2 com diretórios de usuário e permissões:
   
  1. Os diretórios base para os usuários não estão sendo criados no nó de cabeçalho 1. Como alternativa, crie os diretórios manualmente e altere a propriedade para o UPN do respectivo usuário.
   
  2. As permissões no diretório/HDP não estão definidas no momento como 751. Isso precisa ser definido como 
     ```bash
     chmod 751 /hdp 
     chmod –R 755 /hdp/apps
     ```

- **Spark 2,3**

  -   \[[*Spark-23523*](https://issues.apache.org/jira/browse/SPARK-23523)\]\[SQL\] resultado incorreto causado pela regra OptimizeMetadataOnlyQuery

  -   \[[*Spark-23406*](https://issues.apache.org/jira/browse/SPARK-23406)\] bugs nas autojunções do Stream-Stream

  -   Os notebooks de exemplo do Spark não estão disponíveis quando Azure Data Lake Storage (Gen2) é o armazenamento padrão do cluster.

- **Enterprise Security Package**

  - O servidor Spark Thrift não aceita conexões de clientes ODBC.
    Etapas de solução alternativa:
    1. Aguarde cerca de 15 minutos após a criação do cluster.
    2. Verifique a existência de hivesampletable_policy na interface do usuário do Ranger.
    3. Reinicie o serviço Spark.
       A conexão do STS deve funcionar agora.

- **Solução alternativa para falha na verificação do serviço Ranger**

  -   [Ranger-1607](https://issues.apache.org/jira/browse/RANGER-1607): solução alternativa para falha na verificação do serviço Ranger ao atualizar para HDP 2.6.2 de versões anteriores do HDP.

      > [!NOTE]  
      > Somente quando o Ranger está habilitado para SSL. 
     
  Esse problema ocorre ao tentar atualizar para HDP-2.6.1 de versões anteriores do HDP por meio do Ambari. O Ambari usa uma chamada de ondulação para fazer uma verificação de serviço para o serviço de Ranger no Ambari. Se a versão do JDK usada pelo Ambari for JDK-1,7, a chamada de ondulação falhará com o erro abaixo:
    
  `curl: (35) error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure`
    
  O motivo para esse erro é que a versão do Tomcat usada no Ranger é Tomcat-7.0.7\*. Usando o JDK-1,7 está em conflito com as codificações padrão fornecidas na\*Tomcat-7.0.7.
    
  Você pode resolver esse problema de duas maneiras:
    
  -   Atualize o JDK usado em Ambari do JDK-1,7 para JDK-1,8 (consulte a seção [alterar a versão do JDK](https://docs.hortonworks.com/HDPDocuments/Ambari-2.2.0.0/bk_ambari_reference_guide/content/ch_changing_the_jdk_version_on_an_existing_cluster.html) no guia de referência do Ambari).
    
  -   Se você quiser continuar a dar suporte a um ambiente JDK-1,7:
    
      1.  Adicione a propriedade Ranger. Tomcat. ciphers na seção Ranger-admin-site em sua configuração do Ambari Ranger com o valor abaixo:
            
          SSL\_RSA\_com\_RC4\_128\_MD5, SSL\_RSA\_com\_RC4\_128\_SHA, TLS\_RSA\_com\_AES\_128\_CBC\_SHA, SSL\_RSA\_com\_3DES\_EDE\_CBC\_SHA
        
      2.  Se seu ambiente estiver configurado para o Ranger-KMS, adicione a propriedade Ranger. Tomcat. ciphers na seção Ranger-kms-site em sua configuração do Ambari Ranger com o valor abaixo:
            
          SSL\_RSA\_com\_RC4\_128\_MD5, SSL\_RSA\_com\_RC4\_128\_SHA, TLS\_RSA\_com\_AES\_128\_CBC\_SHA, SSL\_RSA\_com\_3DES\_EDE\_CBC\_SHA
    
  >[!NOTE]  
  >Os valores indicados são exemplos de funcionamento e não podem ser indicativos do seu ambiente. Verifique se a maneira como você definiu essas propriedades corresponde à forma como o seu ambiente está configurado.   

- **RangerUI: escape do texto da condição da política inserido no formulário de política**
    
  **Componente afetado:** Ranger
    
  **Descrição do problema**
    
  Se um usuário quiser criar uma política com condições de política personalizada e a expressão ou o texto contiver caracteres especiais, a imposição de política não funcionará. Os caracteres especiais são convertidos em ASCII antes de salvar a política no banco de dados.
    
  **Caracteres especiais:**  & &lt; &gt; "\`"
    
  Por exemplo, as marcas de condição. Attributes\[' type '\]= ' abc ' serão convertidos para o seguinte depois que a política for salva.
    
  Tags. attds\[&\#X27; DSDS &\#X27;\]=&\#X27; cssdfs &\#X27;
    
  Você pode ver a condição da política com esses caracteres abrindo a política no modo de edição.
    
  **Solução**
    
  - **Opção \#1: criar/atualizar a política por meio da API REST do Ranger**
        
      URL REST: http://&lt;host&gt;: 6080/Service/plugins/Policies
        
      **Criando política com condição de política:**
        
      O exemplo a seguir criará a política com marcas como \`Tags –\` de teste e a atribuirá \`grupo de\` público com condição de política astags. attr\[' tipo '\]= = ' abc ' selecionando todas as permissões de componente do hive, como SELECT, Update, Create, drop, ALTER, index, Lock, todos.
        
      **Exemplo:**
        
      ```bash
        curl -H "Content-Type: application/json" -X POST http://localhost:6080/service/plugins/policies -u admin:admin -d '{"policyType":"0","name":"P100","isEnabled":true,"isAuditEnabled":true,"description":"","resources":{"tag":{"values":["tags-test"],"isRecursive":"","isExcludes":false}},"policyItems":[{"groups":["public"],"conditions":[{"type":"accessed-after-expiry","values":[]},{"type":"tag-expression","values":["tags.attr['type']=='abc'"]}],"accesses":[{"type":"hive:select","isAllowed":true},{"type":"hive:update","isAllowed":true},{"type":"hive:create","isAllowed":true},{"type":"hive:drop","isAllowed":true},{"type":"hive:alter","isAllowed":true},{"type":"hive:index","isAllowed":true},{"type":"hive:lock","isAllowed":true},{"type":"hive:all","isAllowed":true}]}],"denyPolicyItems":[],"allowExceptions":[],"denyExceptions":[],"service":"tagdev"}'
      ```
        
      **Atualizar política existente com condição de política:**
        
      O exemplo a seguir atualizará a política com marcas como \`Tags-Test\` e a atribuirá \`grupo de\` público com a condição de política astags. attr\[' tipo '\]= = ' abc ' selecionando todas as permissões de componente do hive, como SELECT, Update, Create, drop, ALTER, index, Lock, todos.
        
      URL REST: http://&lt;nome de host&gt;: 6080/serviço/plugins/políticas/política de&lt;-ID&gt;
        
      **Exemplo:**
        
      ```bash
        curl -H "Content-Type: application/json" -X PUT http://localhost:6080/service/plugins/policies/18 -u admin:admin -d '{"id":18,"guid":"ea78a5ed-07a5-447a-978d-e636b0490a54","isEnabled":true,"createdBy":"Admin","updatedBy":"Admin","createTime":1490802077000,"updateTime":1490802077000,"version":1,"service":"tagdev","name":"P0101","policyType":0,"description":"","resourceSignature":"e5fdb911a25aa7f77af5a9546938d9ed","isAuditEnabled":true,"resources":{"tag":{"values":["tags"],"isExcludes":false,"isRecursive":false}},"policyItems":[{"accesses":[{"type":"hive:select","isAllowed":true},{"type":"hive:update","isAllowed":true},{"type":"hive:create","isAllowed":true},{"type":"hive:drop","isAllowed":true},{"type":"hive:alter","isAllowed":true},{"type":"hive:index","isAllowed":true},{"type":"hive:lock","isAllowed":true},{"type":"hive:all","isAllowed":true}],"users":[],"groups":["public"],"conditions":[{"type":"ip-range","values":["tags.attributes['type']=abc"]}],"delegateAdmin":false}],"denyPolicyItems":[],"allowExceptions":[],"denyExceptions":[],"dataMaskPolicyItems":[],"rowFilterPolicyItems":[]}'
      ```
        
  - **Opção \#2: aplicar alterações de JavaScript**
        
      Etapas para atualizar o arquivo JS:
        
      1.  Descubra o arquivo de permissãolist. js em/usr/HDP/Current/Ranger-admin
        
      2.  Descubra a definição da função renderPolicyCondtion (line no: 404).
        
      3.  Remova a linha a seguir dessa função, ou seja, em Exibir função (linha n º: 434)
            
          Val = \_. escape (Val);//line n º: 460
            
          Depois de remover a linha acima, a interface do usuário do Ranger permitirá que você crie políticas com condição de política que possa conter caracteres especiais e avaliação de política será bem-sucedida para a mesma política.

**Integração do HDInsight com o ADLS Gen 2: problemas de diretórios e permissões de usuário com clusters ESP**
    1.  Os diretórios base para os usuários não estão sendo criados no nó de cabeçalho 1. A solução alternativa é criar esses manualmente e alterar a propriedade para o UPN do respectivo usuário.
    2.  As permissões em/HDP não estão definidas no momento como 751. Isso precisa ser definido como um.  chmod 751/HDP b.  chmod – R 755/HDP/apps

### <a name="deprecation"></a>Preterição

-   **Portal do OMS:** Removemos o link da página de recursos do HDInsight que estava apontando para o portal do OMS. Os logs de Azure Monitor usaram inicialmente seu próprio portal, chamado portal do OMS, para gerenciar sua configuração e analisar os dados coletados. Todas as funcionalidades deste portal foram movidas para o portal do Azure em que ele continuará a ser desenvolvido. O HDInsight preteriu o suporte para o portal do OMS. Os clientes usarão a integração dos logs de Azure Monitor do HDInsight no portal do Azure.

-   **Spark 2,3**

    -   <https://spark.apache.org/releases/spark-release-2-3-0.html#deprecations>

### <a name="upgrading"></a>Upgrade

Todos esses recursos estão disponíveis no HDInsight 3,6. Para obter a versão mais recente do Spark, Kafka e R Server (Serviços de Machine Learning), escolha a versão do Spark, Kafka, ML Services ao [criar um cluster HDInsight 3,6](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-provision-linux-clusters). Para obter suporte para ADLS, você pode escolher o tipo de armazenamento ADLS como uma opção. Os clusters existentes não serão atualizados para essas versões automaticamente.

Todos os novos clusters criados depois de junho de 2018 receberão automaticamente as mais de 1.000 correções de bugs em todos os projetos de código-fonte aberto. Siga [este](https://docs.microsoft.com/azure/hdinsight/hdinsight-upgrade-cluster) guia para obter as práticas recomendadas sobre como atualizar para uma versão mais recente do HDInsight.
