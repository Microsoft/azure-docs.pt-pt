---
author: DCtheGeek
ms.service: azure-policy
ms.topic: include
ms.date: 03/10/2021
ms.author: dacoulte
ms.custom: generated
ms.openlocfilehash: 9b24e3c345380a278f8a6bee1339e4b7b3e53fb8
ms.sourcegitcommit: d135e9a267fe26fbb5be98d2b5fd4327d355fe97
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 03/10/2021
ms.locfileid: "102619142"
---
|Name<br /><sub>(Portal Azure)</sub> |Description |Efeito(s) |Versão<br /><sub>(GitHub)</sub> |
|---|---|---|---|
|[As gamas IP autorizadas devem ser definidas nos Serviços Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F0e246bcf-5f6f-4f87-bc6f-775d4712c7ea) |Restringir o acesso à API de Gestão de Serviços Kubernetes, concedendo acesso a API apenas a endereços IP em intervalos específicos. Recomenda-se limitar o acesso a gamas IP autorizadas para garantir que apenas aplicações de redes permitidas possam aceder ao cluster. |Auditoria, Deficientes |[2.0.1](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Security%20Center/ASC_EnableIpRanges_KubernetesService_Audit.json) |
|[Azure Kubernetes Service Private Clusters deve ser ativado](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F040732e8-d947-40b8-95d6-854c95024bf8) |Ative a funcionalidade de cluster privado do seu cluster Azure Kubernetes Service para garantir o tráfego de rede entre o servidor API e as piscinas de nó permanece apenas na rede privada. Este é um requisito comum em muitas normas regulamentares e de conformidade da indústria. |Auditoria, Negar, Deficientes |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AKS_PrivateCluster_Deny.json) |
|[O Azure Policy Add-on para o serviço Kubernetes (AKS) deve ser instalado e ativado nos seus clusters](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F0a15ec92-a229-4763-bb14-0ea34a568f8d) |O Azure Policy Add-on for Kubernetes service (AKS) estende o Gatekeeper v3, um webhook do controlador de admissão para o Open Policy Agent (OPA), para aplicar aplicações e salvaguardas em escala nos seus clusters de forma centralizada e consistente. |Auditoria, Deficientes |[1.0.2](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AKS_AzurePolicyAddOn_Audit.json) |
|[Tanto os sistemas operativos como os discos de dados nos clusters de serviço Azure Kubernetes devem ser encriptados por chaves geridas pelo cliente](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F7d7be79c-23ba-4033-84dd-45e2a5ccdd67) |Encriptar os discos de SEGURANÇA e de dados utilizando as chaves geridas pelo cliente proporciona mais controlo e maior flexibilidade na gestão das chaves. Este é um requisito comum em muitas normas regulamentares e de conformidade da indústria. |Auditoria, Negar, Deficientes |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AKS_CMK_Deny.json) |
|[Configure agrupamentos kubernetes com configuração especificada de GitOps usando segredos HTTPS](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fa6f560f4-f582-4b67-b123-a37dcd1bf7ea) |Implemente uma "sourceControlConfiguration" nos clusters de Kubernetes para garantir que os clusters obtenham a sua fonte de verdade para cargas de trabalho e configurações a partir do repo git definido. Esta definição requer o utilizador HTTPS e os segredos chave armazenados no Key Vault. Para instruções, [https://aka.ms/K8sGitOpsPolicy](https://aka.ms/K8sGitOpsPolicy) visite. |deployIfNotExists, auditIfNotExists, desativado |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/Deploy-GitOps-to-Kubernetes-cluster-HTTPS-secrets_DINE.json) |
|[Configure aglomerados Kubernetes com configuração especificada de GitOps usando nenhum segredo](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F1d61c4d2-aef2-432b-87fc-7f96b019b7e1) |Implemente uma "sourceControlConfiguration" nos clusters de Kubernetes para garantir que os clusters obtenham a sua fonte de verdade para cargas de trabalho e configurações a partir do repo git definido. Esta definição não requer segredos. Para instruções, [https://aka.ms/K8sGitOpsPolicy](https://aka.ms/K8sGitOpsPolicy) visite. |deployIfNotExists, auditIfNotExists, desativado |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/Deploy-GitOps-to-Kubernetes-cluster-no-secrets_DINE.json) |
|[Configure aglomerados Kubernetes com configuração especificada de GitOps usando segredos SSH](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fc050047b-b21b-4822-8a2d-c1e37c3c0c6a) |Implemente uma "sourceControlConfiguration" nos clusters de Kubernetes para garantir que os clusters obtenham a sua fonte de verdade para cargas de trabalho e configurações a partir do repo git definido. Esta definição requer um segredo chave privado SSH em Key Vault. Para instruções, [https://aka.ms/K8sGitOpsPolicy](https://aka.ms/K8sGitOpsPolicy) visite. |deployIfNotExists, auditIfNotExists, desativado |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/Deploy-GitOps-to-Kubernetes-cluster-SSH-secrets_DINE.json) |
|[Implementar - Configurar configurações de diagnóstico para o Serviço Azure Kubernetes para log analytics espaço de trabalho](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F6c66c325-74c8-42fd-a286-a74b0e2939d8) |Implementa as definições de diagnóstico do Serviço Azure Kubernetes para transmitir registos de recursos para um espaço de trabalho do Log Analytics. |ImplementarIfNotExists, Desativado |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/DataConnectosAzureKubernetes_PolicyAssignment.json) |
|[Implementar add-on de política Azure para clusters de serviço Azure Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fa8eff44f-8c92-45c3-a3fb-9880802d67a7) |Utilize o Azure Policy Add-on para gerir e reportar sobre o estado de conformidade dos seus clusters Azure Kubernetes Service (AKS). Para obter mais informações, veja [https://aka.ms/akspolicydoc](https://aka.ms/akspolicydoc). |implementarIfNotExists |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AKS_AzurePolicyAddOn_Deploy.json) |
|[Os contentores de agrupamentos Kubernetes CPU e os limites de recursos de memória não devem exceder os limites especificados](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fe345eecc-fa47-480f-9e88-67dcc122b164) |Aplique os limites de CPU de contentores e de recursos de memória para evitar ataques de exaustão de recursos num cluster Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerResourceLimits.json) |
|[Os recipientes de cluster Kubernetes não devem partilhar o ID do processo de anfitrião ou o espaço de nomes do IPC anfitrião](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F47a1ee2f-2a2a-4576-bf2a-e0e36709c2b8) |Bloqueie os recipientes de pod de partilhar o espaço de identificação do processo de anfitrião e hospedar o espaço de nome IPC num cluster Kubernetes. Esta recomendação faz parte do CIS 5.2.2 e do CIS 5.2.3 que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/BlockHostNamespace.json) |
|[Os contentores de agrupamento kubernetes só devem ouvir em portas permitidas](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F440b515e-a580-421e-abeb-b159a61ddcbc) |Restringir os contentores para ouvir apenas em portas autorizadas para garantir o acesso ao cluster Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.1.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerAllowedPorts.json) |
|[Os contentores de cluster Kubernetes só devem utilizar perfis AppArmor permitidos](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F511f5417-5d12-434d-ab2e-816901e72a5e) |Os contentores só devem utilizar perfis AppArmor permitidos num cluster Kubernetes. Esta recomendação faz parte das Políticas de Segurança da Pod que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/EnforceAppArmorProfile.json) |
|[Os contentores de agrupamento kubernetes só devem utilizar capacidades permitidas](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fc26596ff-4d70-4e6a-9a30-c2506bd2f80c) |Restringir as capacidades para reduzir a superfície de ataque de contentores num aglomerado de Kubernetes. Esta recomendação faz parte do CIS 5.2.8 e do CIS 5.2.9 que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerAllowedCapabilities.json) |
|[Os contentores de agrupamento kubernetes só devem usar imagens permitidas](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Ffebd0533-8e55-448f-b837-bd0e06f16469) |Utilize imagens de registos fidedignos para reduzir o risco de exposição do cluster Kubernetes a vulnerabilidades desconhecidas, problemas de segurança e imagens maliciosas. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.1.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerAllowedImages.json) |
|[Os recipientes de agrupamento kubernetes só devem utilizar perfis de seccomp permitidos](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F975ce327-682c-4f2e-aa46-b9598289b86c) |Os recipientes de pod só podem usar perfis de seccomp permitidos num cluster Kubernetes. Esta recomendação faz parte das Políticas de Segurança da Pod que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AllowedSeccompProfile.json) |
|[Os recipientes de cluster Kubernetes devem funcionar com um sistema de ficheiros de raiz apenas lido](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fdf49d893-a74c-421d-bc95-c663042e5b80) |Executar recipientes com um sistema de ficheiros de raiz apenas lido para proteger contra alterações no tempo de execução, com binários maliciosos adicionados ao PATH num cluster Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ReadOnlyRootFileSystem.json) |
|[Os volumes do cluster De Kubernetes FlexVolume só devem utilizar condutores permitidos](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Ff4a8fce0-2dd5-4c21-9a36-8f0ec809d663) |Os volumes Pod FlexVolume só devem utilizar controladores permitidos num cluster Kubernetes. Esta recomendação faz parte das Políticas de Segurança da Pod que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/FlexVolumeDrivers.json) |
|[Os volumes de hospedeiros de cluster Kubernetes só devem utilizar caminhos de hospedeiro permitidos](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F098fc59e-46c7-4d99-9b16-64990e543d75) |O volume do hostPath limita-se aos caminhos de hospedeiro permitidos num Cluster Kubernetes. Esta recomendação faz parte das Políticas de Segurança da Pod que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AllowedHostPaths.json) |
|[As cápsulas e contentores de cluster Kubernetes só devem funcionar com iDs de utilizador e grupo aprovados](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Ff06ddb64-5fa3-4b77-b166-acb36f7f6042) |Controle o utilizador, grupo primário, grupo suplementar e iDs do grupo de sistemas de ficheiros que as cápsulas e recipientes podem usar para funcionar num Cluster Kubernetes. Esta recomendação faz parte das Políticas de Segurança da Pod que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AllowedUsersGroups.json) |
|[As cápsulas de cluster Kubernetes só devem utilizar tipos de volume permitidos](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F16697877-1118-4fb1-9b65-9898ec2509ec) |As cápsulas só podem utilizar tipos de volume permitidos num cluster Kubernetes. Esta recomendação faz parte das Políticas de Segurança da Pod que se destinam a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AllowedVolumeTypes.json) |
|[As cápsulas de cluster Kubernetes só devem utilizar a rede de anfitriões aprovada e a gama portuária](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F82985f06-dc18-4a48-bc1c-b9f4f0098cfe) |Restringir o acesso do pod à rede de anfitriões e à gama de portas de hospedeiro admissível num cluster Kubernetes. Esta recomendação faz parte do CIS 5.2.4 que se destina a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/HostNetworkPorts.json) |
|[As cápsulas de agrupamento kubernetes devem usar rótulos especificados](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F46592696-4c7b-4bf3-9e45-6c2763bdc0a6) |Utilize etiquetas especificadas para identificar as cápsulas num cluster Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/PodEnforceLabels.json) |
|[Os serviços de cluster kubernetes só devem ouvir em portas permitidas](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F233a2a17-77ca-4fb1-9b6b-69223d272a44) |Restringir os serviços para ouvir apenas em portas permitidas para garantir o acesso ao cluster Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.1.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ServiceAllowedPorts.json) |
|[Os serviços de cluster Kubernetes só devem utilizar iPs externos permitidos](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fd46c275d-1680-448d-b2ec-e495a3b6cc89) |A utilização permitiu que os IPs externos evitassem o potencial ataque (CVE-2020-8554) num cluster kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[2.0.0-pré-visualização](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AllowedExternalIPs.json) |
|[O cluster Kubernetes não deve permitir contentores privilegiados](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F95edb821-ddaf-4404-9732-666045e056b4) |Não permita a criação de contentores privilegiados num aglomerado de Kubernetes. Esta recomendação faz parte do CIS 5.2.1 que se destina a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerNoPrivilege.json) |
|[Os clusters Kubernetes só devem estar acessíveis em HTTPS](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F1a5b4dca-0b6f-4cf5-907c-56316bc1bf3d) |A utilização do HTTPS garante a autenticação e protege os dados em trânsito contra ataques de escutas de camadas de rede. Esta capacidade está atualmente disponível para o Serviço Kubernetes (AKS), e na pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para mais informações, visite [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc) |auditoria, negação, desativado |[6.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/IngressHttpsOnly.json) |
|[Os clusters Kubernetes devem desativar as credenciais de API de acesso automático](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F423dd1ba-798e-40e4-9c4d-b6902674b423) |Desative as credenciais de API desativação automática para evitar que um recurso pod potencialmente comprometido para executar comandos API contra clusters Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[2.0.0-pré-visualização](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/BlockAutomountToken.json) |
|[Os clusters do Kubernetes não devem permitir o escalamento de privilégios dos contentores](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F1c6e92c9-99f0-4e55-9cf2-0c234dc48f99) |Não permita que os recipientes corram com uma escalada de privilégio para enraizar num aglomerado de Kubernetes. Esta recomendação faz parte do CIS 5.2.5 que se destina a melhorar a segurança dos seus ambientes Kubernetes. Esta política está geralmente disponível para o Serviço Kubernetes (AKS), e pré-visualização para AKS Engine e Azure Arc habilitado a Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[3.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerNoPrivilegeEscalation.json) |
|[Os clusters Kubernetes não devem conceder capacidades de segurança CAP_SYS_ADMIN](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fd2e7ea85-6b44-4317-a0be-1b951587f626) |Para reduzir a superfície de ataque dos seus contentores, restringir CAP_SYS_ADMIN capacidades linux. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[2.0.0-pré-visualização](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerDisallowedSysAdminCapability.json) |
|[Os clusters Kubernetes não devem usar capacidades de segurança específicas](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fa27c700f-8a22-44ec-961c-41625264370b) |Prevenir capacidades de segurança específicas em clusters Kubernetes para evitar privilégios não-resmungões no recurso Pod. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[2.0.0-pré-visualização](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/ContainerDisallowedCapabilities.json) |
|[Os clusters Kubernetes não devem usar o espaço de nome padrão](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F9f061a12-e40d-4183-a00e-171812443373) |Impedir a utilização do espaço de nome padrão nos clusters Kubernetes para proteger contra o acesso não autorizado para os tipos de recursos ConfigMap, Pod, Secret, Service e ServiceAccount. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[2.0.0-pré-visualização](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/BlockDefaultNamespace.json) |
|[Os clusters kubernetes devem usar equilibradores internos de carga](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F3fc4dc25-5baf-40d8-9b05-7fe74c1bc64e) |Utilize equilibradores de carga internos para tornar um serviço Kubernetes acessível apenas a aplicações que estão a funcionar na mesma rede virtual que o cluster Kubernetes. Para obter mais informações, veja [https://aka.ms/kubepolicydoc](https://aka.ms/kubepolicydoc). |auditoria, negação, desativado |[6.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/LoadbalancerNoPublicIPs.json) |
|[Os Serviços Kubernetes devem ser atualizados para uma versão não vulnerável de Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Ffb893a29-21bb-418c-a157-e99480ec364c) |Atualize o seu cluster de serviços Kubernetes para uma versão mais tarde da Kubernetes para proteger contra vulnerabilidades conhecidas na sua versão atual de Kubernetes. Vulnerabilidade CVE-2019-9946 foi corrigida nas versões Kubernetes 1.11.9+, 1.12.7+, 1.13.5+, e 1.14.0+ |Auditoria, Deficientes |[1.0.2](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Security%20Center/ASC_UpgradeVersion_KubernetesService_Audit.json) |
|[O Controlo de Acesso Baseado em Função (RBAC) deve ser utilizado nos serviços kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2Fac4a19c2-fa67-49b4-8ae5-0b2e78c49457) |Para fornecer filtragem granular sobre as ações que os utilizadores podem executar, utilize Role-Based Access Control (RBAC) para gerir permissões em Clusters de Serviços Kubernetes e configurar políticas de autorização relevantes. |Auditoria, Deficientes |[1.0.2](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Security%20Center/ASC_EnableRBAC_KubernetesService_Audit.json) |
|[Os discos temporários e a cache para piscinas de nó de agente em clusters de serviço Azure Kubernetes devem ser encriptados no hospedeiro](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2Fproviders%2FMicrosoft.Authorization%2FpolicyDefinitions%2F41425d9f-d1a5-499a-9932-f8ed8453932c) |Para melhorar a segurança dos dados, os dados armazenados na máquina virtual (VM) do seu VM de serviço Azure Kubernetes devem ser encriptados em repouso. Este é um requisito comum em muitas normas regulamentares e de conformidade da indústria. |Auditoria, Negar, Deficientes |[1.0.0](https://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/Kubernetes/AKS_EncryptionAtHost_Deny.json) |
